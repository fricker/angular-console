!function(r){function e(e){for(var t,p,c=e[0],a=e[1],f=e[2],l=0,s=[];l<c.length;l++)o[p=c[l]]&&s.push(o[p][0]),o[p]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(r[t]=a[t]);for(i&&i(e);s.length;)s.shift()();return u.push.apply(u,f||[]),n()}function n(){for(var r,e=0;e<u.length;e++){for(var n=u[e],t=!0,c=1;c<n.length;c++)0!==o[n[c]]&&(t=!1);t&&(u.splice(e--,1),r=p(p.s=n[0]))}return r}var t={},o={0:0},u=[];function p(e){if(t[e])return t[e].exports;var n=t[e]={i:e,l:!1,exports:{}};return r[e].call(n.exports,n,n.exports,p),n.l=!0,n.exports}p.m=r,p.c=t,p.d=function(r,e,n){p.o(r,e)||Object.defineProperty(r,e,{configurable:!1,enumerable:!0,get:n})},p.r=function(r){Object.defineProperty(r,"__esModule",{value:!0})},p.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return p.d(e,"a",e),e},p.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},p.p="";var c=window.webpackJsonp=window.webpackJsonp||[],a=c.push.bind(c);c.push=e,c=c.slice();for(var f=0;f<c.length;f++)e(c[f]);var i=a;n()}([]);(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+GHM":function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"/k44":function(t,e,n){var r=n("mKvt").f,o=n("2Kj7"),i=n("BTYL")("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},"0B1B":function(t,e,n){"use strict";var r=n("+GHM"),o=n("mKvt"),i=n("4uWt"),a=n("BTYL")("species");t.exports=function(t){var e=r[t];i&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},"0rRJ":function(t,e,n){var r=n("DiYy"),o=n("ash5"),i=n("scvP"),a=n("OVVJ"),c=n("19Br"),u=n("K1J3"),s={},l={};(e=t.exports=function(t,e,n,f,p){var h,v,d,g,y=p?function(){return t}:u(t),m=r(n,f,e?2:1),_=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(i(y)){for(h=c(t.length);h>_;_++)if((g=e?m(a(v=t[_])[0],v[1]):m(t[_]))===s||g===l)return g}else for(d=y.call(t);!(v=d.next()).done;)if((g=o(d,m,v.value,e))===s||g===l)return g}).BREAK=s,e.RETURN=l},"1+ju":function(t,e,n){"use strict";var r,o=n("lyTa")(0),i=n("qFxi"),a=n("QEqi"),c=n("by/p"),u=n("Rw0P"),s=n("K4R8"),l=n("wPZh"),f=n("EdrW"),p=a.getWeak,h=Object.isExtensible,v=u.ufstore,d={},g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(t){if(s(t)){var e=p(t);return!0===e?v(f(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(f(this,"WeakMap"),t,e)}},m=t.exports=n("WKT/")("WeakMap",g,y,u,!0,!0);l(function(){return 7!=(new m).set((Object.freeze||Object)(d),7).get(d)})&&(c((r=u.getConstructor(g,"WeakMap")).prototype,y),a.NEED=!0,o(["delete","has","get","set"],function(t){var e=m.prototype,n=e[t];i(e,t,function(e,o){if(s(e)&&!h(e)){this._f||(this._f=new r);var i=this._f[t](e,o);return"set"==t?this:i}return n.call(this,e,o)})}))},"10Ty":function(t,e,n){var r=n("4ogf"),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},"19Br":function(t,e,n){var r=n("4ogf"),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},"1FmS":function(t,e,n){n("7cq6"),n("WBXY"),n("xLMC"),n("aqVC"),n("M/xr"),n("X32H"),n("2FjB"),n("prMh"),n("wyjG"),t.exports=n("5OaY").Reflect},2:function(t,e,n){t.exports=n("hN/g")},"2FjB":function(t,e,n){var r=n("NN7E"),o=n("OVVJ"),i=n("skTP"),a=r.has,c=r.key,u=function(t,e,n){if(a(t,e,n))return!0;var r=i(e);return null!==r&&u(t,r,n)};r.exp({hasMetadata:function(t,e){return u(t,o(e),arguments.length<3?void 0:c(arguments[2]))}})},"2Kj7":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"2jpF":function(t,e,n){var r=n("K4R8"),o=n("+GHM").document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},"3C0p":function(t,e,n){var r=n("UVmr"),o=n("WjqP"),i=n("RqvA"),a=n("EAhc"),c=n("2Kj7"),u=n("TynG"),s=Object.getOwnPropertyDescriptor;e.f=n("4uWt")?s:function(t,e){if(t=i(t),e=a(e,!0),u)try{return s(t,e)}catch(t){}if(c(t,e))return o(!r.f.call(t,e),t[e])}},"4ogf":function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},"4uWt":function(t,e,n){t.exports=!n("wPZh")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"5Hla":function(t,e,n){var r=n("0rRJ");t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},"5OaY":function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},"7cq6":function(t,e,n){var r=n("NN7E"),o=n("OVVJ"),i=r.key,a=r.set;r.exp({defineMetadata:function(t,e,n,r){a(t,e,o(n),i(r))}})},"97KV":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},BTYL:function(t,e,n){var r=n("JnlH")("wks"),o=n("RQm6"),i=n("+GHM").Symbol,a="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=r},DiYy:function(t,e,n){var r=n("lUSX");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},E4VN:function(t,e,n){var r=n("qFxi");t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},EAhc:function(t,e,n){var r=n("K4R8");t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},EdrW:function(t,e,n){var r=n("K4R8");t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},Ftc7:function(t,e,n){var r=n("os43"),o=n("BTYL")("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},HwN8:function(t,e,n){var r=n("mKvt"),o=n("WjqP");t.exports=n("4uWt")?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},Iv7f:function(t,e,n){var r=n("+GHM"),o=n("5OaY"),i=n("HwN8"),a=n("qFxi"),c=n("DiYy"),u=function(t,e,n){var s,l,f,p,h=t&u.F,v=t&u.G,d=t&u.P,g=t&u.B,y=v?r:t&u.S?r[e]||(r[e]={}):(r[e]||{}).prototype,m=v?o:o[e]||(o[e]={}),_=m.prototype||(m.prototype={});for(s in v&&(n=e),n)f=((l=!h&&y&&void 0!==y[s])?y:n)[s],p=g&&l?c(f,r):d&&"function"==typeof f?c(Function.call,f):f,y&&a(y,s,f,t&u.U),m[s]!=f&&i(m,s,p),d&&_[s]!=f&&(_[s]=f)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},JnlH:function(t,e,n){var r=n("5OaY"),o=n("+GHM"),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("i3hV")?"pure":"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})},Jqtf:function(t,e,n){!function(t,e){e()}(0,function(){"use strict";!function(t){var e=t.performance;function n(t){e&&e.mark&&e.mark(t)}function r(t,n){e&&e.measure&&e.measure(t,n)}if(n("Zone"),t.Zone)throw new Error("Zone already loaded.");var o,i=function(){function e(t,e){this._properties=null,this._parent=t,this._name=e?e.name||"unnamed":"<root>",this._properties=e&&e.properties||{},this._zoneDelegate=new c(this,this._parent&&this._parent._zoneDelegate,e)}return e.assertZonePatched=function(){if(t.Promise!==x.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")},Object.defineProperty(e,"root",{get:function(){for(var t=e.current;t.parent;)t=t.parent;return t},enumerable:!0,configurable:!0}),Object.defineProperty(e,"current",{get:function(){return P.zone},enumerable:!0,configurable:!0}),Object.defineProperty(e,"currentTask",{get:function(){return j},enumerable:!0,configurable:!0}),e.__load_patch=function(o,i){if(x.hasOwnProperty(o))throw Error("Already loaded patch: "+o);if(!t["__Zone_disable_"+o]){var a="Zone:"+o;n(a),x[o]=i(t,e,S),r(a,a)}},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var e=this.getZoneWith(t);if(e)return e._properties[t]},e.prototype.getZoneWith=function(t){for(var e=this;e;){if(e._properties.hasOwnProperty(t))return e;e=e._parent}return null},e.prototype.fork=function(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)},e.prototype.wrap=function(t,e){if("function"!=typeof t)throw new Error("Expecting function got: "+t);var n=this._zoneDelegate.intercept(this,t,e),r=this;return function(){return r.runGuarded(n,this,arguments,e)}},e.prototype.run=function(t,e,n,r){void 0===e&&(e=void 0),void 0===n&&(n=null),void 0===r&&(r=null),P={parent:P,zone:this};try{return this._zoneDelegate.invoke(this,t,e,n,r)}finally{P=P.parent}},e.prototype.runGuarded=function(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null),P={parent:P,zone:this};try{try{return this._zoneDelegate.invoke(this,t,e,n,r)}catch(t){if(this._zoneDelegate.handleError(this,t))throw t}}finally{P=P.parent}},e.prototype.runTask=function(t,e,n){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||g).name+"; Execution: "+this.name+")");if(t.state!==y||t.type!==O){var r=t.state!=k;r&&t._transitionTo(k,_),t.runCount++;var o=j;j=t,P={parent:P,zone:this};try{t.type==E&&t.data&&!t.data.isPeriodic&&(t.cancelFn=null);try{return this._zoneDelegate.invokeTask(this,t,e,n)}catch(t){if(this._zoneDelegate.handleError(this,t))throw t}}finally{t.state!==y&&t.state!==T&&(t.type==O||t.data&&t.data.isPeriodic?r&&t._transitionTo(_,k):(t.runCount=0,this._updateTaskCount(t,-1),r&&t._transitionTo(y,k,y))),P=P.parent,j=o}}},e.prototype.scheduleTask=function(t){if(t.zone&&t.zone!==this)for(var e=this;e;){if(e===t.zone)throw Error("can not reschedule task to "+this.name+" which is descendants of the original zone "+t.zone.name);e=e.parent}t._transitionTo(m,y);var n=[];t._zoneDelegates=n,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(e){throw t._transitionTo(T,m,y),this._zoneDelegate.handleError(this,e),e}return t._zoneDelegates===n&&this._updateTaskCount(t,1),t.state==m&&t._transitionTo(_,m),t},e.prototype.scheduleMicroTask=function(t,e,n,r){return this.scheduleTask(new u(w,t,e,n,r,null))},e.prototype.scheduleMacroTask=function(t,e,n,r,o){return this.scheduleTask(new u(E,t,e,n,r,o))},e.prototype.scheduleEventTask=function(t,e,n,r,o){return this.scheduleTask(new u(O,t,e,n,r,o))},e.prototype.cancelTask=function(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||g).name+"; Execution: "+this.name+")");t._transitionTo(b,_,k);try{this._zoneDelegate.cancelTask(this,t)}catch(e){throw t._transitionTo(T,b),this._zoneDelegate.handleError(this,e),e}return this._updateTaskCount(t,-1),t._transitionTo(y,b),t.runCount=0,t},e.prototype._updateTaskCount=function(t,e){var n=t._zoneDelegates;-1==e&&(t._zoneDelegates=null);for(var r=0;r<n.length;r++)n[r]._updateTaskCount(t.type,e)},e.__symbol__=z,e}(),a={name:"",onHasTask:function(t,e,n,r){return t.hasTask(n,r)},onScheduleTask:function(t,e,n,r){return t.scheduleTask(n,r)},onInvokeTask:function(t,e,n,r,o,i){return t.invokeTask(n,r,o,i)},onCancelTask:function(t,e,n,r){return t.cancelTask(n,r)}},c=function(){function t(t,e,n){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=t,this._parentDelegate=e,this._forkZS=n&&(n&&n.onFork?n:e._forkZS),this._forkDlgt=n&&(n.onFork?e:e._forkDlgt),this._forkCurrZone=n&&(n.onFork?this.zone:e.zone),this._interceptZS=n&&(n.onIntercept?n:e._interceptZS),this._interceptDlgt=n&&(n.onIntercept?e:e._interceptDlgt),this._interceptCurrZone=n&&(n.onIntercept?this.zone:e.zone),this._invokeZS=n&&(n.onInvoke?n:e._invokeZS),this._invokeDlgt=n&&(n.onInvoke?e:e._invokeDlgt),this._invokeCurrZone=n&&(n.onInvoke?this.zone:e.zone),this._handleErrorZS=n&&(n.onHandleError?n:e._handleErrorZS),this._handleErrorDlgt=n&&(n.onHandleError?e:e._handleErrorDlgt),this._handleErrorCurrZone=n&&(n.onHandleError?this.zone:e.zone),this._scheduleTaskZS=n&&(n.onScheduleTask?n:e._scheduleTaskZS),this._scheduleTaskDlgt=n&&(n.onScheduleTask?e:e._scheduleTaskDlgt),this._scheduleTaskCurrZone=n&&(n.onScheduleTask?this.zone:e.zone),this._invokeTaskZS=n&&(n.onInvokeTask?n:e._invokeTaskZS),this._invokeTaskDlgt=n&&(n.onInvokeTask?e:e._invokeTaskDlgt),this._invokeTaskCurrZone=n&&(n.onInvokeTask?this.zone:e.zone),this._cancelTaskZS=n&&(n.onCancelTask?n:e._cancelTaskZS),this._cancelTaskDlgt=n&&(n.onCancelTask?e:e._cancelTaskDlgt),this._cancelTaskCurrZone=n&&(n.onCancelTask?this.zone:e.zone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;var r=n&&n.onHasTask;(r||e&&e._hasTaskZS)&&(this._hasTaskZS=r?n:a,this._hasTaskDlgt=e,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=t,n.onScheduleTask||(this._scheduleTaskZS=a,this._scheduleTaskDlgt=e,this._scheduleTaskCurrZone=this.zone),n.onInvokeTask||(this._invokeTaskZS=a,this._invokeTaskDlgt=e,this._invokeTaskCurrZone=this.zone),n.onCancelTask||(this._cancelTaskZS=a,this._cancelTaskDlgt=e,this._cancelTaskCurrZone=this.zone))}return t.prototype.fork=function(t,e){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,t,e):new i(t,e)},t.prototype.intercept=function(t,e,n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,t,e,n):e},t.prototype.invoke=function(t,e,n,r,o){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,t,e,n,r,o):e.apply(n,r)},t.prototype.handleError=function(t,e){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,t,e)},t.prototype.scheduleTask=function(t,e){var n=e;if(this._scheduleTaskZS)this._hasTaskZS&&n._zoneDelegates.push(this._hasTaskDlgtOwner),(n=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,t,e))||(n=e);else if(e.scheduleFn)e.scheduleFn(e);else{if(e.type!=w)throw new Error("Task is missing scheduleFn.");v(e)}return n},t.prototype.invokeTask=function(t,e,n,r){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,t,e,n,r):e.callback.apply(n,r)},t.prototype.cancelTask=function(t,e){var n;if(this._cancelTaskZS)n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,t,e);else{if(!e.cancelFn)throw Error("Task is not cancelable");n=e.cancelFn(e)}return n},t.prototype.hasTask=function(t,e){try{return this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,t,e)}catch(e){this.handleError(t,e)}},t.prototype._updateTaskCount=function(t,e){var n=this._taskCounts,r=n[t],o=n[t]=r+e;if(o<0)throw new Error("More tasks executed then were scheduled.");0!=r&&0!=o||this.hasTask(this.zone,{microTask:n.microTask>0,macroTask:n.macroTask>0,eventTask:n.eventTask>0,change:t})},t}(),u=function(){function e(n,r,o,i,a,c){this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=n,this.source=r,this.data=i,this.scheduleFn=a,this.cancelFn=c,this.callback=o;var u=this;this.invoke=n===O&&i&&i.useG?e.invokeTask:function(){return e.invokeTask.call(t,u,this,arguments)}}return e.invokeTask=function(t,e,n){t||(t=this),D++;try{return t.runCount++,t.zone.runTask(t,e,n)}finally{1==D&&d(),D--}},Object.defineProperty(e.prototype,"zone",{get:function(){return this._zone},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.cancelScheduleRequest=function(){this._transitionTo(y,m)},e.prototype._transitionTo=function(t,e,n){if(this._state!==e&&this._state!==n)throw new Error(this.type+" '"+this.source+"': can not transition to '"+t+"', expecting state '"+e+"'"+(n?" or '"+n+"'":"")+", was '"+this._state+"'.");this._state=t,t==y&&(this._zoneDelegates=null)},e.prototype.toString=function(){return this.data&&void 0!==this.data.handleId?this.data.handleId:Object.prototype.toString.call(this)},e.prototype.toJSON=function(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}},e}(),s=z("setTimeout"),l=z("Promise"),f=z("then"),p=[],h=!1;function v(e){0===D&&0===p.length&&(o||t[l]&&(o=t[l].resolve(0)),o?o[f](d):t[s](d,0)),e&&p.push(e)}function d(){if(!h){for(h=!0;p.length;){var t=p;p=[];for(var e=0;e<t.length;e++){var n=t[e];try{n.zone.runTask(n,null,null)}catch(t){S.onUnhandledError(t)}}}S.microtaskDrainDone(),h=!1}}var g={name:"NO ZONE"},y="notScheduled",m="scheduling",_="scheduled",k="running",b="canceling",T="unknown",w="microTask",E="macroTask",O="eventTask",x={},S={symbol:z,currentZoneFrame:function(){return P},onUnhandledError:Z,microtaskDrainDone:Z,scheduleMicroTask:v,showUncaughtError:function(){return!i[z("ignoreConsoleErrorUncaughtError")]},patchEventTarget:function(){return[]},patchOnProperties:Z,patchMethod:function(){return Z},bindArguments:function(){return null},setNativePromise:function(t){t&&"function"==typeof t.resolve&&(o=t.resolve(0))}},P={parent:null,zone:new i(null,null)},j=null,D=0;function Z(){}function z(t){return"__zone_symbol__"+t}r("Zone","Zone"),t.Zone=i}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global),Zone.__load_patch("ZoneAwarePromise",function(t,e,n){var r=Object.getOwnPropertyDescriptor,o=Object.defineProperty,i=n.symbol,a=[],c=i("Promise"),u=i("then"),s="__creationTrace__";n.onUnhandledError=function(t){if(n.showUncaughtError()){var e=t&&t.rejection;e?console.error("Unhandled Promise rejection:",e instanceof Error?e.message:e,"; Zone:",t.zone.name,"; Task:",t.task&&t.task.source,"; Value:",e,e instanceof Error?e.stack:void 0):console.error(t)}},n.microtaskDrainDone=function(){for(;a.length;)for(var t=function(){var t=a.shift();try{t.zone.runGuarded(function(){throw t})}catch(t){f(t)}};a.length;)t()};var l=i("unhandledPromiseRejectionHandler");function f(t){n.onUnhandledError(t);try{var r=e[l];r&&"function"==typeof r&&r.call(this,t)}catch(t){}}function p(t){return t&&t.then}function h(t){return t}function v(t){return M.reject(t)}var d=i("state"),g=i("value"),y=i("finally"),m=i("parentPromiseValue"),_=i("parentPromiseState"),k="Promise.then",b=null,T=!0,w=!1,E=0;function O(t,e){return function(n){try{j(t,e,n)}catch(e){j(t,!1,e)}}}var x=function(){var t=!1;return function(e){return function(){t||(t=!0,e.apply(null,arguments))}}},S="Promise resolved with itself",P=i("currentTaskTrace");function j(t,r,i){var c=x();if(t===i)throw new TypeError(S);if(t[d]===b){var u=null;try{"object"!=typeof i&&"function"!=typeof i||(u=i&&i.then)}catch(e){return c(function(){j(t,!1,e)})(),t}if(r!==w&&i instanceof M&&i.hasOwnProperty(d)&&i.hasOwnProperty(g)&&i[d]!==b)Z(i),j(t,i[d],i[g]);else if(r!==w&&"function"==typeof u)try{u.call(i,c(O(t,r)),c(O(t,!1)))}catch(e){c(function(){j(t,!1,e)})()}else{t[d]=r;var l=t[g];if(t[g]=i,t[y]===y&&r===T&&(t[d]=t[_],t[g]=t[m]),r===w&&i instanceof Error){var f=e.currentTask&&e.currentTask.data&&e.currentTask.data[s];f&&o(i,P,{configurable:!0,enumerable:!1,writable:!0,value:f})}for(var p=0;p<l.length;)z(t,l[p++],l[p++],l[p++],l[p++]);if(0==l.length&&r==w){t[d]=E;try{throw new Error("Uncaught (in promise): "+function(t){return t&&t.toString===Object.prototype.toString?(t.constructor&&t.constructor.name||"")+": "+JSON.stringify(t):t?t.toString():Object.prototype.toString.call(t)}(i)+(i&&i.stack?"\n"+i.stack:""))}catch(r){var h=r;h.rejection=i,h.promise=t,h.zone=e.current,h.task=e.currentTask,a.push(h),n.scheduleMicroTask()}}}}return t}var D=i("rejectionHandledHandler");function Z(t){if(t[d]===E){try{var n=e[D];n&&"function"==typeof n&&n.call(this,{rejection:t[g],promise:t})}catch(t){}t[d]=w;for(var r=0;r<a.length;r++)t===a[r].promise&&a.splice(r,1)}}function z(t,e,n,r,o){Z(t);var i=t[d],a=i?"function"==typeof r?r:h:"function"==typeof o?o:v;e.scheduleMicroTask(k,function(){try{var r=t[g],o=n&&y===n[y];o&&(n[m]=r,n[_]=i);var c=e.run(a,void 0,o&&a!==v&&a!==h?[]:[r]);j(n,!0,c)}catch(t){j(n,!1,t)}},n)}var M=function(){function t(e){if(!(this instanceof t))throw new Error("Must be an instanceof Promise.");this[d]=b,this[g]=[];try{e&&e(O(this,T),O(this,w))}catch(t){j(this,!1,t)}}return t.toString=function(){return"function ZoneAwarePromise() { [native code] }"},t.resolve=function(t){return j(new this(null),T,t)},t.reject=function(t){return j(new this(null),w,t)},t.race=function(t){var e,n,r=new this(function(t,r){e=t,n=r});function o(t){r&&(r=e(t))}function i(t){r&&(r=n(t))}for(var a=0,c=t;a<c.length;a++){var u=c[a];p(u)||(u=this.resolve(u)),u.then(o,i)}return r},t.all=function(t){for(var e,n,r=new this(function(t,r){e=t,n=r}),o=0,i=[],a=0,c=t;a<c.length;a++){var u=c[a];p(u)||(u=this.resolve(u)),u.then(function(t){return function(n){i[t]=n,--o||e(i)}}(o),n),o++}return o||e(i),r},t.prototype.then=function(t,n){var r=new this.constructor(null),o=e.current;return this[d]==b?this[g].push(o,r,t,n):z(this,o,r,t,n),r},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var n=new this.constructor(null);n[y]=y;var r=e.current;return this[d]==b?this[g].push(r,n,t,t):z(this,r,n,t,t),n},t}();M.resolve=M.resolve,M.reject=M.reject,M.race=M.race,M.all=M.all;var R=t[c]=t.Promise,C=e.__symbol__("ZoneAwarePromise"),I=r(t,"Promise");I&&!I.configurable||(I&&delete I.writable,I&&delete I.value,I||(I={configurable:!0,enumerable:!0}),I.get=function(){return t[C]?t[C]:t[c]},I.set=function(e){e===M?t[C]=e:(t[c]=e,e.prototype[u]||H(e),n.setNativePromise(e))},o(t,"Promise",I)),t.Promise=M;var F=i("thenPatched");function H(t){var e=t.prototype,n=r(e,"then");if(!n||!1!==n.writable&&n.configurable){var o=e.then;e[u]=o,t.prototype.then=function(t,e){var n=this;return new M(function(t,e){o.call(n,t,e)}).then(t,e)},t[F]=!0}}if(R){H(R);var L=t.fetch;"function"==typeof L&&(t.fetch=function(t){return function(){var e=t.apply(this,arguments);if(e instanceof M)return e;var n=e.constructor;return n[F]||H(n),e}}(L))}return Promise[e.__symbol__("uncaughtPromiseErrors")]=a,M});var t=Object.getOwnPropertyDescriptor,e=Object.defineProperty,n=Object.getPrototypeOf,r=Object.create,o=Array.prototype.slice,i="addEventListener",a="removeEventListener",c=Zone.__symbol__(i),u=Zone.__symbol__(a),s="true",l="false",f="__zone_symbol__";function p(t,e){return Zone.current.wrap(t,e)}function h(t,e,n,r,o){return Zone.current.scheduleMacroTask(t,e,n,r,o)}var v=Zone.__symbol__,d="undefined"!=typeof window,g=d?window:void 0,y=d&&g||"object"==typeof self&&self||global,m="removeAttribute",_=[null];function k(t,e){for(var n=t.length-1;n>=0;n--)"function"==typeof t[n]&&(t[n]=p(t[n],e+"_"+n));return t}function b(t){return!t||!1!==t.writable&&!("function"==typeof t.get&&void 0===t.set)}var T="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,w=!("nw"in y)&&void 0!==y.process&&"[object process]"==={}.toString.call(y.process),E=!w&&!T&&!(!d||!g.HTMLElement),O=void 0!==y.process&&"[object process]"==={}.toString.call(y.process)&&!T&&!(!d||!g.HTMLElement),x={},S=function(t){if(t=t||y.event){var e=x[t.type];e||(e=x[t.type]=v("ON_PROPERTY"+t.type));var n=(this||t.target||y)[e],r=n&&n.apply(this,arguments);return void 0==r||r||t.preventDefault(),r}};function P(n,r,o){var i=t(n,r);if(!i&&o&&t(o,r)&&(i={enumerable:!0,configurable:!0}),i&&i.configurable){delete i.writable,delete i.value;var a=i.get,c=i.set,u=r.substr(2),s=x[u];s||(s=x[u]=v("ON_PROPERTY"+u)),i.set=function(t){var e=this;e||n!==y||(e=y),e&&(e[s]&&e.removeEventListener(u,S),c&&c.apply(e,_),"function"==typeof t?(e[s]=t,e.addEventListener(u,S,!1)):e[s]=null)},i.get=function(){var t=this;if(t||n!==y||(t=y),!t)return null;var e=t[s];if(e)return e;if(a){var o=a&&a.call(this);if(o)return i.set.call(this,o),"function"==typeof t[m]&&t.removeAttribute(r),o}return null},e(n,r,i)}}function j(t,e,n){if(e)for(var r=0;r<e.length;r++)P(t,"on"+e[r],n);else{var o=[];for(var i in t)"on"==i.substr(0,2)&&o.push(i);for(var a=0;a<o.length;a++)P(t,o[a],n)}}var D=v("originalInstance");function Z(t){var n=y[t];if(n){y[v(t)]=n,y[t]=function(){var e=k(arguments,t);switch(e.length){case 0:this[D]=new n;break;case 1:this[D]=new n(e[0]);break;case 2:this[D]=new n(e[0],e[1]);break;case 3:this[D]=new n(e[0],e[1],e[2]);break;case 4:this[D]=new n(e[0],e[1],e[2],e[3]);break;default:throw new Error("Arg list too long.")}},M(y[t],n);var r,o=new n(function(){});for(r in o)"XMLHttpRequest"===t&&"responseBlob"===r||function(n){"function"==typeof o[n]?y[t].prototype[n]=function(){return this[D][n].apply(this[D],arguments)}:e(y[t].prototype,n,{set:function(e){"function"==typeof e?(this[D][n]=p(e,t+"."+n),M(this[D][n],e)):this[D][n]=e},get:function(){return this[D][n]}})}(r);for(r in n)"prototype"!==r&&n.hasOwnProperty(r)&&(y[t][r]=n[r])}}function z(e,r,o){for(var i=e;i&&!i.hasOwnProperty(r);)i=n(i);!i&&e[r]&&(i=e);var a,c=v(r);if(i&&!(a=i[c])&&(a=i[c]=i[r],b(i&&t(i,r)))){var u=o(a,c,r);i[r]=function(){return u(this,arguments)},M(i[r],a)}return a}function M(t,e){t[v("OriginalDelegate")]=e}var R=!1,C=!1;function I(){if(R)return C;R=!0;try{var t=g.navigator.userAgent;return-1===t.indexOf("MSIE ")&&-1===t.indexOf("Trident/")&&-1===t.indexOf("Edge/")||(C=!0),C}catch(t){}}Zone.__load_patch("toString",function(t){var e=Function.prototype.toString,n=v("OriginalDelegate"),r=v("Promise"),o=v("Error"),i=function(){if("function"==typeof this){var i=this[n];if(i)return"function"==typeof i?e.apply(this[n],arguments):Object.prototype.toString.call(i);if(this===Promise){var a=t[r];if(a)return e.apply(a,arguments)}if(this===Error){var c=t[o];if(c)return e.apply(c,arguments)}}return e.apply(this,arguments)};i[n]=e,Function.prototype.toString=i;var a=Object.prototype.toString;Object.prototype.toString=function(){return this instanceof Promise?"[object Promise]":a.apply(this,arguments)}});var F={useG:!0},H={},L={},N=/^__zone_symbol__(\w+)(true|false)$/,q="__zone_symbol__propagationStopped";function V(t,e,r){var o=r&&r.add||i,c=r&&r.rm||a,u=r&&r.listeners||"eventListeners",p=r&&r.rmAll||"removeAllListeners",h=v(o),d="."+o+":",g="prependListener",y="."+g+":",m=function(t,e,n){if(!t.isRemoved){var r=t.callback;"object"==typeof r&&r.handleEvent&&(t.callback=function(t){return r.handleEvent(t)},t.originalDelegate=r),t.invoke(t,e,[n]);var o=t.options;o&&"object"==typeof o&&o.once&&e[c].call(e,n.type,t.originalDelegate?t.originalDelegate:t.callback,o)}},_=function(e){if(e=e||t.event){var n=this||e.target||t,r=n[H[e.type][l]];if(r)if(1===r.length)m(r[0],n,e);else for(var o=r.slice(),i=0;i<o.length&&(!e||!0!==e[q]);i++)m(o[i],n,e)}},k=function(e){if(e=e||t.event){var n=this||e.target||t,r=n[H[e.type][s]];if(r)if(1===r.length)m(r[0],n,e);else for(var o=r.slice(),i=0;i<o.length&&(!e||!0!==e[q]);i++)m(o[i],n,e)}};function b(e,r){if(!e)return!1;var i=!0;r&&void 0!==r.useG&&(i=r.useG);var a=r&&r.vh,m=!0;r&&void 0!==r.chkDup&&(m=r.chkDup);var b=!1;r&&void 0!==r.rt&&(b=r.rt);for(var T=e;T&&!T.hasOwnProperty(o);)T=n(T);if(!T&&e[o]&&(T=e),!T)return!1;if(T[h])return!1;var w,E={},O=T[h]=T[o],x=T[v(c)]=T[c],S=T[v(u)]=T[u],P=T[v(p)]=T[p];r&&r.prepend&&(w=T[v(r.prepend)]=T[r.prepend]);var j=i?function(){if(!E.isExisting)return O.call(E.target,E.eventName,E.capture?k:_,E.options)}:function(t){return O.call(E.target,E.eventName,t.invoke,E.options)},D=i?function(t){if(!t.isRemoved){var e=H[t.eventName],n=void 0;e&&(n=e[t.capture?s:l]);var r=n&&t.target[n];if(r)for(var o=0;o<r.length;o++)if(r[o]===t){r.splice(o,1),t.isRemoved=!0,0===r.length&&(t.allRemoved=!0,t.target[n]=null);break}}if(t.allRemoved)return x.call(t.target,t.eventName,t.capture?k:_,t.options)}:function(t){return x.call(t.target,t.eventName,t.invoke,t.options)},Z=r&&r.diff?r.diff:function(t,e){var n=typeof e;return"function"===n&&t.callback===e||"object"===n&&t.originalDelegate===e},z=Zone[Zone.__symbol__("BLACK_LISTED_EVENTS")],R=function(e,n,r,o,c,u){return void 0===c&&(c=!1),void 0===u&&(u=!1),function(){var p=this||t,h=arguments[1];if(!h)return e.apply(this,arguments);var v=!1;if("function"!=typeof h){if(!h.handleEvent)return e.apply(this,arguments);v=!0}if(!a||a(e,h,p,arguments)){var d,g=arguments[0],y=arguments[2];if(z)for(var _=0;_<z.length;_++)if(g===z[_])return e.apply(this,arguments);var k=!1;void 0===y?d=!1:!0===y?d=!0:!1===y?d=!1:(d=!!y&&!!y.capture,k=!!y&&!!y.once);var b,T=Zone.current,w=H[g];if(w)b=w[d?s:l];else{var O=f+(g+l),x=f+(g+s);H[g]={},H[g][l]=O,H[g][s]=x,b=d?x:O}var S,P=p[b],j=!1;if(P){if(j=!0,m)for(_=0;_<P.length;_++)if(Z(P[_],h))return}else P=p[b]=[];var D=p.constructor.name,M=L[D];M&&(S=M[g]),S||(S=D+n+g),E.options=y,k&&(E.options.once=!1),E.target=p,E.capture=d,E.eventName=g,E.isExisting=j;var R=i?F:null;R&&(R.taskData=E);var C=T.scheduleEventTask(S,h,R,r,o);return E.target=null,R&&(R.taskData=null),k&&(y.once=!0),C.options=y,C.target=p,C.capture=d,C.eventName=g,v&&(C.originalDelegate=h),u?P.unshift(C):P.push(C),c?p:void 0}}};return T[o]=R(O,d,j,D,b),w&&(T[g]=R(w,y,function(t){return w.call(E.target,E.eventName,t.invoke,E.options)},D,b,!0)),T[c]=function(){var e,n=this||t,r=arguments[0],o=arguments[2];e=void 0!==o&&(!0===o||!1!==o&&!!o&&!!o.capture);var i=arguments[1];if(!i)return x.apply(this,arguments);if(!a||a(x,i,n,arguments)){var c,u=H[r];u&&(c=u[e?s:l]);var f=c&&n[c];if(f)for(var p=0;p<f.length;p++){var h=f[p];if(Z(h,i))return f.splice(p,1),h.isRemoved=!0,0===f.length&&(h.allRemoved=!0,n[c]=null),h.zone.cancelTask(h),b?n:void 0}return x.apply(this,arguments)}},T[u]=function(){for(var e=[],n=B(this||t,arguments[0]),r=0;r<n.length;r++){var o=n[r];e.push(o.originalDelegate?o.originalDelegate:o.callback)}return e},T[p]=function(){var e=this||t,n=arguments[0];if(n){var r=H[n];if(r){var o=e[r[l]],i=e[r[s]];if(o){var a=o.slice();for(h=0;h<a.length;h++)this[c].call(this,n,(u=a[h]).originalDelegate?u.originalDelegate:u.callback,u.options)}if(i)for(a=i.slice(),h=0;h<a.length;h++){var u;this[c].call(this,n,(u=a[h]).originalDelegate?u.originalDelegate:u.callback,u.options)}}}else{for(var f=Object.keys(e),h=0;h<f.length;h++){var v=N.exec(f[h]),d=v&&v[1];d&&"removeListener"!==d&&this[p].call(this,d)}this[p].call(this,"removeListener")}if(b)return this},M(T[o],O),M(T[c],x),P&&M(T[p],P),S&&M(T[u],S),!0}for(var T=[],w=0;w<e.length;w++)T[w]=b(e[w],r);return T}function B(t,e){var n=[];for(var r in t){var o=N.exec(r),i=o&&o[1];if(i&&(!e||i===e)){var a=t[r];if(a)for(var c=0;c<a.length;c++)n.push(a[c])}}return n}var W=v("zoneTask");function A(t,e,n,r){var o=null,i=null;n+=r;var a={};function c(e){var n=e.data;return n.args[0]=function(){try{e.invoke.apply(this,arguments)}finally{e.data&&e.data.isPeriodic||("number"==typeof n.handleId?delete a[n.handleId]:n.handleId&&(n.handleId[W]=null))}},n.handleId=o.apply(t,n.args),e}function u(t){return i(t.data.handleId)}o=z(t,e+=r,function(n){return function(o,i){if("function"==typeof i[0]){var s=h(e,i[0],{handleId:null,isPeriodic:"Interval"===r,delay:"Timeout"===r||"Interval"===r?i[1]||0:null,args:i},c,u);if(!s)return s;var l=s.data.handleId;return"number"==typeof l?a[l]=s:l&&(l[W]=s),l&&l.ref&&l.unref&&"function"==typeof l.ref&&"function"==typeof l.unref&&(s.ref=l.ref.bind(l),s.unref=l.unref.bind(l)),"number"==typeof l||l?l:s}return n.apply(t,i)}}),i=z(t,n,function(e){return function(n,r){var o,i=r[0];"number"==typeof i?o=a[i]:(o=i&&i[W])||(o=i),o&&"string"==typeof o.type?"notScheduled"!==o.state&&(o.cancelFn&&o.data.isPeriodic||0===o.runCount)&&("number"==typeof i?delete a[i]:i&&(i[W]=null),o.zone.cancelTask(o)):e.apply(t,r)}})}var K=Object[v("defineProperty")]=Object.defineProperty,J=Object[v("getOwnPropertyDescriptor")]=Object.getOwnPropertyDescriptor,U=Object.create,X=v("unconfigurables");function Y(t,e){return t&&t[X]&&t[X][e]}function G(t,e,n){return Object.isFrozen(n)||(n.configurable=!0),n.configurable||(t[X]||Object.isFrozen(t)||K(t,X,{writable:!0,value:{}}),t[X]&&(t[X][e]=!0)),n}function Q(t,e,n,r){try{return K(t,e,n)}catch(i){if(!n.configurable)throw i;void 0===r?delete n.configurable:n.configurable=r;try{return K(t,e,n)}catch(r){var o=null;try{o=JSON.stringify(n)}catch(t){o=n.toString()}console.log("Attempting to configure '"+e+"' with descriptor '"+o+"' on object '"+t+"' and got error, giving up: "+r)}}}var $=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplyconnected","vrdisplaydisconnected","vrdisplaypresentchange"],tt=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],et=["load"],nt=["blur","error","focus","load","resize","scroll","messageerror"],rt=["bounce","finish","start"],ot=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],it=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],at=["close","error","open","message"],ct=["error","message"],ut=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange"],$,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function st(t,e,n,r){t&&j(t,function(t,e,n){if(!n)return e;var r=n.filter(function(e){return e.target===t});if(!r||0===r.length)return e;var o=r[0].ignoreProperties;return e.filter(function(t){return-1===o.indexOf(t)})}(t,e,n),r)}function lt(c,u){if(!w||O){var s="undefined"!=typeof WebSocket;if(function(){if((E||O)&&!t(HTMLElement.prototype,"onclick")&&"undefined"!=typeof Element){var n=t(Element.prototype,"onclick");if(n&&!n.configurable)return!1}var r=XMLHttpRequest.prototype,o=t(r,"onreadystatechange");if(o){e(r,"onreadystatechange",{enumerable:!0,configurable:!0,get:function(){return!0}});var i=!!(c=new XMLHttpRequest).onreadystatechange;return e(r,"onreadystatechange",o||{}),i}var a=v("fake");e(r,"onreadystatechange",{enumerable:!0,configurable:!0,get:function(){return this[a]},set:function(t){this[a]=t}});var c,u=function(){};return(c=new XMLHttpRequest).onreadystatechange=u,i=c[a]===u,c.onreadystatechange=null,i}()){var l=u.__Zone_ignore_on_properties;if(E){var f=window;st(f,ut.concat(["messageerror"]),l,n(f)),st(Document.prototype,ut,l),void 0!==f.SVGElement&&st(f.SVGElement.prototype,ut,l),st(Element.prototype,ut,l),st(HTMLElement.prototype,ut,l),st(HTMLMediaElement.prototype,tt,l),st(HTMLFrameSetElement.prototype,$.concat(nt),l),st(HTMLBodyElement.prototype,$.concat(nt),l),st(HTMLFrameElement.prototype,et,l),st(HTMLIFrameElement.prototype,et,l);var h=f.HTMLMarqueeElement;h&&st(h.prototype,rt,l);var d=f.Worker;d&&st(d.prototype,ct,l)}st(XMLHttpRequest.prototype,ot,l);var g=u.XMLHttpRequestEventTarget;g&&st(g&&g.prototype,ot,l),"undefined"!=typeof IDBIndex&&(st(IDBIndex.prototype,it,l),st(IDBRequest.prototype,it,l),st(IDBOpenDBRequest.prototype,it,l),st(IDBDatabase.prototype,it,l),st(IDBTransaction.prototype,it,l),st(IDBCursor.prototype,it,l)),s&&st(WebSocket.prototype,at,l)}else!function(){for(var t=function(t){var e=ut[t],n="on"+e;self.addEventListener(e,function(t){var e,r,o=t.target;for(r=o?o.constructor.name+"."+n:"unknown."+n;o;)o[n]&&!o[n][ft]&&((e=p(o[n],r))[ft]=o[n],o[n]=e),o=o.parentElement},!0)},e=0;e<ut.length;e++)t(e)}(),Z("XMLHttpRequest"),s&&function(e,n){var c=n.WebSocket;n.EventTarget||V(n,[c.prototype]),n.WebSocket=function(e,n){var u,s,l=arguments.length>1?new c(e,n):new c(e),f=t(l,"onmessage");return f&&!1===f.configurable?(u=r(l),s=l,[i,a,"send","close"].forEach(function(t){u[t]=function(){var e=o.call(arguments);if(t===i||t===a){var n=e.length>0?e[0]:void 0;if(n){var r=Zone.__symbol__("ON_PROPERTY"+n);l[r]=u[r]}}return l[t].apply(l,e)}})):u=l,j(u,["close","error","message","open"],s),u};var u=n.WebSocket;for(var s in c)u[s]=c[s]}(0,u)}}var ft=v("unbound");Zone.__load_patch("util",function(t,e,n){n.patchOnProperties=j,n.patchMethod=z,n.bindArguments=k}),Zone.__load_patch("timers",function(t){A(t,"set","clear","Timeout"),A(t,"set","clear","Interval"),A(t,"set","clear","Immediate")}),Zone.__load_patch("requestAnimationFrame",function(t){A(t,"request","cancel","AnimationFrame"),A(t,"mozRequest","mozCancel","AnimationFrame"),A(t,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",function(t,e){for(var n=["alert","prompt","confirm"],r=0;r<n.length;r++)z(t,n[r],function(n,r,o){return function(r,i){return e.current.run(n,t,i,o)}})}),Zone.__load_patch("EventTarget",function(t,e,n){var r=e.__symbol__("BLACK_LISTED_EVENTS");t[r]&&(e[r]=t[r]),function(t,e){!function(t,e){var n=t.Event;n&&n.prototype&&e.patchMethod(n.prototype,"stopImmediatePropagation",function(t){return function(e,n){e[q]=!0,t&&t.apply(e,n)}})}(t,e)}(t,n),function(t,e){var n="Anchor,Area,Audio,BR,Base,BaseFont,Body,Button,Canvas,Content,DList,Directory,Div,Embed,FieldSet,Font,Form,Frame,FrameSet,HR,Head,Heading,Html,IFrame,Image,Input,Keygen,LI,Label,Legend,Link,Map,Marquee,Media,Menu,Meta,Meter,Mod,OList,Object,OptGroup,Option,Output,Paragraph,Pre,Progress,Quote,Script,Select,Source,Span,Style,TableCaption,TableCell,TableCol,Table,TableRow,TableSection,TextArea,Title,Track,UList,Unknown,Video",r="ApplicationCache,EventSource,FileReader,InputMethodContext,MediaController,MessagePort,Node,Performance,SVGElementInstance,SharedWorker,TextTrack,TextTrackCue,TextTrackList,WebKitNamedFlow,Window,Worker,WorkerGlobalScope,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload,IDBRequest,IDBOpenDBRequest,IDBDatabase,IDBTransaction,IDBCursor,DBIndex,WebSocket".split(","),o=[],i=t.wtf,a=n.split(",");i?o=a.map(function(t){return"HTML"+t+"Element"}).concat(r):t.EventTarget?o.push("EventTarget"):o=r;for(var c=t.__Zone_disable_IE_check||!1,u=t.__Zone_enable_cross_context_check||!1,p=I(),h="function __BROWSERTOOLS_CONSOLE_SAFEFUNC() { [native code] }",v=0;v<ut.length;v++){var d=f+((k=ut[v])+l),g=f+(k+s);H[k]={},H[k][l]=d,H[k][s]=g}for(v=0;v<n.length;v++)for(var y=a[v],m=L[y]={},_=0;_<ut.length;_++){var k;m[k=ut[_]]=y+".addEventListener:"+k}var b=[];for(v=0;v<o.length;v++){var T=t[o[v]];b.push(T&&T.prototype)}V(t,b,{vh:function(t,e,n,r){if(!c&&p){if(u)try{var o;if("[object FunctionWrapper]"===(o=e.toString())||o==h)return t.apply(n,r),!1}catch(e){return t.apply(n,r),!1}else if("[object FunctionWrapper]"===(o=e.toString())||o==h)return t.apply(n,r),!1}else if(u)try{e.toString()}catch(e){return t.apply(n,r),!1}return!0}}),e.patchEventTarget=V}(t,n);var o=t.XMLHttpRequestEventTarget;o&&o.prototype&&n.patchEventTarget(t,[o.prototype]),Z("MutationObserver"),Z("WebKitMutationObserver"),Z("IntersectionObserver"),Z("FileReader")}),Zone.__load_patch("on_property",function(e,n,r){lt(0,e),Object.defineProperty=function(t,e,n){if(Y(t,e))throw new TypeError("Cannot assign to read only property '"+e+"' of "+t);var r=n.configurable;return"prototype"!==e&&(n=G(t,e,n)),Q(t,e,n,r)},Object.defineProperties=function(t,e){return Object.keys(e).forEach(function(n){Object.defineProperty(t,n,e[n])}),t},Object.create=function(t,e){return"object"!=typeof e||Object.isFrozen(e)||Object.keys(e).forEach(function(n){e[n]=G(t,n,e[n])}),U(t,e)},Object.getOwnPropertyDescriptor=function(t,e){var n=J(t,e);return Y(t,e)&&(n.configurable=!1),n},function(n){if((E||O)&&"registerElement"in e.document){var r=document.registerElement,o=["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"];document.registerElement=function(e,n){return n&&n.prototype&&o.forEach(function(e){var r="Document.registerElement::"+e,o=n.prototype;if(o.hasOwnProperty(e)){var i=t(o,e);i&&i.value?(i.value=p(i.value,r),function(t,n,r){var o=i.configurable;Q(t,e,G(t,e,i),o)}(n.prototype)):o[e]=p(o[e],r)}else o[e]&&(o[e]=p(o[e],r))}),r.call(document,e,n)},M(document.registerElement,r)}}()}),Zone.__load_patch("canvas",function(t){var e=t.HTMLCanvasElement;void 0!==e&&e.prototype&&e.prototype.toBlob&&function(t,n,r){var o=null;function i(t){var e=t.data;return e.args[e.cbIdx]=function(){t.invoke.apply(this,arguments)},o.apply(e.target,e.args),t}o=z(e.prototype,"toBlob",function(t){return function(e,n){var r=function(t,e){return{name:"HTMLCanvasElement.toBlob",target:t,cbIdx:0,args:e}}(e,n);return r.cbIdx>=0&&"function"==typeof n[r.cbIdx]?h(r.name,n[r.cbIdx],r,i,null):t.apply(e,n)}})}()}),Zone.__load_patch("XHR",function(t,e){!function(e){var s=XMLHttpRequest.prototype,l=s[c],f=s[u];if(!l){var p=t.XMLHttpRequestEventTarget;if(p){var v=p.prototype;l=v[c],f=v[u]}}var d="readystatechange",g="scheduled";function y(t){XMLHttpRequest[i]=!1;var e=t.data,r=e.target,a=r[o];l||(l=r[c],f=r[u]),a&&f.call(r,d,a);var s=r[o]=function(){r.readyState===r.DONE&&!e.aborted&&XMLHttpRequest[i]&&t.state===g&&t.invoke()};return l.call(r,d,s),r[n]||(r[n]=t),b.apply(r,e.args),XMLHttpRequest[i]=!0,t}function m(){}function _(t){var e=t.data;return e.aborted=!0,T.apply(e.target,e.args)}var k=z(s,"open",function(){return function(t,e){return t[r]=0==e[2],t[a]=e[1],k.apply(t,e)}}),b=z(s,"send",function(){return function(t,e){return t[r]?b.apply(t,e):h("XMLHttpRequest.send",m,{target:t,url:t[a],isPeriodic:!1,delay:null,args:e,aborted:!1},y,_)}}),T=z(s,"abort",function(){return function(t){var e=t[n];if(e&&"string"==typeof e.type){if(null==e.cancelFn||e.data&&e.data.aborted)return;e.zone.cancelTask(e)}}})}();var n=v("xhrTask"),r=v("xhrSync"),o=v("xhrListener"),i=v("xhrScheduled"),a=v("xhrURL")}),Zone.__load_patch("geolocation",function(e){e.navigator&&e.navigator.geolocation&&function(e,n){for(var r=e.constructor.name,o=function(o){var i=n[o],a=e[i];if(a){if(!b(t(e,i)))return"continue";e[i]=function(t){var e=function(){return t.apply(this,k(arguments,r+"."+i))};return M(e,t),e}(a)}},i=0;i<n.length;i++)o(i)}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",function(t,e){function n(e){return function(n){B(t,e).forEach(function(r){var o=t.PromiseRejectionEvent;if(o){var i=new o(e,{promise:n.promise,reason:n.rejection});r.invoke(i)}})}}t.PromiseRejectionEvent&&(e[v("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),e[v("rejectionHandledHandler")]=n("rejectionhandled"))})})},K1J3:function(t,e,n){var r=n("Ftc7"),o=n("BTYL")("iterator"),i=n("eB0Q");t.exports=n("5OaY").getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},K4R8:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"M/xr":function(t,e,n){var r=n("NN7E"),o=n("OVVJ"),i=r.get,a=r.key;r.exp({getOwnMetadata:function(t,e){return i(t,o(e),arguments.length<3?void 0:a(arguments[2]))}})},NN7E:function(t,e,n){var r=n("gggS"),o=n("Iv7f"),i=n("JnlH")("metadata"),a=i.store||(i.store=new(n("1+ju"))),c=function(t,e,n){var o=a.get(t);if(!o){if(!n)return;a.set(t,o=new r)}var i=o.get(e);if(!i){if(!n)return;o.set(e,i=new r)}return i};t.exports={store:a,map:c,has:function(t,e,n){var r=c(e,n,!1);return void 0!==r&&r.has(t)},get:function(t,e,n){var r=c(e,n,!1);return void 0===r?void 0:r.get(t)},set:function(t,e,n,r){c(n,r,!0).set(t,e)},keys:function(t,e){var n=c(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){o(o.S,"Reflect",t)}}},"NUb/":function(t,e,n){var r=n("eq7T"),o=n("SZ+J");t.exports=Object.keys||function(t){return r(t,o)}},OVVJ:function(t,e,n){var r=n("K4R8");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},Ocbh:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},QEqi:function(t,e,n){var r=n("RQm6")("meta"),o=n("K4R8"),i=n("2Kj7"),a=n("mKvt").f,c=0,u=Object.isExtensible||function(){return!0},s=!n("wPZh")(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++c,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return s&&f.NEED&&u(t)&&!i(t,r)&&l(t),t}}},RQm6:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},RqvA:function(t,e,n){var r=n("X0UP"),o=n("97KV");t.exports=function(t){return r(o(t))}},Rw0P:function(t,e,n){"use strict";var r=n("E4VN"),o=n("QEqi").getWeak,i=n("OVVJ"),a=n("K4R8"),c=n("mpKu"),u=n("0rRJ"),s=n("lyTa"),l=n("2Kj7"),f=n("EdrW"),p=s(5),h=s(6),v=0,d=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},y=function(t,e){return p(t.a,function(t){return t[0]===e})};g.prototype={get:function(t){var e=y(this,t);if(e)return e[1]},has:function(t){return!!y(this,t)},set:function(t,e){var n=y(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=h(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,i){var s=t(function(t,r){c(t,s,e,"_i"),t._t=e,t._i=v++,t._l=void 0,void 0!=r&&u(r,n,t[i],t)});return r(s.prototype,{delete:function(t){if(!a(t))return!1;var n=o(t);return!0===n?d(f(this,e)).delete(t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=o(t);return!0===n?d(f(this,e)).has(t):n&&l(n,this._i)}}),s},def:function(t,e,n){var r=o(i(e),!0);return!0===r?d(t).set(e,n):r[t._i]=n,t},ufstore:d}},"SZ+J":function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},TynG:function(t,e,n){t.exports=!n("4uWt")&&!n("wPZh")(function(){return 7!=Object.defineProperty(n("2jpF")("div"),"a",{get:function(){return 7}}).a})},UVmr:function(t,e){e.f={}.propertyIsEnumerable},Uzpv:function(t,e,n){"use strict";var r=n("hMOT"),o=n("WjqP"),i=n("/k44"),a={};n("HwN8")(a,n("BTYL")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},WBXY:function(t,e,n){var r=n("NN7E"),o=n("OVVJ"),i=r.key,a=r.map,c=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:i(arguments[2]),r=a(o(e),n,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var u=c.get(e);return u.delete(n),!!u.size||c.delete(e)}})},"WKT/":function(t,e,n){"use strict";var r=n("+GHM"),o=n("Iv7f"),i=n("qFxi"),a=n("E4VN"),c=n("QEqi"),u=n("0rRJ"),s=n("mpKu"),l=n("K4R8"),f=n("wPZh"),p=n("XbCc"),h=n("/k44"),v=n("wknE");t.exports=function(t,e,n,d,g,y){var m=r[t],_=m,k=g?"set":"add",b=_&&_.prototype,T={},w=function(t){var e=b[t];i(b,t,"delete"==t?function(t){return!(y&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof _&&(y||b.forEach&&!f(function(){(new _).entries().next()}))){var E=new _,O=E[k](y?{}:-0,1)!=E,x=f(function(){E.has(1)}),S=p(function(t){new _(t)}),P=!y&&f(function(){for(var t=new _,e=5;e--;)t[k](e,e);return!t.has(-0)});S||((_=e(function(e,n){s(e,_,t);var r=v(new m,e,_);return void 0!=n&&u(n,g,r[k],r),r})).prototype=b,b.constructor=_),(x||P)&&(w("delete"),w("has"),g&&w("get")),(P||O)&&w(k),y&&b.clear&&delete b.clear}else _=d.getConstructor(e,t,g,k),a(_.prototype,n),c.NEED=!0;return h(_,t),T[t]=_,o(o.G+o.W+o.F*(_!=m),T),y||d.setStrong(_,t,g),_}},WjqP:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},X0UP:function(t,e,n){var r=n("os43");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},X32H:function(t,e,n){var r=n("NN7E"),o=n("OVVJ"),i=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(t){return i(o(t),arguments.length<2?void 0:a(arguments[1]))}})},XQ3Y:function(t,e,n){var r=n("mKvt"),o=n("OVVJ"),i=n("NUb/");t.exports=n("4uWt")?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),c=a.length,u=0;c>u;)r.f(t,n=a[u++],e[n]);return t}},XbCc:function(t,e,n){var r=n("BTYL")("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(t){}return n}},aqVC:function(t,e,n){var r=n("tsVP"),o=n("5Hla"),i=n("NN7E"),a=n("OVVJ"),c=n("skTP"),u=i.keys,s=i.key,l=function(t,e){var n=u(t,e),i=c(t);if(null===i)return n;var a=l(i,e);return a.length?n.length?o(new r(n.concat(a))):a:n};i.exp({getMetadataKeys:function(t){return l(a(t),arguments.length<2?void 0:s(arguments[1]))}})},ash5:function(t,e,n){var r=n("OVVJ");t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},"by/p":function(t,e,n){"use strict";var r=n("NUb/"),o=n("i+Ja"),i=n("UVmr"),a=n("qRFx"),c=n("X0UP"),u=Object.assign;t.exports=!u||n("wPZh")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,s=1,l=o.f,f=i.f;u>s;)for(var p,h=c(arguments[s++]),v=l?r(h).concat(l(h)):r(h),d=v.length,g=0;d>g;)f.call(h,p=v[g++])&&(n[p]=h[p]);return n}:u},ciVW:function(t,e,n){var r=n("+GHM").document;t.exports=r&&r.documentElement},dg8M:function(t,e,n){var r=n("os43");t.exports=Array.isArray||function(t){return"Array"==r(t)}},eB0Q:function(t,e){t.exports={}},eq7T:function(t,e,n){var r=n("2Kj7"),o=n("RqvA"),i=n("wz3u")(!1),a=n("f0+r")("IE_PROTO");t.exports=function(t,e){var n,c=o(t),u=0,s=[];for(n in c)n!=a&&r(c,n)&&s.push(n);for(;e.length>u;)r(c,n=e[u++])&&(~i(s,n)||s.push(n));return s}},"f0+r":function(t,e,n){var r=n("JnlH")("keys"),o=n("RQm6");t.exports=function(t){return r[t]||(r[t]=o(t))}},gggS:function(t,e,n){"use strict";var r=n("l7sa"),o=n("EdrW");t.exports=n("WKT/")("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(o(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(o(this,"Map"),0===t?0:t,e)}},r,!0)},hMOT:function(t,e,n){var r=n("OVVJ"),o=n("XQ3Y"),i=n("SZ+J"),a=n("f0+r")("IE_PROTO"),c=function(){},u=function(){var t,e=n("2jpF")("iframe"),r=i.length;for(e.style.display="none",n("ciVW").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[i[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(c.prototype=r(t),n=new c,c.prototype=null,n[a]=t):n=u(),void 0===e?n:o(n,e)}},"hN/g":function(t,e,n){"use strict";n.r(e),n("1FmS"),n("Jqtf")},"i+Ja":function(t,e){e.f=Object.getOwnPropertySymbols},i3hV:function(t,e){t.exports=!1},l7sa:function(t,e,n){"use strict";var r=n("mKvt").f,o=n("hMOT"),i=n("E4VN"),a=n("DiYy"),c=n("mpKu"),u=n("0rRJ"),s=n("ppUl"),l=n("Ocbh"),f=n("0B1B"),p=n("4uWt"),h=n("QEqi").fastKey,v=n("EdrW"),d=p?"_s":"size",g=function(t,e){var n,r=h(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,s){var l=t(function(t,r){c(t,l,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[d]=0,void 0!=r&&u(r,n,t[s],t)});return i(l.prototype,{clear:function(){for(var t=v(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var n=v(this,e),r=g(n,t);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[d]--}return!!r},forEach:function(t){v(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(v(this,e),t)}}),p&&r(l.prototype,"size",{get:function(){return v(this,e)[d]}}),l},def:function(t,e,n){var r,o,i=g(t,e);return i?i.v=n:(t._l=i={i:o=h(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[d]++,"F"!==o&&(t._i[o]=i)),t},getEntry:g,setStrong:function(t,e,n){s(t,e,function(t,n){this._t=v(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?l(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,l(1))},n?"entries":"values",!n,!0),f(e)}}},lUSX:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},lyTa:function(t,e,n){var r=n("DiYy"),o=n("X0UP"),i=n("qRFx"),a=n("19Br"),c=n("vuJH");t.exports=function(t,e){var n=1==t,u=2==t,s=3==t,l=4==t,f=6==t,p=5==t||f,h=e||c;return function(e,c,v){for(var d,g,y=i(e),m=o(y),_=r(c,v,3),k=a(m.length),b=0,T=n?h(e,k):u?h(e,0):void 0;k>b;b++)if((p||b in m)&&(g=_(d=m[b],b,y),t))if(n)T[b]=g;else if(g)switch(t){case 3:return!0;case 5:return d;case 6:return b;case 2:T.push(d)}else if(l)return!1;return f?-1:s||l?l:T}}},mKvt:function(t,e,n){var r=n("OVVJ"),o=n("TynG"),i=n("EAhc"),a=Object.defineProperty;e.f=n("4uWt")?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},mpKu:function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},os43:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},ppUl:function(t,e,n){"use strict";var r=n("i3hV"),o=n("Iv7f"),i=n("qFxi"),a=n("HwN8"),c=n("eB0Q"),u=n("Uzpv"),s=n("/k44"),l=n("skTP"),f=n("BTYL")("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,v,d,g,y){u(n,e,v);var m,_,k,b=function(t){if(!p&&t in O)return O[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},T=e+" Iterator",w="values"==d,E=!1,O=t.prototype,x=O[f]||O["@@iterator"]||d&&O[d],S=x||b(d),P=d?w?b("entries"):S:void 0,j="Array"==e&&O.entries||x;if(j&&(k=l(j.call(new t)))!==Object.prototype&&k.next&&(s(k,T,!0),r||"function"==typeof k[f]||a(k,f,h)),w&&x&&"values"!==x.name&&(E=!0,S=function(){return x.call(this)}),r&&!y||!p&&!E&&O[f]||a(O,f,S),c[e]=S,c[T]=h,d)if(m={values:w?S:b("values"),keys:g?S:b("keys"),entries:P},y)for(_ in m)_ in O||i(O,_,m[_]);else o(o.P+o.F*(p||E),e,m);return m}},prMh:function(t,e,n){var r=n("NN7E"),o=n("OVVJ"),i=r.has,a=r.key;r.exp({hasOwnMetadata:function(t,e){return i(t,o(e),arguments.length<3?void 0:a(arguments[2]))}})},qFxi:function(t,e,n){var r=n("+GHM"),o=n("HwN8"),i=n("2Kj7"),a=n("RQm6")("src"),c=Function.toString,u=(""+c).split("toString");n("5OaY").inspectSource=function(t){return c.call(t)},(t.exports=function(t,e,n,c){var s="function"==typeof n;s&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(s&&(i(n,a)||o(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:c?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||c.call(this)})},qRFx:function(t,e,n){var r=n("97KV");t.exports=function(t){return Object(r(t))}},scvP:function(t,e,n){var r=n("eB0Q"),o=n("BTYL")("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},skTP:function(t,e,n){var r=n("2Kj7"),o=n("qRFx"),i=n("f0+r")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},tsVP:function(t,e,n){"use strict";var r=n("l7sa"),o=n("EdrW");t.exports=n("WKT/")("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(o(this,"Set"),t=0===t?0:t,t)}},r)},vuJH:function(t,e,n){var r=n("z54n");t.exports=function(t,e){return new(r(t))(e)}},wPZh:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},wkYg:function(t,e,n){var r=n("K4R8"),o=n("OVVJ"),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n("DiYy")(Function.call,n("3C0p").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},wknE:function(t,e,n){var r=n("K4R8"),o=n("wkYg").set;t.exports=function(t,e,n){var i,a=e.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(t,i),t}},wyjG:function(t,e,n){var r=n("NN7E"),o=n("OVVJ"),i=n("lUSX"),a=r.key,c=r.set;r.exp({metadata:function(t,e){return function(n,r){c(t,e,(void 0!==r?o:i)(n),a(r))}}})},wz3u:function(t,e,n){var r=n("RqvA"),o=n("19Br"),i=n("10Ty");t.exports=function(t){return function(e,n,a){var c,u=r(e),s=o(u.length),l=i(a,s);if(t&&n!=n){for(;s>l;)if((c=u[l++])!=c)return!0}else for(;s>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},xLMC:function(t,e,n){var r=n("NN7E"),o=n("OVVJ"),i=n("skTP"),a=r.has,c=r.get,u=r.key,s=function(t,e,n){if(a(t,e,n))return c(t,e,n);var r=i(e);return null!==r?s(t,r,n):void 0};r.exp({getMetadata:function(t,e){return s(t,o(e),arguments.length<3?void 0:u(arguments[2]))}})},z54n:function(t,e,n){var r=n("K4R8"),o=n("dg8M"),i=n("BTYL")("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}}},[[2,0]]]);(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"0KdE":function(t,e,n){"use strict";n.r(e),n("AoD7");var i=setTimeout;function r(){}function s(t){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function o(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,s._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void l(e.promise,t)}a(e.promise,i)}else(1===t._state?a:l)(e.promise,t._value)})):t._deferreds.push(e)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof s)return t._state=3,t._value=e,void h(t);if("function"==typeof n)return void c(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,h(t)}catch(e){l(t,e)}}function l(t,e){t._state=2,t._value=e,h(t)}function h(t){2===t._state&&0===t._deferreds.length&&s._immediateFn(function(){t._handled||s._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)o(t,t._deferreds[e]);t._deferreds=null}function c(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,l(e,t))})}catch(t){if(n)return;n=!0,l(e,t)}}s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){var n=new this.constructor(r);return o(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},s.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},s.all=function(t){return new s(function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var r=i.length;function s(t,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var a=o.then;if("function"==typeof a)return void a.call(o,function(e){s(t,e)},n)}i[t]=o,0==--r&&e(i)}catch(t){n(t)}}for(var o=0;o<i.length;o++)s(o,i[o])})},s.resolve=function(t){return t&&"object"==typeof t&&t.constructor===s?t:new s(function(e){e(t)})},s.reject=function(t){return new s(function(e,n){n(t)})},s.race=function(t){return new s(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},s._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){i(t,0)},s._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var u=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();function d(t,e){return t(e={exports:{}},e.exports),e.exports}u.Promise||(u.Promise=s);var p=d(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),f=d(function(t){var e=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=e)}),m=function(t){return"object"==typeof t?null!==t:"function"==typeof t},g=function(t){if(!m(t))throw TypeError(t+" is not an object!");return t},_=function(t){try{return!!t()}catch(t){return!0}},y=!_(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),v=p.document,b=m(v)&&m(v.createElement),w=function(t){return b?v.createElement(t):{}},C=!y&&!_(function(){return 7!=Object.defineProperty(w("div"),"a",{get:function(){return 7}}).a}),E=function(t,e){if(!m(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!m(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!m(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!m(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},S=Object.defineProperty,x={f:y?Object.defineProperty:function(t,e,n){if(g(t),e=E(e,!0),g(n),C)try{return S(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},T=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},k=y?function(t,e,n){return x.f(t,e,T(1,n))}:function(t,e,n){return t[e]=n,t},O={}.hasOwnProperty,I=function(t,e){return O.call(t,e)},A=0,R=Math.random(),D=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++A+R).toString(36))},P=d(function(t){var e=D("src"),n=Function.toString,i=(""+n).split("toString");f.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,r,s){var o="function"==typeof r;o&&(I(r,"name")||k(r,"name",n)),t[n]!==r&&(o&&(I(r,e)||k(r,e,t[n]?""+t[n]:i.join(String(n)))),t===p?t[n]=r:s?t[n]?t[n]=r:k(t,n,r):(delete t[n],k(t,n,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),M=function(t,e,n){if(function(e){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},N=function(t,e,n){var i,r,s,o,a=t&N.F,l=t&N.G,h=t&N.P,c=t&N.B,u=l?p:t&N.S?p[e]||(p[e]={}):(p[e]||{}).prototype,d=l?f:f[e]||(f[e]={}),m=d.prototype||(d.prototype={});for(i in l&&(n=e),n)s=((r=!a&&u&&void 0!==u[i])?u:n)[i],o=c&&r?M(s,p):h&&"function"==typeof s?M(Function.call,s):s,u&&P(u,i,s,t&N.U),d[i]!=s&&k(d,i,o),h&&m[i]!=s&&(m[i]=s)};p.core=f,N.F=1,N.G=2,N.S=4,N.P=8,N.B=16,N.W=32,N.U=64,N.R=128;var L=N,F={}.toString,j=function(t){return F.call(t).slice(8,-1)},V=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==j(t)?t.split(""):Object(t)},B=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},U=function(t){return Object(B(t))},z=Math.ceil,H=Math.floor,W=function(t){return isNaN(t=+t)?0:(t>0?H:z)(t)},$=Math.min,q=function(t){return t>0?$(W(t),9007199254740991):0},G=Array.isArray||function(t){return"Array"==j(t)},Y=p["__core-js_shared__"]||(p["__core-js_shared__"]={}),K=function(t){return Y[t]||(Y[t]={})},Q=d(function(t){var e=K("wks"),n=p.Symbol,i="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=i&&n[t]||(i?n:D)("Symbol."+t))}).store=e}),X=Q("species"),Z=function(t,e){return new(function(t){var e;return G(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!G(e.prototype)||(e=void 0),m(e)&&null===(e=e[X])&&(e=void 0)),void 0===e?Array:e}(t))(e)},J=function(t,e){var n=1==t,i=2==t,r=3==t,s=4==t,o=6==t,a=5==t||o,l=e||Z;return function(e,h,c){for(var u,d,p=U(e),f=V(p),m=M(h,c,3),g=q(f.length),_=0,y=n?l(e,g):i?l(e,0):void 0;g>_;_++)if((a||_ in f)&&(d=m(u=f[_],_,p),t))if(n)y[_]=d;else if(d)switch(t){case 3:return!0;case 5:return u;case 6:return _;case 2:y.push(u)}else if(s)return!1;return o?-1:r||s?s:y}},tt=Q("unscopables"),et=Array.prototype;void 0==et[tt]&&k(et,tt,{});var nt=function(t){et[tt][t]=!0},it=J(5),rt=!0;"find"in[]&&Array(1).find(function(){rt=!1}),L(L.P+L.F*rt,"Array",{find:function(t){return it(this,t,arguments.length>1?arguments[1]:void 0)}}),nt("find");var st=J(6),ot=!0;"findIndex"in[]&&Array(1).findIndex(function(){ot=!1}),L(L.P+L.F*ot,"Array",{findIndex:function(t){return st(this,t,arguments.length>1?arguments[1]:void 0)}}),nt("findIndex");var at=function(t){return V(B(t))},lt=Math.max,ht=Math.min,ct=K("keys"),ut=function(t){return ct[t]||(ct[t]=D(t))},dt=function(t,e,n){for(var i=at(t),r=q(i.length),s=function(t,e){return(t=W(t))<0?lt(t+e,0):ht(t,e)}(n,r);r>s;s++)if(s in i&&i[s]===e)return s||0;return-1},pt=ut("IE_PROTO"),ft=function(t,e){var n,i=at(t),r=0,s=[];for(n in i)n!=pt&&I(i,n)&&s.push(n);for(;e.length>r;)I(i,n=e[r++])&&(~dt(s,n)||s.push(n));return s},mt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),gt=Object.keys||function(t){return ft(t,mt)},_t={f:Object.getOwnPropertySymbols},yt={f:{}.propertyIsEnumerable},vt=Object.assign,bt=!vt||_(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=vt({},t)[n]||Object.keys(vt({},e)).join("")!=i})?function(t,e){for(var n=U(t),i=arguments.length,r=1,s=_t.f,o=yt.f;i>r;)for(var a,l=V(arguments[r++]),h=s?gt(l).concat(s(l)):gt(l),c=h.length,u=0;c>u;)o.call(l,a=h[u++])&&(n[a]=l[a]);return n}:vt;L(L.S+L.F,"Object",{assign:bt});var wt=Q("match"),Ct=Q("match"),Et="".startsWith;L(L.P+L.F*function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Ct]=!1,!"/./"[t](e)}catch(t){}}return!0}("startsWith"),"String",{startsWith:function(t){var e=function(t,e,n){if(function(t){var e;return m(t)&&(void 0!==(e=t[wt])?!!e:"RegExp"==j(t))}(e))throw TypeError("String#startsWith doesn't accept regex!");return String(B(t))}(this,t),n=q(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return Et?Et.call(e,i,n):e.slice(n,n+i.length)===i}}),L(L.P,"String",{repeat:function(t){var e=String(B(this)),n="",i=W(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}});var St=d(function(t){var e=D("meta"),n=x.f,i=0,r=Object.isExtensible||function(){return!0},s=!_(function(){return r(Object.preventExtensions({}))}),o=function(t){n(t,e,{value:{i:"O"+ ++i,w:{}}})},a=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!m(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!I(t,e)){if(!r(t))return"F";if(!n)return"E";o(t)}return t[e].i},getWeak:function(t,n){if(!I(t,e)){if(!r(t))return!0;if(!n)return!1;o(t)}return t[e].w},onFreeze:function(t){return s&&a.NEED&&r(t)&&!I(t,e)&&o(t),t}}}),xt=x.f,Tt=Q("toStringTag"),kt=function(t,e,n){t&&!I(t=n?t:t.prototype,Tt)&&xt(t,Tt,{configurable:!0,value:e})},Ot={f:Q},It=x.f,At=function(t){var e=f.Symbol||(f.Symbol=p.Symbol||{});"_"==t.charAt(0)||t in e||It(e,t,{value:Ot.f(t)})},Rt=y?Object.defineProperties:function(t,e){g(t);for(var n,i=gt(e),r=i.length,s=0;r>s;)x.f(t,n=i[s++],e[n]);return t},Dt=p.document,Pt=Dt&&Dt.documentElement,Mt=ut("IE_PROTO"),Nt=function(){},Lt=function(){var t,e=w("iframe"),n=mt.length;for(e.style.display="none",Pt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Lt=t.F;n--;)delete Lt.prototype[mt[n]];return Lt()},Ft=Object.create||function(t,e){var n;return null!==t?(Nt.prototype=g(t),n=new Nt,Nt.prototype=null,n[Mt]=t):n=Lt(),void 0===e?n:Rt(n,e)},jt=mt.concat("length","prototype"),Vt={f:Object.getOwnPropertyNames||function(t){return ft(t,jt)}},Bt=Vt.f,Ut={}.toString,zt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ht={f:function(t){return zt&&"[object Window]"==Ut.call(t)?function(t){try{return Bt(t)}catch(t){return zt.slice()}}(t):Bt(at(t))}},Wt=Object.getOwnPropertyDescriptor,$t={f:y?Wt:function(t,e){if(t=at(t),e=E(e,!0),C)try{return Wt(t,e)}catch(t){}if(I(t,e))return T(!yt.f.call(t,e),t[e])}},qt=St.KEY,Gt=$t.f,Yt=x.f,Kt=Ht.f,Qt=p.Symbol,Xt=p.JSON,Zt=Xt&&Xt.stringify,Jt=Q("_hidden"),te=Q("toPrimitive"),ee={}.propertyIsEnumerable,ne=K("symbol-registry"),ie=K("symbols"),re=K("op-symbols"),se=Object.prototype,oe="function"==typeof Qt,ae=p.QObject,le=!ae||!ae.prototype||!ae.prototype.findChild,he=y&&_(function(){return 7!=Ft(Yt({},"a",{get:function(){return Yt(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=Gt(se,e);i&&delete se[e],Yt(t,e,n),i&&t!==se&&Yt(se,e,i)}:Yt,ce=function(t){var e=ie[t]=Ft(Qt.prototype);return e._k=t,e},ue=oe&&"symbol"==typeof Qt.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Qt},de=function(t,e,n){return t===se&&de(re,e,n),g(t),e=E(e,!0),g(n),I(ie,e)?(n.enumerable?(I(t,Jt)&&t[Jt][e]&&(t[Jt][e]=!1),n=Ft(n,{enumerable:T(0,!1)})):(I(t,Jt)||Yt(t,Jt,T(1,{})),t[Jt][e]=!0),he(t,e,n)):Yt(t,e,n)},pe=function(t,e){g(t);for(var n,i=function(t){var e=gt(t),n=_t.f;if(n)for(var i,r=n(t),s=yt.f,o=0;r.length>o;)s.call(t,i=r[o++])&&e.push(i);return e}(e=at(e)),r=0,s=i.length;s>r;)de(t,n=i[r++],e[n]);return t},fe=function(t){var e=ee.call(this,t=E(t,!0));return!(this===se&&I(ie,t)&&!I(re,t))&&(!(e||!I(this,t)||!I(ie,t)||I(this,Jt)&&this[Jt][t])||e)},me=function(t,e){if(t=at(t),e=E(e,!0),t!==se||!I(ie,e)||I(re,e)){var n=Gt(t,e);return!n||!I(ie,e)||I(t,Jt)&&t[Jt][e]||(n.enumerable=!0),n}},ge=function(t){for(var e,n=Kt(at(t)),i=[],r=0;n.length>r;)I(ie,e=n[r++])||e==Jt||e==qt||i.push(e);return i},_e=function(t){for(var e,n=t===se,i=Kt(n?re:at(t)),r=[],s=0;i.length>s;)!I(ie,e=i[s++])||n&&!I(se,e)||r.push(ie[e]);return r};oe||(P((Qt=function(){if(this instanceof Qt)throw TypeError("Symbol is not a constructor!");var t=D(arguments.length>0?arguments[0]:void 0),e=function(n){this===se&&e.call(re,n),I(this,Jt)&&I(this[Jt],t)&&(this[Jt][t]=!1),he(this,t,T(1,n))};return y&&le&&he(se,t,{configurable:!0,set:e}),ce(t)}).prototype,"toString",function(){return this._k}),$t.f=me,x.f=de,Vt.f=Ht.f=ge,yt.f=fe,_t.f=_e,y&&P(se,"propertyIsEnumerable",fe,!0),Ot.f=function(t){return ce(Q(t))}),L(L.G+L.W+L.F*!oe,{Symbol:Qt});for(var ye="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ve=0;ye.length>ve;)Q(ye[ve++]);for(var be=gt(Q.store),we=0;be.length>we;)At(be[we++]);L(L.S+L.F*!oe,"Symbol",{for:function(t){return I(ne,t+="")?ne[t]:ne[t]=Qt(t)},keyFor:function(t){if(!ue(t))throw TypeError(t+" is not a symbol!");for(var e in ne)if(ne[e]===t)return e},useSetter:function(){le=!0},useSimple:function(){le=!1}}),L(L.S+L.F*!oe,"Object",{create:function(t,e){return void 0===e?Ft(t):pe(Ft(t),e)},defineProperty:de,defineProperties:pe,getOwnPropertyDescriptor:me,getOwnPropertyNames:ge,getOwnPropertySymbols:_e}),Xt&&L(L.S+L.F*(!oe||_(function(){var t=Qt();return"[null]"!=Zt([t])||"{}"!=Zt({a:t})||"{}"!=Zt(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(m(e)||void 0!==t)&&!ue(t))return G(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!ue(e))return e}),i[1]=e,Zt.apply(Xt,i)}}),Qt.prototype[te]||k(Qt.prototype,te,Qt.prototype.valueOf),kt(Qt,"Symbol"),kt(Math,"Math",!0),kt(p.JSON,"JSON",!0);var Ce=Q("toStringTag"),Ee="Arguments"==j(function(){return arguments}()),Se={};Se[Q("toStringTag")]="z",Se+""!="[object z]"&&P(Object.prototype,"toString",function(){return"[object "+function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ce))?n:Ee?j(e):"Object"==(i=j(e))&&"function"==typeof e.callee?"Arguments":i}(this)+"]"},!0),At("asyncIterator"),At("observable");var xe={},Te={};k(Te,Q("iterator"),function(){return this});var ke=function(t,e,n){t.prototype=Ft(Te,{next:T(1,n)}),kt(t,e+" Iterator")},Oe=ut("IE_PROTO"),Ie=Object.prototype,Ae=Object.getPrototypeOf||function(t){return t=U(t),I(t,Oe)?t[Oe]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Ie:null},Re=Q("iterator"),De=!([].keys&&"next"in[].keys()),Pe=function(){return this},Me=function(t,e,n,i,r,s,o){ke(n,e,i);var a,l,h,c=function(t){if(!De&&t in f)return f[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},u=e+" Iterator",d="values"==r,p=!1,f=t.prototype,m=f[Re]||f["@@iterator"]||r&&f[r],g=m||c(r),_=r?d?c("entries"):g:void 0,y="Array"==e&&f.entries||m;if(y&&(h=Ae(y.call(new t)))!==Object.prototype&&h.next&&(kt(h,u,!0),"function"!=typeof h[Re]&&k(h,Re,Pe)),d&&m&&"values"!==m.name&&(p=!0,g=function(){return m.call(this)}),(De||p||!f[Re])&&k(f,Re,g),xe[e]=g,xe[u]=Pe,r)if(a={values:d?g:c("values"),keys:s?g:c("keys"),entries:_},o)for(l in a)l in f||P(f,l,a[l]);else L(L.P+L.F*(De||p),e,a);return a};Me(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=function(t,e){var n,i,r=String(B(t)),s=W(e),o=r.length;return s<0||s>=o?"":(n=r.charCodeAt(s))<55296||n>56319||s+1===o||(i=r.charCodeAt(s+1))<56320||i>57343?r.charAt(s):r.slice(s,s+2)}(e,n),this._i+=t.length,{value:t,done:!1})});var Ne=function(t,e){return{value:e,done:!!t}},Le=Me(Array,"Array",function(t,e){this._t=at(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Ne(1)):Ne(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");xe.Arguments=xe.Array,nt("keys"),nt("values"),nt("entries");for(var Fe=Q("iterator"),je=Q("toStringTag"),Ve=xe.Array,Be={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Ue=gt(Be),ze=0;ze<Ue.length;ze++){var He,We=Ue[ze],$e=Be[We],qe=p[We],Ge=qe&&qe.prototype;if(Ge&&(Ge[Fe]||k(Ge,Fe,Ve),Ge[je]||k(Ge,je,We),xe[We]=Ve,$e))for(He in Le)Ge[He]||P(Ge,He,Le[He],!0)}Ot.f("iterator")},"2wQf":function(t,e){e.read=function(t,e,n,i,r){var s,o,a=8*r-i-1,l=(1<<a)-1,h=l>>1,c=-7,u=n?r-1:0,d=n?-1:1,p=t[e+u];for(u+=d,s=p&(1<<-c)-1,p>>=-c,c+=a;c>0;s=256*s+t[e+u],u+=d,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=i;c>0;o=256*o+t[e+u],u+=d,c-=8);if(0===s)s=1-h;else{if(s===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,i),s-=h}return(p?-1:1)*o*Math.pow(2,s-i)},e.write=function(t,e,n,i,r,s){var o,a,l,h=8*s-r-1,c=(1<<h)-1,u=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:s-1,f=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+u>=1?d/l:d*Math.pow(2,1-u))*l>=2&&(o++,l/=2),o+u>=c?(a=0,o=c):o+u>=1?(a=(e*l-1)*Math.pow(2,r),o+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,r),o=0));r>=8;t[n+p]=255&a,p+=f,a/=256,r-=8);for(o=o<<r|a,h+=r;h>0;t[n+p]=255&o,p+=f,o/=256,h-=8);t[n+p-f]|=128*m}},3:function(t,e,n){t.exports=n("zUnb")},AoD7:function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(t){return t&&DataView.prototype.isPrototypeOf(t)},r=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};c.prototype.append=function(t,e){t=a(t),e=l(e);var n=this.map[t];this.map[t]=n?n+","+e:e},c.prototype.delete=function(t){delete this.map[a(t)]},c.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},c.prototype.set=function(t,e){this.map[a(t)]=l(e)},c.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},c.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),h(t)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),h(t)},c.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),h(t)},e.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var s=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},m.call(g.prototype),m.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var o=[301,302,303,307,308];y.redirect=function(t,e){if(-1===o.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=c,t.Request=g,t.Response=y,t.fetch=function(t,n){return new Promise(function(i,r){var s=new g(t,n),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:function(t){var e=new c;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}}),e}(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL"),i(new y("response"in o?o.response:o.responseText,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(s.method,s.url,!0),"include"===s.credentials?o.withCredentials=!0:"omit"===s.credentials&&(o.withCredentials=!1),"responseType"in o&&e.blob&&(o.responseType="blob"),s.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send(void 0===s._bodyInit?null:s._bodyInit)})},t.fetch.polyfill=!0}function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function c(t){this.map={},t instanceof c?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function u(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function p(t){var e=new FileReader,n=d(e);return e.readAsArrayBuffer(t),n}function f(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&i(t))this._bodyArrayBuffer=f(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!r(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=d(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(t,e){var n=(e=e||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=function(t){var e=t.toUpperCase();return s.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function _(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function y(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},ECPB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("GE/J"),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,h=l?t[r+2]:0,c=(15&a)<<2|h>>6,u=63&h;l||(u=64,o||(c=64)),i.push(n[s>>2],n[(3&s)<<4|a>>4],n[c],n[u])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){var o=((7&r)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(o>>10)),e[i++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var s=n[t.charAt(r++)],o=r<t.length?n[t.charAt(r)]:0,a=++r<t.length?n[t.charAt(r)]:64,l=++r<t.length?n[t.charAt(r)]:64;if(++r,null==s||null==o||null==a||null==l)throw Error();i.push(s<<2|o>>4),64!=a&&(i.push(o<<4&240|a>>2),64!=l&&i.push(a<<6&192|l))}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},h=function(t){try{return l.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var u=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,i))}},t}(),d=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},p=Error.captureStackTrace,f=function(){return function(t,e){if(this.code=t,this.message=e,p)p(this,m.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return t.stack}})}}}();f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f.prototype.name="FirebaseError";var m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,i=this.errors[t],r=this.service+"/"+t;n=void 0===i?"Error":i.replace(this.pattern,function(t,n){var i=e[n];return void 0!==i?i.toString():"<"+n+"?>"});var s=new f(r,n=this.serviceName+": "+n+" ("+r+").");for(var o in e)e.hasOwnProperty(o)&&"_"!==o.slice(-1)&&(s[o]=e[o]);return s},t}();function g(t){return JSON.parse(t)}var _=function(t){var e={},n={},i={},r="";try{var s=t.split(".");e=g(h(s[0])||""),n=g(h(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:i,signature:r}},y=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},v=function(t,e){return y(e,function(e,n){t[e]=n}),t},b=function(t,e,n){for(var i in t)if(e.call(n,t[i],i,t))return i},w=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return i.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++)n[i]=4294967295&((u=n[i-3]^n[i-8]^n[i-14]^n[i-16])<<1|u>>>31);var r,s,o=this.chain_[0],a=this.chain_[1],l=this.chain_[2],h=this.chain_[3],c=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(r=h^a&(l^h),s=1518500249):(r=a^l^h,s=1859775393):i<60?(r=a&l|h&(a|l),s=2400959708):(r=a^l^h,s=3395469782);var u=(o<<5|o>>>27)+r+c+s+n[i]&4294967295;c=h,h=l,l=4294967295&(a<<30|a>>>2),a=o,o=u}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,s=this.inbuf_;i<e;){if(0==s)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[s]=t.charCodeAt(i),++i,++s==this.blockSize){this.compress_(r),s=0;break}}else for(;i<e;)if(r[s]=t[i],++i,++s==this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},e}(function(){this.blockSize=-1}),C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=E),void 0===i.error&&(i.error=E),void 0===i.complete&&(i.complete=E);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}}),this.observers.push(i),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}function S(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+i+" argument "}e.assert=s,e.assertionError=o,e.base64=l,e.base64Decode=h,e.base64Encode=function(t){var e=a(t);return l.encodeByteArray(e,!0)},e.CONSTANTS=r,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.patchProperty=function(t,e,n){t[e]=n},e.Deferred=u,e.getUA=d,e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.ErrorFactory=m,e.FirebaseError=f,e.patchCapture=function(t){var e=p;return p=t,e},e.jsonEval=g,e.stringify=function(t){return JSON.stringify(t)},e.decode=_,e.isAdmin=function(t){var e=_(t).claims;return"object"==typeof e&&!0===e.admin},e.issuedAtTime=function(t){var e=_(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.isValidFormat=function(t){var e=_(t),n=e.claims;return!!e.signature&&!!n&&"object"==typeof n&&n.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,i=_(t).claims,r=Math.floor((new Date).getTime()/1e3);return"object"==typeof i&&(i.hasOwnProperty("nbf")?e=i.nbf:i.hasOwnProperty("iat")&&(e=i.iat),n=i.hasOwnProperty("exp")?i.exp:e+86400),r&&e&&n&&r>=e&&r<=n},e.clone=function(t){return v({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=v,e.findKey=b,e.findValue=function(t,e,n){var i=b(t,e,n);return i&&t[i]},e.forEach=y,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getValues=function(t){var e=[],n=0;for(var i in t)e[n++]=t[i];return e},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.map=function(t,e,n){var i={};for(var r in t)i[r]=e.call(n,t[r],r,t);return i},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.querystring=function(t){var e=[];return y(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.Sha1=w,e.async=function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.createSubscribe=function(t,e){var n=new C(t,e);return n.subscribe.bind(n)},e.errorPrefix=S,e.validateArgCount=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")},e.validateCallback=function(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(S(t,e,i)+"must be a valid function.")},e.validateContextObject=function(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(S(t,e,i)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,i){if((!i||n)&&"string"!=typeof n)throw new Error(S(t,e,i)+"must be a valid firebase namespace.")},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);if(r>=55296&&r<=56319){var o=r-55296;s(++i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(t.charCodeAt(i)-56320)}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e}},"GE/J":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return r}),n.d(e,"__assign",function(){return s}),n.d(e,"__rest",function(){return o}),n.d(e,"__decorate",function(){return a}),n.d(e,"__param",function(){return l}),n.d(e,"__metadata",function(){return h}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return u}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return f}),n.d(e,"__spread",function(){return m}),n.d(e,"__await",function(){return g}),n.d(e,"__asyncGenerator",function(){return _}),n.d(e,"__asyncDelegator",function(){return y}),n.d(e,"__asyncValues",function(){return v}),n.d(e,"__makeTemplateObject",function(){return b}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return C});var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};function o(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&(n[i[r]]=t[i[r]])}return n}function a(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function l(t,e){return function(n,i){e(n,i,t)}}function h(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,i){return new(n||(n=Promise))(function(r,s){function o(t){try{l(i.next(t))}catch(t){s(t)}}function a(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(o,a)}l((i=i.apply(t,e||[])).next())})}function u(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=i[2&s[0]?"return":s[0]?"throw":"next"])&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[0,r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(t){r[t]&&(i[t]=function(e){return new Promise(function(n,i){s.push([t,e,n,i])>1||a(t,e)})})}function a(t,e){try{!function(t){t.value instanceof g?Promise.resolve(t.value.v).then(l,h):c(s[0][2],t)}(r[t](e))}catch(t){c(s[0][3],t)}}function l(t){a("next",t)}function h(t){a("throw",t)}function c(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function y(t){var e,n;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){t[i]&&(e[i]=function(e){return(n=!n)?{value:g(t[i](e)),done:"return"===i}:r?r(e):e})}}function v(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):p(t)}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},LMID:function(t,e,n){"use strict";var i=n("ntMP"),r=n("2wQf");e.Buffer=a,e.SlowBuffer=function(t){return+t!=t&&(t=0),a.alloc(+t)},e.INSPECT_MAX_BYTES=50;var s=2147483647;function o(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=a.prototype,e}function a(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return c(t)}return l(t,e,n)}function l(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|p(t,e),i=o(n),r=i.write(t,e);return r!==n&&(i=i.slice(0,r)),i}(t,e);if(ArrayBuffer.isView(t))return u(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(B(t,ArrayBuffer)||t&&B(t.buffer,ArrayBuffer))return function(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return(i=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n)).__proto__=a.prototype,i}(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return a.from(i,e,n);var r=function(t){if(a.isBuffer(t)){var e=0|d(t.length),n=o(e);return 0===n.length?n:(t.copy(n,0,0,e),n)}return void 0!==t.length?"number"!=typeof t.length||U(t.length)?o(0):u(t):"Buffer"===t.type&&Array.isArray(t.data)?u(t.data):void 0}(t);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return h(t),o(t<0?0:0|d(t))}function u(t){for(var e=t.length<0?0:0|d(t.length),n=o(e),i=0;i<e;i+=1)n[i]=255&t[i];return n}function d(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function p(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||B(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(t).length;default:if(r)return i?-1:F(t).length;e=(""+e).toLowerCase(),r=!0}}function f(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function m(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),U(n=+n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=a.from(e,i)),a.isBuffer(e))return 0===e.length?-1:g(t,e,n,i,r);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):g(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,i,r){var s,o=1,a=t.length,l=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;o=2,a/=2,l/=2,n/=2}function h(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(r){var c=-1;for(s=n;s<a;s++)if(h(t,s)===h(e,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===l)return c*o}else-1!==c&&(s-=s-c),c=-1}else for(n+l>a&&(n=a-l),s=n;s>=0;s--){for(var u=!0,d=0;d<l;d++)if(h(t,s+d)!==h(e,d)){u=!1;break}if(u)return s}return-1}function _(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var s=e.length;i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(e.substr(2*o,2),16);if(U(a))return o;t[n+o]=a}return o}function y(t,e,n,i){return V(F(e,t.length-n),t,n,i)}function v(t,e,n,i){return V(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function b(t,e,n,i){return v(t,e,n,i)}function w(t,e,n,i){return V(j(e),t,n,i)}function C(t,e,n,i){return V(function(t,e){for(var n,i,r=[],s=0;s<t.length&&!((e-=2)<0);++s)i=(n=t.charCodeAt(s))>>8,r.push(n%256),r.push(i);return r}(e,t.length-n),t,n,i)}function E(t,e,n){return i.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var s,o,a,l,h=t[r],c=null,u=h>239?4:h>223?3:h>191?2:1;if(r+u<=n)switch(u){case 1:h<128&&(c=h);break;case 2:128==(192&(s=t[r+1]))&&(l=(31&h)<<6|63&s)>127&&(c=l);break;case 3:o=t[r+2],128==(192&(s=t[r+1]))&&128==(192&o)&&(l=(15&h)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=t[r+2],a=t[r+3],128==(192&(s=t[r+1]))&&128==(192&o)&&128==(192&a)&&(l=(15&h)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,u=1):c>65535&&(i.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=u}return function(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=x));return n}(i)}e.kMaxLength=s,(a.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(t,e,n){return l(t,e,n)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(t,e,n){return function(t,e,n){return h(t),t<=0?o(t):void 0!==e?"string"==typeof n?o(t).fill(e,n):o(t).fill(e):o(t)}(t,e,n)},a.allocUnsafe=function(t){return c(t)},a.allocUnsafeSlow=function(t){return c(t)},a.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==a.prototype},a.compare=function(t,e){if(B(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),B(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,i=e.length,r=0,s=Math.min(n,i);r<s;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=a.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var s=t[n];if(B(s,Uint8Array)&&(s=a.from(s)),!a.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)f(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)f(this,e,e+3),f(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)f(this,e,e+7),f(this,e+1,e+6),f(this,e+2,e+5),f(this,e+3,e+4);return this},a.prototype.toLocaleString=a.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):(function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return k(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}).apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},a.prototype.compare=function(t,e,n,i,r){if(B(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var s=r-i,o=n-e,l=Math.min(s,o),h=this.slice(i,r),c=t.slice(e,n),u=0;u<l;++u)if(h[u]!==c[u]){s=h[u],o=c[u];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},a.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return y(this,t,e,n);case"ascii":return v(this,t,e,n);case"latin1":case"binary":return b(this,t,e,n);case"base64":return w(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function T(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function k(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function O(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",s=e;s<n;++s)r+=L(t[s]);return r}function I(t,e,n){for(var i=t.slice(e,n),r="",s=0;s<i.length;s+=2)r+=String.fromCharCode(i[s]+256*i[s+1]);return r}function A(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,i,r,s){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function D(t,e,n,i,r,s){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(t,e,n,i,s){return e=+e,n>>>=0,s||D(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function M(t,e,n,i,s){return e=+e,n>>>=0,s||D(t,0,n,8),r.write(t,e,n,i,52,8),n+8}a.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var i=this.subarray(t,e);return i.__proto__=a.prototype,i},a.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||A(t,e,this.length);for(var i=this[t],r=1,s=0;++s<e&&(r*=256);)i+=this[t+s]*r;return i},a.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||A(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},a.prototype.readUInt8=function(t,e){return t>>>=0,e||A(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||A(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||A(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||A(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||A(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||A(t,e,this.length);for(var i=this[t],r=1,s=0;++s<e&&(r*=256);)i+=this[t+s]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},a.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||A(t,e,this.length);for(var i=e,r=1,s=this[t+--i];i>0&&(r*=256);)s+=this[t+--i]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*e)),s},a.prototype.readInt8=function(t,e){return t>>>=0,e||A(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||A(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){t>>>=0,e||A(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||A(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||A(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return t>>>=0,e||A(t,4,this.length),r.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||A(t,4,this.length),r.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||A(t,8,this.length),r.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||A(t,8,this.length),r.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,n,i){t=+t,e>>>=0,n>>>=0,i||R(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,s=0;for(this[e]=255&t;++s<n&&(r*=256);)this[e+s]=t/r&255;return e+n},a.prototype.writeUIntBE=function(t,e,n,i){t=+t,e>>>=0,n>>>=0,i||R(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,s=1;for(this[e+r]=255&t;--r>=0&&(s*=256);)this[e+r]=t/s&255;return e+n},a.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}var s=0,o=1,a=0;for(this[e]=255&t;++s<n&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},a.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}var s=n-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeFloatLE=function(t,e,n){return P(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return P(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return M(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return M(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,i){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r=i-n;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,n,i);else if(this===t&&n<e&&e<i)for(var s=r-1;s>=0;--s)t[s+e]=this[s+n];else Uint8Array.prototype.set.call(t,this.subarray(n,i),e);return r},a.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!a.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){var r=t.charCodeAt(0);("utf8"===i&&r<128||"latin1"===i)&&(t=r)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var s;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(s=e;s<n;++s)this[s]=t;else{var o=a.isBuffer(t)?t:a.from(t,i),l=o.length;if(0===l)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<n-e;++s)this[s+e]=o[s%l]}return this};var N=/[^+/0-9A-Za-z-_]/g;function L(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var i=t.length,r=null,s=[],o=0;o<i;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function j(t){return i.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function V(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}function B(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function U(t){return t!=t}},NqFF:function(t,e,n){"use strict";n.r(e),n.d(e,"setLogLevel",function(){return l}),n.d(e,"Logger",function(){return a}),n.d(e,"LogLevel",function(){return r});var i=[],r=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s=r.INFO,o=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString();switch(e){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+s+"]  "+t.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+s+"]  "+t.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+s+"]  "+t.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+s+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},a=function(){function t(t){this.name=t,this._logLevel=s,this._logHandler=o,i.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.ERROR].concat(t))},t}();function l(t){i.forEach(function(e){e.logLevel=t})}},WiLL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,s,o,a,l,h,c=n("ECPB"),u=n("NqFF"),d=n("mz+s"),p=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n("eBTZ")),f=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),c.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:c.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),m=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return c.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),g=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new f(e)}}catch(t){}return new m},_=g("localStorage"),y=g("sessionStorage"),v=new u.Logger("@firebase/database"),b=function(){var t=1;return function(){return t++}}(),w=function(t){var e=c.stringToByteArray(t),n=new c.Sha1;n.update(e);var i=n.digest();return c.base64.encodeByteArray(i)},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",i=0;i<t.length;i++)Array.isArray(t[i])||t[i]&&"object"==typeof t[i]&&"number"==typeof t[i].length?n+=C.apply(null,t[i]):n+="object"==typeof t[i]?c.stringify(t[i]):t[i],n+=" ";return n},E=null,S=!0,x=function(t,e){c.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(v.logLevel=u.LogLevel.VERBOSE,E=v.log.bind(v),e&&y.set("logging_enabled",!0)):"function"==typeof t?E=t:(E=null,y.remove("logging_enabled"))},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===S&&(S=!1,null===E&&!0===y.get("logging_enabled")&&x(!0)),E){var n=C.apply(null,t);E(n)}},k=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];T.apply(void 0,[t].concat(e))}},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+C.apply(void 0,t);v.error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+C.apply(void 0,t);throw v.error(n),new Error(n)},A=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+C.apply(void 0,t);v.warn(n)},R=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},D="[MIN_NAME]",P="[MAX_NAME]",M=function(t,e){if(t===e)return 0;if(t===D||e===P)return-1;if(e===D||t===P)return 1;var n=z(t),i=z(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1},N=function(t,e){return t===e?0:t<e?-1:1},L=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+c.stringify(e))},F=function(t){if("object"!=typeof t||null===t)return c.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var i="{",r=0;r<e.length;r++)0!==r&&(i+=","),i+=c.stringify(e[r]),i+=":",i+=F(t[e[r]]);return i+"}"},j=function(t,e){var n=t.length;if(n<=e)return[t];for(var i=[],r=0;r<n;r+=e)i.push(t.substring(r,r+e>n?n:r+e));return i},V=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;++n)e(n,t[n]);else c.forEach(t,function(t,n){return e(n,t)})},B=function(t){var e,n,i,r,s,o,a;for(c.assert(!R(t),"Invalid JSON number"),0===t?(n=0,i=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,i=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074)))),o=[],s=52;s;s-=1)o.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(e?1:0),o.reverse(),a=o.join("");var l="";for(s=0;s<64;s+=8){var h=parseInt(a.substr(s,8),2).toString(16);1===h.length&&(h="0"+h),l+=h}return l.toLowerCase()},U=new RegExp("^-?\\d{1,10}$"),z=function(t){if(U.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},H=function(t){try{t()}catch(t){setTimeout(function(){throw A("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},W=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},q=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],i=this.pieceNum_;i<this.pieces_.length;i++)n.push(this.pieces_[i]);if(e instanceof t)for(i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{var r=e.split("/");for(i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var i=e.getFront(),r=n.getFront();if(null===i)return n;if(i===r)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),i=e.slice(),r=0;r<n.length&&r<i.length;r++){var s=M(n[r],i[r]);if(0!==s)return s}return n.length===i.length?0:n.length<i.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),G=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=c.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=c.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=c.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),Y="long_polling",K=function(){function t(t,e,n,i,r){void 0===r&&(r=""),this.secure=e,this.namespace=n,this.webSocketOnly=i,this.persistenceKey=r,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=_.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&_.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(c.assert("string"==typeof t,"typeof type must == string"),c.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==Y)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var i=[];return c.forEach(e,function(t,e){i.push(t+"="+e)}),n+i.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),Q=function(t){var e=X(t),n=e.subdomain;return"firebase"===e.domain&&I(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||I("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&A("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new K(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme),path:new q(e.pathString)}},X=function(t){var e="",n="",i="",r="",s=!0,o="https",a=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(o=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var c=t.indexOf("?");-1===c&&(c=t.length),e=t.substring(0,Math.min(h,c)),h<c&&(r=function(e){for(var n="",i=t.substring(h,c).split("/"),r=0;r<i.length;r++)if(i[r].length>0){var s=i[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch(t){}n+="/"+s}return n}());var u=function(t){var e={};"?"===t.charAt(0)&&(t=t.substring(1));for(var n=0,i=t.split("&");n<i.length;n++){var r=i[n];if(0!==r.length){var s=r.split("=");2===s.length?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):A("Invalid query segment '"+r+"' in query '"+t+"'")}}return e}(t.substring(Math.min(t.length,c)));(l=e.indexOf(":"))>=0?(s="https"===o||"wss"===o,a=parseInt(e.substring(l+1),10)):l=t.length;var d=e.split(".");3===d.length?(n=d[1],i=d[0].toLowerCase()):2===d.length?n=d[0]:"localhost"===d[0].slice(0,l).toLowerCase()&&(n="localhost"),""===i&&"ns"in u&&(i=u.ns)}return{host:e,port:a,domain:n,subdomain:i,secure:s,scheme:o,pathString:r}},Z=/[\[\].#$\/\u0000-\u001F\u007F]/,J=/[\[\].#$\u0000-\u001F\u007F]/,tt=function(t){return"string"==typeof t&&0!==t.length&&!Z.test(t)},et=function(t){return"string"==typeof t&&0!==t.length&&!J.test(t)},nt=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!R(t)||t&&"object"==typeof t&&c.contains(t,".sv")},it=function(t,e,n,i,r){r&&void 0===n||rt(c.errorPrefix(t,e,r),n,i)},rt=function(t,e,n){var i=n instanceof q?new G(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+i.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+i.toErrorString()+" with contents = "+e.toString());if(R(e))throw new Error(t+"contains "+e.toString()+" "+i.toErrorString());if("string"==typeof e&&e.length>10485760/3&&c.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var r=!1,s=!1;if(c.forEach(e,function(e,n){if(".value"===e)r=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!tt(e)))throw new Error(t+" contains an invalid key ("+e+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(e),rt(t,n,i),i.pop()}),r&&s)throw new Error(t+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},st=function(t,e,n,i,r){if(!r||void 0!==n){var s=c.errorPrefix(t,e,r);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var o=[];c.forEach(n,function(t,e){var n=new q(t);if(rt(s,e,i.child(n)),".priority"===n.getBack()&&!nt(e))throw new Error(s+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(n)}),function(t,e){var n,i;for(n=0;n<e.length;n++)for(var r=(i=e[n]).slice(),s=0;s<r.length;s++)if(".priority"===r[s]&&s===r.length-1);else if(!tt(r[s]))throw new Error(t+"contains an invalid key ("+r[s]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(q.comparePaths);var o=null;for(n=0;n<e.length;n++){if(i=e[n],null!==o&&o.contains(i))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}}(s,o)}},ot=function(t,e,n,i){if(!i||void 0!==n){if(R(n))throw new Error(c.errorPrefix(t,e,i)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!nt(n))throw new Error(c.errorPrefix(t,e,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},at=function(t,e,n,i){if(!i||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(c.errorPrefix(t,e,i)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},lt=function(t,e,n,i){if(!(i&&void 0===n||tt(n)))throw new Error(c.errorPrefix(t,e,i)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ht=function(t,e,n,i){if(!(i&&void 0===n||et(n)))throw new Error(c.errorPrefix(t,e,i)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ct=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},ut=function(t,e,n){var i=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!tt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==i.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),et(t)}(i))throw new Error(c.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},dt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){c.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),c.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new c.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){c.validateArgCount("OnDisconnect.remove",0,1,arguments.length),ct("OnDisconnect.remove",this.path_),c.validateCallback("OnDisconnect.remove",1,t,!0);var e=new c.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){c.validateArgCount("OnDisconnect.set",1,2,arguments.length),ct("OnDisconnect.set",this.path_),it("OnDisconnect.set",1,t,this.path_,!1),c.validateCallback("OnDisconnect.set",2,e,!0);var n=new c.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){c.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),ct("OnDisconnect.setWithPriority",this.path_),it("OnDisconnect.setWithPriority",1,t,this.path_,!1),ot("OnDisconnect.setWithPriority",2,e,!1),c.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var i=new c.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,i.wrapCallback(n)),i.promise},t.prototype.update=function(t,e){if(c.validateArgCount("OnDisconnect.update",1,2,arguments.length),ct("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,A("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}st("OnDisconnect.update",1,t,this.path_,!1),c.validateCallback("OnDisconnect.update",2,e,!0);var r=new c.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,r.wrapCallback(e)),r.promise},t}(),pt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return c.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),ft=function(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e=0,n=[];return function(i){var r,s=i===e;e=i;var o=new Array(8);for(r=7;r>=0;r--)o[r]=t.charAt(i%64),i=Math.floor(i/64);c.assert(0===i,"Cannot push at time == 0");var a=o.join("");if(s){for(r=11;r>=0&&63===n[r];r--)n[r]=0;n[r]++}else for(r=0;r<12;r++)n[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=t.charAt(n[r]);return c.assert(20===a.length,"nextPushId: Length should be 20."),a}}(),mt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),gt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new mt(D,t),i=new mt(D,e);return 0!==this.compare(n,i)},t.prototype.minPost=function(){return mt.MIN},t}(),_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return i},set:function(t){i=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return M(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw c.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return mt.MIN},e.prototype.maxPost=function(){return new mt(P,i)},e.prototype.makePost=function(t,e){return c.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new mt(t,i)},e.prototype.toString=function(){return".key"},e}(gt),yt=new _t,vt=function(t){return"number"==typeof t?"number:"+B(t):"string:"+t},bt=function(t){if(t.isLeafNode()){var e=t.val();c.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&c.contains(e,".sv"),"Priority must be a string or number.")}else c.assert(t===r||t.isEmpty(),"priority of unexpected type.");c.assert(t===r||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},wt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,c.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),bt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return s},set:function(t){s=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var i=e.getFront();return null===i?n:n.isEmpty()&&".priority"!==i?this:(c.assert(".priority"!==i||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+vt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?B(this.value_):this.value_,this.lazyHash_=w(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(c.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,i=typeof this.value_,r=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(i);return c.assert(r>=0,"Unknown leaf type: "+n),c.assert(s>=0,"Unknown leaf type: "+i),r===s?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Ct=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),i=e.node.getPriority(),r=n.compareTo(i);return 0===r?M(t.name,e.name):r},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return mt.MIN},e.prototype.maxPost=function(){return new mt(P,new wt("[PRIORITY-POST]",a))},e.prototype.makePost=function(t,e){var n=o(t);return new mt(e,new wt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(gt)),Et=function(){function t(t,e,n,i,r){void 0===r&&(r=null),this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];for(var s=1;!t.isEmpty();)if(t=t,s=e?n(t.key,e):1,i&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),St=function(){function t(e,n,i,r,s){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:Tt.EMPTY_NODE,this.right=null!=s?s:Tt.EMPTY_NODE}return t.prototype.copy=function(e,n,i,r,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i,r;return(r=(i=n(t,(r=this).key))<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Tt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,i;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Tt.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),xt=function(){function t(){}return t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new St(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Tt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,St.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,St.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,i=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Et(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Et(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Et(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Et(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new xt,t}(),kt=Math.log(2),Ot=function(){function t(t){this.count=parseInt(Math.log(t+1)/kt,10),this.current_=this.count-1;var e=function(t){return parseInt(Array(t+1).join("1"),2)}(this.count);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),It=function(t,e,n,i){t.sort(e);var r=function(e,i){var s,o,a=i-e;if(0==a)return null;if(1==a)return s=t[e],o=n?n(s):s,new St(o,s.node,St.BLACK,null,null);var l=parseInt(a/2,10)+e,h=r(e,l),c=r(l+1,i);return s=t[l],o=n?n(s):s,new St(o,s.node,St.BLACK,h,c)},s=function(e){for(var i=null,s=null,o=t.length,a=function(e,i){var s=o-e,a=o;o-=e;var h=r(s+1,a),c=t[s],u=n?n(c):c;l(new St(u,c.node,i,null,h))},l=function(t){i?(i.left=t,i=t):(s=t,i=t)},h=0;h<e.count;++h){var c=e.nextBitIsOne(),u=Math.pow(2,e.count-(h+1));c?a(u,St.BLACK):(a(u,St.BLACK),a(u,St.RED))}return s}(new Ot(t.length));return new Tt(i||e,s)},At={},Rt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return c.assert(At&&Ct,"ChildrenNode.ts has not been loaded"),l=l||new t({".priority":At},{".priority":Ct})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=c.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===At?null:e},t.prototype.hasIndex=function(t){return c.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){c.assert(e!==yt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i,r=[],s=!1,o=n.getIterator(mt.Wrap),a=o.getNext();a;)s=s||e.isDefinedOn(a.node),r.push(a),a=o.getNext();i=s?It(r,e.getCompare()):At;var l=e.toString(),h=c.clone(this.indexSet_);h[l]=e;var u=c.clone(this.indexes_);return u[l]=i,new t(u,h)},t.prototype.addToIndexes=function(e,n){var i=this;return new t(c.map(this.indexes_,function(t,r){var s=c.safeGet(i.indexSet_,r);if(c.assert(s,"Missing index implementation for "+r),t===At){if(s.isDefinedOn(e.node)){for(var o=[],a=n.getIterator(mt.Wrap),l=a.getNext();l;)l.name!=e.name&&o.push(l),l=a.getNext();return o.push(e),It(o,s.getCompare())}return At}var h=n.get(e.name),u=t;return h&&(u=u.remove(new mt(e.name,h))),u.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(c.map(this.indexes_,function(t){if(t===At)return t;var i=n.get(e.name);return i?t.remove(new mt(e.name,i)):t}),this.indexSet_)},t}();function Dt(t,e){return M(t.name,e.name)}function Pt(t,e){return M(t,e)}var Mt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&bt(this.priorityNode_),this.children_.isEmpty()&&c.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return h||(h=new t(new Tt(Pt),null,Rt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||h},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?h:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(c.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var i=new mt(e,n),r=void 0,s=void 0;return n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_)),new t(r,r.isEmpty()?h:this.priorityNode_,s)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;c.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},i=0,r=0,s=!0;if(this.forEachChild(Ct,function(o,a){n[o]=a.val(e),i++,s&&t.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){var o=[];for(var a in n)o[a]=n[a];return o}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+vt(this.getPriority().val())+":"),this.forEachChild(Ct,function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)}),this.lazyHash_=""===t?"":w(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new mt(t,e));return r?r.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new mt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new mt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var i=this.children_.getIteratorFrom(t.name,mt.Wrap),r=i.peek();null!=r&&e.compare(r,t)<0;)i.getNext(),r=i.peek();return i},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var i=this.children_.getReverseIteratorFrom(t.name,mt.Wrap),r=i.peek();null!=r&&e.compare(r,t)>0;)i.getNext(),r=i.peek();return i},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Nt?-1:0},t.prototype.withIndex=function(e){if(e===yt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===yt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Ct),i=e.getIterator(Ct),r=n.getNext(),s=i.getNext();r&&s;){if(r.name!==s.name||!r.node.equals(s.node))return!1;r=n.getNext(),s=i.getNext()}return null===r&&null===s}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===yt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Nt=new(function(t){function e(){return t.call(this,new Tt(Pt),Mt.EMPTY_NODE,Rt.Default)||this}return d.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Mt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Mt));Object.defineProperties(mt,{MIN:{value:new mt(D,Mt.EMPTY_NODE)},MAX:{value:new mt(P,Nt)}}),_t.__EMPTY_NODE=Mt.EMPTY_NODE,wt.__childrenNodeConstructor=Mt,r=Nt,a=Nt;var Lt=!0;function Ft(t,e){if(void 0===e&&(e=null),null===t)return Mt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),c.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new wt(t,Ft(e));if(t instanceof Array||!Lt){var n=Mt.EMPTY_NODE,i=t;return c.forEach(i,function(t,e){if(c.contains(i,t)&&"."!==t.substring(0,1)){var r=Ft(e);!r.isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(t,r))}}),n.updatePriority(Ft(e))}var r=[],s=!1,o=t;if(c.forEach(o,function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var n=Ft(o[t]);n.isEmpty()||(s=s||!n.getPriority().isEmpty(),r.push(new mt(t,n)))}}),0==r.length)return Mt.EMPTY_NODE;var a=It(r,Dt,function(t){return t.name},Pt);if(s){var l=It(r,Ct.getCompare());return new Mt(a,Ft(e),new Rt({".priority":l},{".priority":Ct}))}return new Mt(a,Ft(e),Rt.Default)}o=Ft;var jt,Vt,Bt,Ut=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?M(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return mt.MIN},e.prototype.maxPost=function(){return mt.MAX},e.prototype.makePost=function(t,e){var n=Ft(t);return new mt(e,n)},e.prototype.toString=function(){return".value"},e}(gt)),zt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,c.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return d.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),i=this.extractChild(e.node),r=n.compareTo(i);return 0===r?M(t.name,e.name):r},e.prototype.makePost=function(t,e){var n=Ft(t),i=Mt.EMPTY_NODE.updateChild(this.indexPath_,n);return new mt(e,i)},e.prototype.maxPost=function(){var t=Mt.EMPTY_NODE.updateChild(this.indexPath_,Nt);return new mt(P,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(gt),Ht=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return c.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return c.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return c.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return c.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){c.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),ht("DataSnapshot.child",1,e,!1);var n=new q(e),i=this.ref_.child(n);return new t(this.node_.getChild(n),i,Ct)},t.prototype.hasChild=function(t){c.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),ht("DataSnapshot.hasChild",1,t,!1);var e=new q(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return c.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return c.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),c.validateCallback("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(i,r){return e(new t(r,n.ref_.child(i),Ct))})},t.prototype.hasChildren=function(){return c.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return c.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return c.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Wt=function(){function t(t,e,n,i){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=i}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+c.stringify(this.snapshot.exportVal())},t}(),$t=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),qt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Wt("value",this,new Ht(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){c.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callback_;return function(){i.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new $t(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Gt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return c.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new $t(this,t,e):null},t.prototype.createEvent=function(t,e){c.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),i=e.getQueryParams().getIndex();return new Wt(t.type,this,new Ht(t.snapshotNode,n,i),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){c.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callbacks_[t.eventType];return function(){i.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=c.getCount(e.callbacks_);if(n===c.getCount(this.callbacks_)){if(1===n){var i=c.getAnyKey(e.callbacks_),r=c.getAnyKey(this.callbacks_);return!(r!==i||e.callbacks_[i]&&this.callbacks_[r]&&e.callbacks_[i]!==this.callbacks_[r])}return c.every(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Yt=function(){function t(t,e,n,i){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=i}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return c.assert(jt,"Reference.ts has not been loaded"),jt},set:function(t){jt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===yt){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=D)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!=P)throw new Error(i);if("string"!=typeof n)throw new Error(r)}}else if(t.getIndex()===Ct){if(null!=e&&!nt(e)||null!=n&&!nt(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(c.assert(t.getIndex()instanceof zt||t.getIndex()===Ut,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return c.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,i,r){c.validateArgCount("Query.on",2,4,arguments.length),at("Query.on",1,e,!1),c.validateCallback("Query.on",2,n,!1);var s=t.getCancelAndContextArgs_("Query.on",i,r);if("value"===e)this.onValueEvent(n,s.cancel,s.context);else{var o={};o[e]=n,this.onChildEvent(o,s.cancel,s.context)}return n},t.prototype.onValueEvent=function(t,e,n){var i=new qt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,i)},t.prototype.onChildEvent=function(t,e,n){var i=new Gt(t,e,n);this.repo.addEventCallbackForQuery(this,i)},t.prototype.off=function(t,e,n){c.validateArgCount("Query.off",0,3,arguments.length),at("Query.off",1,t,!0),c.validateCallback("Query.off",2,e,!0),c.validateContextObject("Query.off",3,n,!0);var i=null,r=null;"value"===t?i=new qt(e||null,null,n||null):t&&(e&&((r={})[t]=e),i=new Gt(r,null,n||null)),this.repo.removeEventCallbackForQuery(this,i)},t.prototype.once=function(e,n,i,r){var s=this;c.validateArgCount("Query.once",1,4,arguments.length),at("Query.once",1,e,!1),c.validateCallback("Query.once",2,n,!0);var o=t.getCancelAndContextArgs_("Query.once",i,r),a=!0,l=new c.Deferred;l.promise.catch(function(){});var h=function(t){a&&(a=!1,s.off(e,h),n&&n.bind(o.context)(t),l.resolve(t))};return this.on(e,h,function(t){s.off(e,h),o.cancel&&o.cancel.bind(o.context)(t),l.reject(t)}),l.promise},t.prototype.limitToFirst=function(e){if(c.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(c.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(c.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ht("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new q(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var i=new zt(n),r=this.queryParams_.orderBy(i);return t.validateQueryEndpoints_(r),new t(this.repo,this.path,r,!0)},t.prototype.orderByKey=function(){c.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(yt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){c.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Ct);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){c.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Ut);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),c.validateArgCount("Query.startAt",0,2,arguments.length),it("Query.startAt",1,e,this.path,!0),lt("Query.startAt",2,n,!0);var i=this.queryParams_.startAt(e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),c.validateArgCount("Query.endAt",0,2,arguments.length),it("Query.endAt",1,e,this.path,!0),lt("Query.endAt",2,n,!0);var i=this.queryParams_.endAt(e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(c.validateArgCount("Query.equalTo",1,2,arguments.length),it("Query.equalTo",1,t,this.path,!1),lt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return c.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return c.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=F(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(c.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var n=this.repo===e.repo,i=this.path.equals(e.path),r=this.queryIdentifier()===e.queryIdentifier();return n&&i&&r},t.getCancelAndContextArgs_=function(t,e,n){var i={cancel:null,context:null};if(e&&n)i.cancel=e,c.validateCallback(t,3,i.cancel,!0),i.context=n,c.validateContextObject(t,4,i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error(c.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");i.cancel=e}return i},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Kt=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return c.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return c.isEmpty(this.set)},t.prototype.count=function(){return c.getCount(this.set)},t.prototype.each=function(t){c.forEach(this.set,function(e,n){return t(e,n)})},t.prototype.keys=function(){var t=[];return c.forEach(this.set,function(e){t.push(e)}),t},t}(),Qt=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();return t=t.popFront(),this.children_.contains(e)?this.children_.get(e).find(t):null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,n);else{null==this.children_&&(this.children_=new Kt);var i=e.getFront();this.children_.contains(i)||this.children_.add(i,new t);var r=this.children_.get(i);e=e.popFront(),r.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var n=this;return e.forEachChild(Ct,function(t,e){n.remember(new q(t),e)}),this.forget(t)}if(null!==this.children_){var i=t.getFront();return t=t.popFront(),this.children_.contains(i)&&this.children_.get(i).forget(t)&&this.children_.remove(i),!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(n,i){var r=new q(t.toString()+"/"+n);i.forEachTree(r,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,n){t(e,n)})},t}(),Xt=function(t,e){return t&&"object"==typeof t?(c.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},Zt=function(t,e){var n,i=t.getPriority().val(),r=Xt(i,e);if(t.isLeafNode()){var s=t,o=Xt(s.getValue(),e);return o!==s.getValue()||r!==s.getPriority().val()?new wt(o,Ft(r)):t}var a=t;return n=a,r!==a.getPriority().val()&&(n=n.updatePriority(new wt(r))),a.forEachChild(Ct,function(t,i){var r=Zt(i,e);r!==i&&(n=n.updateImmediateChild(t,r))}),n},Jt=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),te=function(){function t(t,e,n,i){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=i,c.assert(!i||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ee=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Jt.ACK_USER_WRITE,this.source=te.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return c.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new q(e));return new t(q.Empty,n,this.revert)}return c.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),ne=function(){return Vt||(Vt=new Tt(N)),Vt},ie=function(){function t(t,e){void 0===e&&(e=ne()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return c.forEach(e,function(t,e){n=n.set(new q(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:q.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),i=this.children.get(n);if(null!==i){var r=i.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=r?{path:new q(n).child(r.path),value:r.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),i=this.children.get(n);return null!==i?i.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var i=e.getFront(),r=(this.children.get(i)||t.Empty).set(e.popFront(),n),s=this.children.insert(i,r);return new t(this.value,s)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),i=this.children.get(n);if(i){var r=i.remove(e.popFront()),s=void 0;return s=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&s.isEmpty()?t.Empty:new t(this.value,s)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var i,r=e.getFront(),s=(this.children.get(r)||t.Empty).setTree(e.popFront(),n);return i=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new t(this.value,i)},t.prototype.fold=function(t){return this.fold_(q.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(i,r){n[i]=r.fold_(t.child(i),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,q.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var i=!!this.value&&n(e,this.value);if(i)return i;if(t.isEmpty())return null;var r=t.getFront(),s=this.children.get(r);return s?s.findOnPath_(t.popFront(),e.child(r),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,q.Empty,e)},t.prototype.foreachOnPath_=function(e,n,i){if(e.isEmpty())return this;this.value&&i(n,this.value);var r=e.getFront(),s=this.children.get(r);return s?s.foreachOnPath_(e.popFront(),n.child(r),i):t.Empty},t.prototype.foreach=function(t){this.foreach_(q.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,i){i.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),re=function(){function t(t,e){this.source=t,this.path=e,this.type=Jt.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,q.Empty):new t(this.source,this.path.popFront())},t}(),se=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Jt.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,q.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),oe=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Jt.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new q(e));return n.isEmpty()?null:n.value?new se(this.source,q.Empty,n.value):new t(this.source,q.Empty,n)}return c.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),ae=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),le=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,i){return new t(new ae(e,n,i),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,i){return new t(this.eventCache_,new ae(e,n,i))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ae(Mt.EMPTY_NODE,!1,!1),new ae(Mt.EMPTY_NODE,!1,!1)),t}(),he=function(){function t(t,e,n,i,r){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=i,this.prevName=r}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,i){return new t(t.CHILD_CHANGED,n,e,i)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),ce=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,i,r,s){c.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=t.getImmediateChild(e);return o.getChild(i).equals(n.getChild(i))&&o.isEmpty()==n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(he.childRemovedChange(e,o)):c.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(he.childAddedChange(e,n)):s.trackChildChange(he.childChangedChange(e,n,o))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Ct,function(t,i){e.hasChild(t)||n.trackChildChange(he.childRemovedChange(t,i))}),e.isLeafNode()||e.forEachChild(Ct,function(e,i){if(t.hasChild(e)){var r=t.getImmediateChild(e);r.equals(i)||n.trackChildChange(he.childChangedChange(e,i,r))}else n.trackChildChange(he.childAddedChange(e,i))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Mt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ue=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;c.assert(e==he.CHILD_ADDED||e==he.CHILD_CHANGED||e==he.CHILD_REMOVED,"Only child changes supported for tracking"),c.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var i=c.safeGet(this.changeMap_,n);if(i){var r=i.type;if(e==he.CHILD_ADDED&&r==he.CHILD_REMOVED)this.changeMap_[n]=he.childChangedChange(n,t.snapshotNode,i.snapshotNode);else if(e==he.CHILD_REMOVED&&r==he.CHILD_ADDED)delete this.changeMap_[n];else if(e==he.CHILD_REMOVED&&r==he.CHILD_CHANGED)this.changeMap_[n]=he.childRemovedChange(n,i.oldSnap);else if(e==he.CHILD_CHANGED&&r==he.CHILD_ADDED)this.changeMap_[n]=he.childAddedChange(n,t.snapshotNode);else{if(e!=he.CHILD_CHANGED||r!=he.CHILD_CHANGED)throw c.assertionError("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap_[n]=he.childChangedChange(n,t.snapshotNode,i.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return c.getValues(this.changeMap_)},t}(),de=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),pe=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ae(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),r=this.writes_.calcIndexedSlice(i,e,1,n,t);return 0===r.length?null:r[0]},t}(),fe=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){c.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),c.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,i,r){var s,o,a=new ue;if(n.type===Jt.OVERWRITE){var l=n;l.source.fromUser?s=this.applyUserOverwrite_(e,l.path,l.snap,i,r,a):(c.assert(l.source.fromServer,"Unknown source."),o=l.source.tagged||e.getServerCache().isFiltered()&&!l.path.isEmpty(),s=this.applyServerOverwrite_(e,l.path,l.snap,i,r,o,a))}else if(n.type===Jt.MERGE){var h=n;h.source.fromUser?s=this.applyUserMerge_(e,h.path,h.children,i,r,a):(c.assert(h.source.fromServer,"Unknown source."),o=h.source.tagged||e.getServerCache().isFiltered(),s=this.applyServerMerge_(e,h.path,h.children,i,r,o,a))}else if(n.type===Jt.ACK_USER_WRITE){var u=n;s=u.revert?this.revertUserWrite_(e,u.path,i,r,a):this.ackUserWrite_(e,u.path,u.affectedTree,i,r,a)}else{if(n.type!==Jt.LISTEN_COMPLETE)throw c.assertionError("Unknown operation type: "+n.type);s=this.listenComplete_(e,n.path,i,a)}var d=a.getChanges();return t.maybeAddValueEvent_(e,s,d),new function(t,e){this.viewCache=t,this.changes=e}(s,d)},t.maybeAddValueEvent_=function(t,e,n){var i=e.getEventCache();if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(he.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,i,r){var s=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var o=void 0,a=void 0;if(e.isEmpty())if(c.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var l=t.getCompleteServerSnap(),h=n.calcCompleteEventChildren(l instanceof Mt?l:Mt.EMPTY_NODE);o=this.filter_.updateFullNode(t.getEventCache().getNode(),h,r)}else{var u=n.calcCompleteEventCache(t.getCompleteServerSnap());o=this.filter_.updateFullNode(t.getEventCache().getNode(),u,r)}else{var d=e.getFront();if(".priority"==d){c.assert(1==e.getLength(),"Can't have a priority with additional path components");var p=s.getNode();a=t.getServerCache().getNode();var f=n.calcEventCacheAfterServerOverwrite(e,p,a);o=null!=f?this.filter_.updatePriority(p,f):s.getNode()}else{var m=e.popFront(),g=void 0;if(s.isCompleteForChild(d)){a=t.getServerCache().getNode();var _=n.calcEventCacheAfterServerOverwrite(e,s.getNode(),a);g=null!=_?s.getNode().getImmediateChild(d).updateChild(m,_):s.getNode().getImmediateChild(d)}else g=n.calcCompleteChild(d,t.getServerCache());o=null!=g?this.filter_.updateChild(s.getNode(),d,g,m,i,r):s.getNode()}}return t.updateEventSnap(o,s.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,i,r,s,o){var a,l=t.getServerCache(),h=s?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=h.updateFullNode(l.getNode(),n,null);else if(h.filtersNodes()&&!l.isFiltered()){var c=l.getNode().updateChild(e,n);a=h.updateFullNode(l.getNode(),c,null)}else{var u=e.getFront();if(!l.isCompleteForPath(e)&&e.getLength()>1)return t;var d=e.popFront(),p=l.getNode().getImmediateChild(u).updateChild(d,n);a=".priority"==u?h.updatePriority(l.getNode(),p):h.updateChild(l.getNode(),u,p,d,de,null)}var f=t.updateServerSnap(a,l.isFullyInitialized()||e.isEmpty(),h.filtersNodes()),m=new pe(i,f,r);return this.generateEventCacheAfterServerEvent_(f,e,i,m,o)},t.prototype.applyUserOverwrite_=function(t,e,n,i,r,s){var o,a,l=t.getEventCache(),h=new pe(i,t,r);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,s),o=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(".priority"===c)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),o=t.updateEventSnap(a,l.isFullyInitialized(),l.isFiltered());else{var u=e.popFront(),d=l.getNode().getImmediateChild(c),p=void 0;if(u.isEmpty())p=n;else{var f=h.getCompleteChild(c);p=null!=f?".priority"===u.getBack()&&f.getChild(u.parent()).isEmpty()?f:f.updateChild(u,n):Mt.EMPTY_NODE}if(d.equals(p))o=t;else{var m=this.filter_.updateChild(l.getNode(),c,p,u,h,s);o=t.updateEventSnap(m,l.isFullyInitialized(),this.filter_.filtersNodes())}}}return o},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,i,r,s,o){var a=this,l=e;return i.foreach(function(i,h){var c=n.child(i);t.cacheHasChild_(e,c.getFront())&&(l=a.applyUserOverwrite_(l,c,h,r,s,o))}),i.foreach(function(i,h){var c=n.child(i);t.cacheHasChild_(e,c.getFront())||(l=a.applyUserOverwrite_(l,c,h,r,s,o))}),l},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,i,r,s,o){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var l,h=t;l=e.isEmpty()?n:ie.Empty.setTree(e,n);var c=t.getServerCache().getNode();return l.children.inorderTraversal(function(e,n){if(c.hasChild(e)){var l=t.getServerCache().getNode().getImmediateChild(e),u=a.applyMerge_(l,n);h=a.applyServerOverwrite_(h,new q(e),u,i,r,s,o)}}),l.children.inorderTraversal(function(e,n){var l=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!l){var u=t.getServerCache().getNode().getImmediateChild(e),d=a.applyMerge_(u,n);h=a.applyServerOverwrite_(h,new q(e),d,i,r,s,o)}}),h},t.prototype.ackUserWrite_=function(t,e,n,i,r,s){if(null!=i.shadowingWrite(e))return t;var o=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),i,r,o,s);if(e.isEmpty()){var l=ie.Empty;return a.getNode().forEachChild(yt,function(t,e){l=l.set(new q(t),e)}),this.applyServerMerge_(t,e,l,i,r,o,s)}return t}var h=ie.Empty;return n.foreach(function(t,n){var i=e.child(t);a.isCompleteForPath(i)&&(h=h.set(t,a.getNode().getChild(i)))}),this.applyServerMerge_(t,e,h,i,r,o,s)},t.prototype.listenComplete_=function(t,e,n,i){var r=t.getServerCache(),s=t.updateServerSnap(r.getNode(),r.isFullyInitialized()||e.isEmpty(),r.isFiltered());return this.generateEventCacheAfterServerEvent_(s,e,n,de,i)},t.prototype.revertUserWrite_=function(t,e,n,i,r){var s;if(null!=n.shadowingWrite(e))return t;var o=new pe(n,t,i),a=t.getEventCache().getNode(),l=void 0;if(e.isEmpty()||".priority"===e.getFront()){var h=void 0;if(t.getServerCache().isFullyInitialized())h=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var u=t.getServerCache().getNode();c.assert(u instanceof Mt,"serverChildren would be complete if leaf node"),h=n.calcCompleteEventChildren(u)}l=this.filter_.updateFullNode(a,h=h,r)}else{var d=e.getFront(),p=n.calcCompleteChild(d,t.getServerCache());null==p&&t.getServerCache().isCompleteForChild(d)&&(p=a.getImmediateChild(d)),(l=null!=p?this.filter_.updateChild(a,d,p,e.popFront(),o,r):t.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(a,d,Mt.EMPTY_NODE,e.popFront(),o,r):a).isEmpty()&&t.getServerCache().isFullyInitialized()&&(s=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(l=this.filter_.updateFullNode(l,s,r))}return s=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(q.Empty),t.updateEventSnap(l,s,this.filter_.filtersNodes())},t}(),me=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var i=this,r=[],s=[];return t.forEach(function(t){t.type===he.CHILD_CHANGED&&i.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push(he.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(r,he.CHILD_REMOVED,t,n,e),this.generateEventsForType_(r,he.CHILD_ADDED,t,n,e),this.generateEventsForType_(r,he.CHILD_MOVED,s,n,e),this.generateEventsForType_(r,he.CHILD_CHANGED,t,n,e),this.generateEventsForType_(r,he.VALUE,t,n,e),r},t.prototype.generateEventsForType_=function(t,e,n,i,r){var s=this,o=n.filter(function(t){return t.type===e});o.sort(this.compareChanges_.bind(this)),o.forEach(function(e){var n=s.materializeSingleChange_(e,r);i.forEach(function(i){i.respondsTo(e.type)&&t.push(i.createEvent(n,s.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw c.assertionError("Should only compare child_ events.");var n=new mt(t.childName,t.snapshotNode),i=new mt(e.childName,e.snapshotNode);return this.index_.compare(n,i)},t}(),ge=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),i=new ce(n.getIndex()),r=n.getNodeFilter();this.processor_=new fe(r);var s=e.getServerCache(),o=e.getEventCache(),a=i.updateFullNode(Mt.EMPTY_NODE,s.getNode(),null),l=r.updateFullNode(Mt.EMPTY_NODE,o.getNode(),null),h=new ae(a,s.isFullyInitialized(),i.filtersNodes()),c=new ae(l,o.isFullyInitialized(),r.filtersNodes());this.viewCache_=new le(c,h),this.eventGenerator_=new me(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){c.assert(null==t,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach(function(t){var r=t.createCancelEvent(e=e,i);r&&n.push(r)})}if(t){for(var r=[],s=0;s<this.eventRegistrations_.length;++s){var o=this.eventRegistrations_[s];if(o.matches(t)){if(t.hasAnyCallback()){r=r.concat(this.eventRegistrations_.slice(s+1));break}}else r.push(o)}this.eventRegistrations_=r}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===Jt.MERGE&&null!==t.source.queryId&&(c.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),c.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,r=this.processor_.applyOperation(i,t,e,n);return this.processor_.assertIndexed(r.viewCache),c.assert(r.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=r.viewCache,this.generateEventsForChanges_(r.changes,r.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ct,function(t,e){n.push(he.childAddedChange(t,e))}),e.isFullyInitialized()&&n.push(he.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),_e=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return c.assert(Bt,"Reference.ts has not been loaded"),Bt},set:function(t){c.assert(!Bt,"__referenceConstructor has already been defined"),Bt=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return c.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,n){var i=t.source.queryId;if(null!==i){var r=c.safeGet(this.views_,i);return c.assert(null!=r,"SyncTree gave us an op for an invalid query."),r.applyOperation(t,e,n)}var s=[];return c.forEach(this.views_,function(i,r){s=s.concat(r.applyOperation(t,e,n))}),s},t.prototype.addEventRegistration=function(t,e,n,i,r){var s=t.queryIdentifier(),o=c.safeGet(this.views_,s);if(!o){var a=n.calcCompleteEventCache(r?i:null),l=!1;a?l=!0:i instanceof Mt?(a=n.calcCompleteEventChildren(i),l=!1):(a=Mt.EMPTY_NODE,l=!1);var h=new le(new ae(a,l,!1),new ae(i,r,!1));o=new ge(t,h),this.views_[s]=o}return o.addEventRegistration(e),o.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,i){var r=e.queryIdentifier(),s=[],o=[],a=this.hasCompleteView();if("default"===r){var l=this;c.forEach(this.views_,function(t,e){o=o.concat(e.removeEventRegistration(n,i)),e.isEmpty()&&(delete l.views_[t],e.getQuery().getQueryParams().loadsAllData()||s.push(e.getQuery()))})}else{var h=c.safeGet(this.views_,r);h&&(o=o.concat(h.removeEventRegistration(n,i)),h.isEmpty()&&(delete this.views_[r],h.getQuery().getQueryParams().loadsAllData()||s.push(h.getQuery())))}return a&&!this.hasCompleteView()&&s.push(new t.__referenceConstructor(e.repo,e.path)),{removed:s,events:o}},t.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map(function(e){return t.views_[e]}).filter(function(t){return!t.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(t){var e=null;return c.forEach(this.views_,function(n,i){e=e||i.getCompleteServerCache(t)}),e},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return c.safeGet(this.views_,e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){return c.findValue(this.views_,function(t){return t.getQuery().getQueryParams().loadsAllData()})||null},t}(),ye=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new ie(n));var i=this.writeTree_.findRootMostValueAndPath(e);if(null!=i){var r=i.path,s=i.value,o=q.relativePath(r,e);return s=s.updateChild(o,n),new t(this.writeTree_.set(r,s))}var a=new ie(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return c.forEach(e,function(e,i){n=n.addWrite(t.child(e),i)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,ie.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(q.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ct,function(e,n){t.push(new mt(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new mt(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new ie(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(q.Empty,this.writeTree_,e)},t.Empty=new t(new ie(null)),t.applySubtreeWrite_=function(e,n,i){if(null!=n.value)return i.updateChild(e,n.value);var r=null;return n.children.inorderTraversal(function(n,s){".priority"===n?(c.assert(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):i=t.applySubtreeWrite_(e.child(n),s,i)}),i.getChild(e).isEmpty()||null===r||(i=i.updateChild(e.child(".priority"),r)),i},t}(),ve=function(){function t(){this.visibleWrites_=ye.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new be(t,this)},t.prototype.addOverwrite=function(t,e,n,i){c.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:i}),i&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){c.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});c.assert(n>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[n];this.allWrites_.splice(n,1);for(var r=i.visible,s=!1,o=this.allWrites_.length-1;r&&o>=0;){var a=this.allWrites_[o];a.visible&&(o>=n&&this.recordContainsPath_(a,i.path)?r=!1:i.path.contains(a.path)&&(s=!0)),o--}return!!r&&(s?(this.resetTree_(),!0):(i.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(i.path):c.forEach(i.children,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(i.path.child(t))}),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,i,r){if(i||r){var s=this.visibleWrites_.childCompoundWrite(e);return!r&&s.isEmpty()?n:r||null!=n||s.hasCompleteWrite(q.Empty)?t.layerTree_(this.allWrites_,function(t){return(t.visible||r)&&(!i||!~i.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e).apply(n||Mt.EMPTY_NODE):null}var o=this.visibleWrites_.getCompleteNode(e);if(null!=o)return o;var a=this.visibleWrites_.childCompoundWrite(e);return a.isEmpty()?n:null!=n||a.hasCompleteWrite(q.Empty)?a.apply(n||Mt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Mt.EMPTY_NODE,i=this.visibleWrites_.getCompleteNode(t);if(i)return i.isLeafNode()||i.forEachChild(Ct,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var r=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Ct,function(t,e){var i=r.childCompoundWrite(new q(t)).apply(e);n=n.updateImmediateChild(t,i)}),r.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,i){c.assert(n||i,"Either existingEventSnap or existingServerSnap must exist");var r=t.child(e);if(this.visibleWrites_.hasCompleteWrite(r))return null;var s=this.visibleWrites_.childCompoundWrite(r);return s.isEmpty()?i.getChild(e):s.apply(i.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var i=t.child(e),r=this.visibleWrites_.getCompleteNode(i);return null!=r?r:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(i).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,i,r,s){var o,a=this.visibleWrites_.childCompoundWrite(t),l=a.getCompleteNode(q.Empty);if(null!=l)o=l;else{if(null==e)return[];o=a.apply(e)}if((o=o.withIndex(s)).isEmpty()||o.isLeafNode())return[];for(var h=[],c=s.getCompare(),u=r?o.getReverseIteratorFrom(n,s):o.getIteratorFrom(n,s),d=u.getNext();d&&h.length<i;)0!==c(d,n)&&h.push(d),d=u.getNext();return h},t.prototype.recordContainsPath_=function(t,e){return t.snap?t.path.contains(e):!!c.findKey(t.children,function(n,i){return t.path.child(i).contains(e)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,q.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var i=ye.Empty,r=0;r<t.length;++r){var s=t[r];if(e(s)){var o=s.path,a=void 0;if(s.snap)n.contains(o)?(a=q.relativePath(n,o),i=i.addWrite(a,s.snap)):o.contains(n)&&(a=q.relativePath(o,n),i=i.addWrite(q.Empty,s.snap.getChild(a)));else{if(!s.children)throw c.assertionError("WriteRecord should have .snap or .children");if(n.contains(o))a=q.relativePath(n,o),i=i.addWrites(a,s.children);else if(o.contains(n))if((a=q.relativePath(o,n)).isEmpty())i=i.addWrites(q.Empty,s.children);else{var l=c.safeGet(s.children,a.getFront());if(l){var h=l.getChild(a.popFront());i=i.addWrite(q.Empty,h)}}}}}return i},t}(),be=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,i,r){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,i,r)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),we=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=ie.Empty,this.pendingWriteTree_=new ve,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(t,e,n,i){return this.pendingWriteTree_.addOverwrite(t,e,n,i),i?this.applyOperationToSyncPoints_(new se(te.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var i=ie.fromObject(e);return this.applyOperationToSyncPoints_(new oe(te.User,t,i))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var i=ie.Empty;return null!=n.snap?i=i.set(q.Empty,!0):c.forEach(n.children,function(t,e){i=i.set(new q(t),e)}),this.applyOperationToSyncPoints_(new ee(n.path,i,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new se(te.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=ie.fromObject(e);return this.applyOperationToSyncPoints_(new oe(te.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new re(te.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,i){var r=this.queryKeyForTag_(i);if(null!=r){var s=t.parseQueryKey_(r),o=s.path,a=s.queryId,l=q.relativePath(o,e),h=new se(te.forServerTaggedQuery(a),l,n);return this.applyTaggedOperation_(o,h)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,i){var r=this.queryKeyForTag_(i);if(r){var s=t.parseQueryKey_(r),o=s.path,a=s.queryId,l=q.relativePath(o,e),h=ie.fromObject(n),c=new oe(te.forServerTaggedQuery(a),l,h);return this.applyTaggedOperation_(o,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var i=this.queryKeyForTag_(n);if(i){var r=t.parseQueryKey_(i),s=r.path,o=r.queryId,a=q.relativePath(s,e),l=new re(te.forServerTaggedQuery(o),a);return this.applyTaggedOperation_(s,l)}return[]},t.prototype.addEventRegistration=function(e,n){var i=e.path,r=null,s=!1;this.syncPointTree_.foreachOnPath(i,function(t,e){var n=q.relativePath(t,i);r=r||e.getCompleteServerCache(n),s=s||e.hasCompleteView()});var o,a=this.syncPointTree_.get(i);a?(s=s||a.hasCompleteView(),r=r||a.getCompleteServerCache(q.Empty)):(a=new _e,this.syncPointTree_=this.syncPointTree_.set(i,a)),null!=r?o=!0:(o=!1,r=Mt.EMPTY_NODE,this.syncPointTree_.subtree(i).foreachChild(function(t,e){var n=e.getCompleteServerCache(q.Empty);n&&(r=r.updateImmediateChild(t,n))}));var l=a.viewExistsForQuery(e);if(!l&&!e.getQueryParams().loadsAllData()){var h=t.makeQueryKey_(e);c.assert(!(h in this.queryToTagMap_),"View does not exist, but we have a tag");var u=t.getNextQueryTag_();this.queryToTagMap_[h]=u,this.tagToQueryMap_["_"+u]=h}var d=this.pendingWriteTree_.childWrites(i),p=a.addEventRegistration(e,n,d,r,o);if(!l&&!s){var f=a.viewForQuery(e);p=p.concat(this.setupListener_(e,f))}return p},t.prototype.removeEventRegistration=function(e,n,i){var r=this,s=e.path,o=this.syncPointTree_.get(s),a=[];if(o&&("default"===e.queryIdentifier()||o.viewExistsForQuery(e))){var l=o.removeEventRegistration(e,n,i);o.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(s));var h=l.removed;a=l.events;var c=-1!==h.findIndex(function(t){return t.getQueryParams().loadsAllData()}),u=this.syncPointTree_.findOnPath(s,function(t,e){return e.hasCompleteView()});if(c&&!u){var d=this.syncPointTree_.subtree(s);if(!d.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(d),f=0;f<p.length;++f){var m=p[f],g=m.getQuery(),_=this.createListenerForView_(m);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),_.hashFn,_.onComplete)}}!u&&h.length>0&&!i&&(c?this.listenProvider_.stopListening(t.queryForListening_(e),null):h.forEach(function(e){var n=r.queryToTagMap_[t.makeQueryKey_(e)];r.listenProvider_.stopListening(t.queryForListening_(e),n)})),this.removeTags_(h)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,i=this.syncPointTree_.findOnPath(t,function(e,n){var i=q.relativePath(e,t),r=n.getCompleteServerCache(i);if(r)return r});return n.calcCompleteEventCache(t,i,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var i=[];return e&&(i=e.getQueryViews()),c.forEach(n,function(t,e){i=i.concat(e)}),i})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var i=e[n];if(!i.getQueryParams().loadsAllData()){var r=t.makeQueryKey_(i),s=this.queryToTagMap_[r];delete this.queryToTagMap_[r],delete this.tagToQueryMap_["_"+s]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var i=e.path,r=this.tagForQuery_(e),s=this.createListenerForView_(n),o=this.listenProvider_.startListening(t.queryForListening_(e),r,s.hashFn,s.onComplete),a=this.syncPointTree_.subtree(i);if(r)c.assert(!a.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=a.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var i=[];return e&&(i=i.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),c.forEach(n,function(t,e){i=i.concat(e)}),i}),h=0;h<l.length;++h){var u=l[h];this.listenProvider_.stopListening(t.queryForListening_(u),this.tagForQuery_(u))}return o},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),i=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Mt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return i?e.applyTaggedListenComplete(n.path,i):e.applyListenComplete(n.path);var r=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var i=new Error(t+" at "+e.path.toString()+": "+n);return i.code=t.toUpperCase(),i}(t,n);return e.removeEventRegistration(n,null,r)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return c.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new q(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return c.safeGet(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);c.assert(n,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,i,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(q.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,i){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,i);var r=e.get(q.Empty);null==n&&null!=r&&(n=r.getCompleteServerCache(q.Empty));var s=[],o=t.path.getFront(),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){var h=n?n.getImmediateChild(o):null,c=i.child(o);s=s.concat(this.applyOperationHelper_(a,l,h,c))}return r&&(s=s.concat(r.applyOperation(t,i,n))),s},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,i){var r=this,s=e.get(q.Empty);null==n&&null!=s&&(n=s.getCompleteServerCache(q.Empty));var o=[];return e.children.inorderTraversal(function(e,s){var a=n?n.getImmediateChild(e):null,l=i.child(e),h=t.operationForChild(e);h&&(o=o.concat(r.applyOperationDescendantsHelper_(h,s,a,l)))}),s&&(o=o.concat(s.applyOperation(t,i,n))),o},t.nextQueryTag_=1,t}(),Ce=function(){function t(){this.rootNode_=Mt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Ee=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(T("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';A(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),Se=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),c.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return c.deepCopy(this.counters_)},t}(),xe=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Se),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Te=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=c.clone(t);return this.last_&&c.forEach(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),ke=1e4,Oe=3e4,Ie=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Te(t);var n=ke+(Oe-ke)*Math.random();$(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},i=!1;c.forEach(e,function(e,r){r>0&&c.contains(t.statsToReport_,e)&&(n[e]=r,i=!0)}),i&&this.server_.reportStats(n),$(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ae=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var i=t[n],r=i.getPath();null===e||r.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Re(r)),e.add(i)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var i=this.eventLists_[n];i&&(t(i.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Re=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();E&&T("event: "+e.toString()),H(n)}}},t.prototype.getPath=function(){return this.path_},t}(),De=function(){function t(t){this.allowedEvents_=t,this.listeners_={},c.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var i=this.listeners_[t].slice(),r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var i=this.getInitialEvent(t);i&&e.apply(n,i)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var i=this.listeners_[t]||[],r=0;r<i.length;r++)if(i[r].callback===e&&(!n||n===i[r].context))return void i.splice(r,1)},t.prototype.validateEventType_=function(t){c.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),Pe=function(t){function e(){var e,n,i=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),i.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==i.visible_&&(i.visible_=t,i.trigger("visible",t))},!1),i}return d.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return c.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(De),Me=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||c.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return d.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return c.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(De),Ne=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var i=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=function(e){t[e]&&H(function(){n.onMessage_(t[e])})},i=0;i<t.length;++i)e(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==i(););},t}(),Le="pLPCommand",Fe="pRTLPCB",je=function(){function t(t,e,n,i){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=k(t),this.stats_=xe.getCollection(e),this.urlFn=function(t){return e.connectionURL(Y,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Ne(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(c.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new Ve(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],r=t[1],s=t[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==i)n.id=r,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);r?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(r,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],r=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,r)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),!c.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI)&&!c.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=c.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=c.base64Encode(e),i=j(n,1840),r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!c.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=c.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Ve=function(){function t(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Kt,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,c.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=b(),window[Le+this.uniqueCallbackIdentifier]=e,window[Fe+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(t){T("frame writing exception"),t.stack&&T(t.stack),T(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||T("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),c.isNodeSdk()&&this.myID){var n={disconn:"t"};n.id=this.myID,n.pw=this.myPW;var i=this.urlFn(n);t.nodeRestRequest(i)}var r=this.onDisconnect;r&&(this.onDisconnect=null,r())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",i=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var r=this.pendingSegs.shift();n=n+"&seg"+i+"="+r.seg+"&ts"+i+"="+r.ts+"&d"+i+"="+r.d,i++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var i=function(){n.outstandingRequests.remove(e),n.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,function(){clearTimeout(r),i()})},t.prototype.addTag=function(t,e){var n=this;c.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=function(){T("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(t){}},Math.floor(1))},t}(),Be=null;"undefined"!=typeof MozWebSocket?Be=MozWebSocket:"undefined"!=typeof WebSocket&&(Be=WebSocket);var Ue=function(){function t(e,n,i,r){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=k(this.connId),this.stats_=xe.getCollection(n),this.connURL=t.connectionURL_(n,i,r)}return t.connectionURL_=function(t,e,n){var i={v:"5"};return!c.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),t.connectionURL("websocket",i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_.set("previous_websocket_failure",!0);try{if(c.isNodeSdk()){var i={headers:{"User-Agent":"Firebase/5/"+p.SDK_VERSION+"/"+process.platform+"/"+(c.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},r=process.env,s=0==this.connURL.indexOf("wss://")?r.HTTPS_PROXY||r.https_proxy:r.HTTP_PROXY||r.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new Be(this.connURL,[],i)}else this.mySock=new Be(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var o=t.message||t.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Be&&!t.forceDisallow_},t.previouslyFailed=function(){return _.isInMemoryStorage||!0===_.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){_.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=c.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(c.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=c.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=j(e,16384);n.length>1&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),ze=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[je,Ue]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n=Ue&&Ue.isAvailable(),i=n&&!Ue.previouslyFailed();if(e.webSocketOnly&&(n||A("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ue];else{var r=this.transports_=[];V(t.ALL_TRANSPORTS,function(t,e){e&&e.isAvailable()&&r.push(e)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),He=function(){function t(t,e,n,i,r,s,o){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=i,this.onDisconnect_=r,this.onKill_=s,this.lastSessionId=o,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=k("c:"+this.id+":"),this.transportManager_=new ze(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,i)},Math.floor(0));var r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=$(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(r)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=L("t",t),n=L("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=L("t",t),n=L("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=L("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?O("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):O("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(i),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&A("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),$(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),We=function(){function t(){}return t.prototype.put=function(t,e,n,i){},t.prototype.merge=function(t,e,n,i){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),$e=1e3,qe=3e5,Ge=function(t){function e(n,i,r,s,o,a){var l=t.call(this)||this;if(l.repoInfo_=n,l.onDataUpdate_=i,l.onConnectStatus_=r,l.onServerInfoUpdate_=s,l.authTokenProvider_=o,l.authOverride_=a,l.id=e.nextPersistentConnectionId_++,l.log_=k("p:"+l.id+":"),l.interruptReasons_={},l.listens_={},l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=$e,l.maxReconnectDelay_=qe,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,a&&!c.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Pe.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&Me.getInstance().on("online",l.onOnline_,l),l}return d.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var i=++this.requestNumber_,r={r:i,a:t,b:e};this.log_(c.stringify(r)),c.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)},e.prototype.listen=function(t,e,n,i){var r=t.queryIdentifier(),s=t.path.toString();this.log_("Listen called for "+s+" "+r),this.listens_[s]=this.listens_[s]||{},c.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),c.assert(!this.listens_[s][r],"listen() called twice for same path/queryId.");var o={onComplete:i,hashFn:e,query:t,tag:n};this.listens_[s][r]=o,this.connected_&&this.sendListen_(o)},e.prototype.sendListen_=function(t){var n=this,i=t.query,r=i.path.toString(),s=i.queryIdentifier();this.log_("Listen on "+r+" for "+s);var o={p:r};t.tag&&(o.q=i.queryObject(),o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,function(o){var a=o.d,l=o.s;e.warnOnListenWarnings_(a,i),(n.listens_[r]&&n.listens_[r][s])===t&&(n.log_("listen response",o),"ok"!==l&&n.removeListen_(r,s),t.onComplete&&t.onComplete(l,a))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&c.contains(t,"w")){var n=c.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',r=e.path.toString();A("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+i+" at "+r+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||c.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=c.isValidFormat(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(n,i,function(n){var i=n.s,r=n.d||"error";t.authToken_===e&&("ok"===i?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(i,r))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),i=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+i),c.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,i){this.log_("Unlisten on "+t+" for "+e);var r={p:t};i&&(r.q=n,r.t=i),this.sendRequest("n",r)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,i){var r={p:e,d:n};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,function(t){i&&setTimeout(function(){i(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,i){this.putInternal("p",t,e,n,i)},e.prototype.merge=function(t,e,n,i){this.putInternal("m",t,e,n,i)},e.prototype.putInternal=function(t,e,n,i,r){var s={p:e,d:n};void 0!==r&&(s.h=r),this.outstandingPuts_.push({action:t,request:s,onComplete:i}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,function(i){e.log_(n+" response",i),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),r&&r(i.s,i.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+c.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):O("Unrecognized action received from server: "+c.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;c.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$e,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=$e,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=$e),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+e.nextConnectionId_++,s=this,o=this.lastSessionId,a=!1,l=null,h=function(){l?l.close():(a=!0,i())};this.realtime_={close:h,sendRequest:function(t){c.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(u).then(function(e){a?T("getToken() completed but was canceled"):(T("getToken() completed. Creating connection."),s.authToken_=e&&e.accessToken,l=new He(r,s.repoInfo_,t,n,i,function(t){A(t+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},o))}).then(null,function(t){s.log_("Failed to get token: "+t),a||(c.CONSTANTS.NODE_ADMIN&&A(t),h())})}},e.prototype.interrupt=function(t){T("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){T("Resuming connection for reason: "+t),delete this.interruptReasons_[t],c.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=$e,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return F(t)}).join("$"):"default";var i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,i=new q(t).toString();return void 0!==this.listens_[i]?(n=this.listens_[i][e],delete this.listens_[i][e],0===c.getCount(this.listens_[i])&&delete this.listens_[i]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){T("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),c.forEach(this.listens_,function(e,n){c.forEach(n,function(e,n){t.sendListen_(n)})});for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";c.CONSTANTS.NODE_ADMIN?e="admin_node":c.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+p.SDK_VERSION.replace(/\./g,"-")]=1,c.isMobileCordova()?t["framework.cordova"]=1:c.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Me.getInstance().currentlyOnline();return c.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(We),Ye=function(t){function e(e,n,i){var r=t.call(this)||this;return r.repoInfo_=e,r.onDataUpdate_=n,r.authTokenProvider_=i,r.log_=k("p:rest:"),r.listens_={},r}return d.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(c.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,i,r){var s=this,o=t.path.toString();this.log_("Listen called for "+o+" "+t.queryIdentifier());var a=e.getListenId_(t,i),l={};this.listens_[a]=l;var h=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(o+".json",h,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(o,n,!1,i),c.safeGet(s.listens_,a)===l&&r(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var i=e.getListenId_(t,n);delete this.listens_[i]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var i=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(r){var s=r&&r.accessToken;s&&(e.auth=s);var o=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+t+"?"+c.querystring(e);i.log_("Sending REST request for "+o);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(n&&4===a.readyState){i.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);var t=null;if(a.status>=200&&a.status<300){try{t=c.jsonEval(a.responseText)}catch(t){A("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&A("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()})},e}(We),Ke=function(){function t(t,e,n){var i=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ae,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Qt,this.persistentConnection_=null;var r=new Ee(n);if(this.stats_=xe.getCollection(t),e||W())this.server_=new Ye(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var s=n.options.databaseAuthVariableOverride;if(void 0!==s&&null!==s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{c.stringify(s)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new Ge(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,s),this.server_=this.persistentConnection_}r.addTokenChangeListener(function(t){i.server_.refreshAuthToken(t)}),this.statsReporter_=xe.getOrCreateReporter(t,function(){return new Ie(i.stats_,i.server_)}),this.transactions_init_(),this.infoData_=new Ce,this.infoSyncTree_=new we({startListening:function(t,e,n,r){var s=[],o=i.infoData_.getNode(t.path);return o.isEmpty()||(s=i.infoSyncTree_.applyServerOverwrite(t.path,o),setTimeout(function(){r("ok")},0)),s},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new we({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,function(e,n){var s=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,s)}),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new q(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t}({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(t,e,n,i){this.dataUpdateCount++;var r=new q(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var s=[];if(i)if(n){var o=c.map(e,function(t){return Ft(t)});s=this.serverSyncTree_.applyTaggedQueryMerge(r,o,i)}else{var a=Ft(e);s=this.serverSyncTree_.applyTaggedQueryOverwrite(r,a,i)}else if(n){var l=c.map(e,function(t){return Ft(t)});s=this.serverSyncTree_.applyServerMerge(r,l)}else{var h=Ft(e);s=this.serverSyncTree_.applyServerOverwrite(r,h)}var u=r;s.length>0&&(u=this.rerunTransactions_(r)),this.eventQueue_.raiseEventsForChangedPath(u,s)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;V(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var n=new q("/.info/"+t),i=Ft(e);this.infoData_.updateSnapshot(n,i);var r=this.infoSyncTree_.applyServerOverwrite(n,i);this.eventQueue_.raiseEventsForChangedPath(n,r)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,i){var r=this;this.log_("set",{path:t.toString(),value:e,priority:n});var s=this.generateServerValues(),o=Ft(e,n),a=Zt(o,s),l=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserOverwrite(t,a,l,!0);this.eventQueue_.queueEvents(h),this.server_.put(t.toString(),o.val(!0),function(e,n){var s="ok"===e;s||A("set at "+t+" failed: "+e);var o=r.serverSyncTree_.ackUserWrite(l,!s);r.eventQueue_.raiseEventsForChangedPath(t,o),r.callOnCompleteCallback(i,e,n)});var c=this.abortTransactions_(t);this.rerunTransactions_(c),this.eventQueue_.raiseEventsForChangedPath(c,[])},t.prototype.update=function(t,e,n){var i=this;this.log_("update",{path:t.toString(),value:e});var r=!0,s=this.generateServerValues(),o={};if(c.forEach(e,function(t,e){r=!1;var n=Ft(e);o[t]=Zt(n,s)}),r)T("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserMerge(t,o,a);this.eventQueue_.queueEvents(l),this.server_.merge(t.toString(),e,function(e,r){var s="ok"===e;s||A("update at "+t+" failed: "+e);var o=i.serverSyncTree_.ackUserWrite(a,!s),l=o.length>0?i.rerunTransactions_(t):t;i.eventQueue_.raiseEventsForChangedPath(l,o),i.callOnCompleteCallback(n,e,r)}),c.forEach(e,function(e){var n=i.abortTransactions_(t.child(e));i.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=[];(function(t,e){var n=new Qt;return t.forEachTree(new q(""),function(t,i){n.remember(t,Zt(i,e))}),n})(this.onDisconnect_,e).forEachTree(q.Empty,function(e,i){n=n.concat(t.serverSyncTree_.applyServerOverwrite(e,i));var r=t.abortTransactions_(e);t.rerunTransactions_(r)}),this.onDisconnect_=new Qt,this.eventQueue_.raiseEventsForChangedPath(q.Empty,n)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(i,r){"ok"===i&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,i,r)})},t.prototype.onDisconnectSet=function(t,e,n){var i=this,r=Ft(e);this.server_.onDisconnectPut(t.toString(),r.val(!0),function(e,s){"ok"===e&&i.onDisconnect_.remember(t,r),i.callOnCompleteCallback(n,e,s)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,i){var r=this,s=Ft(e,n);this.server_.onDisconnectPut(t.toString(),s.val(!0),function(e,n){"ok"===e&&r.onDisconnect_.remember(t,s),r.callOnCompleteCallback(i,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var i=this;if(c.isEmpty(e))return T("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(r,s){"ok"===r&&c.forEach(e,function(e,n){var r=Ft(n);i.onDisconnect_.remember(t.child(e),r)}),i.callOnCompleteCallback(n,r,s)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Te(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);c.forEach(e,function(t,e){for(var i=t.length;i<n+2;i++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),T.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&H(function(){if("ok"==e)t(null);else{var i=(e||"error").toUpperCase(),r=i;n&&(r+=": "+n);var s=new Error(r);s.code=i,t(s)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new on(this))},enumerable:!0,configurable:!0}),t}(),Qe=function(){function t(e){this.indexedFilter_=new ce(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,i,r,s){return this.matches(new mt(e,n))||(n=Mt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,i,r,s)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Mt.EMPTY_NODE);var i=e.withIndex(this.index_);i=i.updatePriority(Mt.EMPTY_NODE);var r=this;return e.forEachChild(Ct,function(t,e){r.matches(new mt(t,e))||(i=i.updateImmediateChild(t,Mt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Xe=function(){function t(t){this.rangedFilter_=new Qe(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,i,r,s){return this.rangedFilter_.matches(new mt(e,n))||(n=Mt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,i,r,s):this.fullLimitUpdateChild_(t,e,n,r,s)},t.prototype.updateFullNode=function(t,e,n){var i;if(e.isLeafNode()||e.isEmpty())i=Mt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){i=Mt.EMPTY_NODE.withIndex(this.index_);var r=void 0;r=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var s=0;r.hasNext()&&s<this.limit_;){var o=r.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;i=i.updateImmediateChild(o.name,o.node),s++}}else{i=(i=e.withIndex(this.index_)).updatePriority(Mt.EMPTY_NODE);var a=void 0,l=void 0,h=void 0;if(r=void 0,this.reverse_){r=i.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();h=function(t,e){return c(e,t)}}else r=i.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();s=0;for(var u=!1;r.hasNext();)o=r.getNext(),!u&&h(a,o)<=0&&(u=!0),u&&s<this.limit_&&h(o,l)<=0?s++:i=i.updateImmediateChild(o.name,Mt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,i,r){var s;if(this.reverse_){var o=this.index_.getCompare();s=function(t,e){return o(e,t)}}else s=this.index_.getCompare();var a=t;c.assert(a.numChildren()==this.limit_,"");var l=new mt(e,n),h=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(e)){for(var d=a.getImmediateChild(e),p=i.getChildAfterChild(this.index_,h,this.reverse_);null!=p&&(p.name==e||a.hasChild(p.name));)p=i.getChildAfterChild(this.index_,p,this.reverse_);var f=null==p?1:s(p,l);if(u&&!n.isEmpty()&&f>=0)return null!=r&&r.trackChildChange(he.childChangedChange(e,n,d)),a.updateImmediateChild(e,n);null!=r&&r.trackChildChange(he.childRemovedChange(e,d));var m=a.updateImmediateChild(e,Mt.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=r&&r.trackChildChange(he.childAddedChange(p.name,p.node)),m.updateImmediateChild(p.name,p.node)):m}return n.isEmpty()?t:u&&s(h,l)>=0?(null!=r&&(r.trackChildChange(he.childRemovedChange(h.name,h.node)),r.trackChildChange(he.childAddedChange(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(h.name,Mt.EMPTY_NODE)):t},t}(),Ze=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ct}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return c.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return c.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:D},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return c.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return c.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:P},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return c.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var i=this.viewFrom_;""===i&&(i=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=i}return this.index_!==Ct&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Ct},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new ce(this.getIndex()):this.hasLimit()?new Xe(this):new Qe(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,i={};return this.isDefault()?i:(this.index_===Ct?e=n.PRIORITY_INDEX:this.index_===Ut?e=n.VALUE_INDEX:this.index_===yt?e=n.KEY_INDEX:(c.assert(this.index_ instanceof zt,"Unrecognized index type!"),e=this.index_.toString()),i[n.ORDER_BY]=c.stringify(e),this.startSet_&&(i[n.START_AT]=c.stringify(this.indexStartValue_),this.startNameSet_&&(i[n.START_AT]+=","+c.stringify(this.indexStartName_))),this.endSet_&&(i[n.END_AT]=c.stringify(this.indexEndValue_),this.endNameSet_&&(i[n.END_AT]+=","+c.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?i[n.LIMIT_TO_FIRST]=this.limit_:i[n.LIMIT_TO_LAST]=this.limit_),i)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),Je=function(t){function e(e,n){if(!(e instanceof Ke))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,Ze.DEFAULT,!1)||this}return d.__extends(e,t),e.prototype.getKey=function(){return c.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return c.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof q||(null===this.path.getFront()?function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ht("Reference.child",1,n,!1)}(0,0,t):ht("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){c.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){c.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){c.validateArgCount("Reference.set",1,2,arguments.length),ct("Reference.set",this.path),it("Reference.set",1,t,this.path,!1),c.validateCallback("Reference.set",2,e,!0);var n=new c.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(c.validateArgCount("Reference.update",1,2,arguments.length),ct("Reference.update",this.path),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,A("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}st("Reference.update",1,t,this.path,!1),c.validateCallback("Reference.update",2,e,!0);var r=new c.Deferred;return this.repo.update(this.path,t,r.wrapCallback(e)),r.promise},e.prototype.setWithPriority=function(t,e,n){if(c.validateArgCount("Reference.setWithPriority",2,3,arguments.length),ct("Reference.setWithPriority",this.path),it("Reference.setWithPriority",1,t,this.path,!1),ot("Reference.setWithPriority",2,e,!1),c.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new c.Deferred;return this.repo.setWithPriority(this.path,t,e,i.wrapCallback(n)),i.promise},e.prototype.remove=function(t){return c.validateArgCount("Reference.remove",0,1,arguments.length),ct("Reference.remove",this.path),c.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(c.validateArgCount("Reference.transaction",1,3,arguments.length),ct("Reference.transaction",this.path),c.validateCallback("Reference.transaction",1,t,!1),c.validateCallback("Reference.transaction",2,e,!0),function(t,e,i,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error(c.errorPrefix("Reference.transaction",3,!0)+"must be a boolean.")}(),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var i=new c.Deferred;return"function"==typeof e&&i.promise.catch(function(){}),this.repo.startTransaction(this.path,t,function(t,n,r){t?i.reject(t):i.resolve(new pt(n,r)),"function"==typeof e&&e(t,n,r)},n),i.promise},e.prototype.setPriority=function(t,e){c.validateArgCount("Reference.setPriority",1,2,arguments.length),ct("Reference.setPriority",this.path),ot("Reference.setPriority",1,t,!1),c.validateCallback("Reference.setPriority",2,e,!0);var n=new c.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){c.validateArgCount("Reference.push",0,2,arguments.length),ct("Reference.push",this.path),it("Reference.push",1,t,this.path,!0),c.validateCallback("Reference.push",2,e,!0);var n,i=this.repo.serverTime(),r=ft(i),s=this.child(r),o=this.child(r);return n=null!=t?s.set(t,e).then(function(){return o}):Promise.resolve(o),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),s},e.prototype.onDisconnect=function(){return ct("Reference.onDisconnect",this.path),new dt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(Yt);Yt.__referenceConstructor=Je,_e.__referenceConstructor=Je;var tn=function(){this.children={},this.childCount=0,this.value=null},en=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new tn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,i=e instanceof q?e:new q(e),r=this;null!==(n=i.getFront());)r=new t(n,r,c.safeGet(r.node_.children,n)||new tn),i=i.popFront();return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){c.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;c.forEach(this.node_.children,function(i,r){e(new t(i,n,r))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new q(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),i=c.contains(this.node_.children,t);n&&i?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||i||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),nn=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});Ke.MAX_TRANSACTION_RETRIES_=25,Ke.prototype.transactions_init_=function(){this.transactionQueueTree_=new en},Ke.prototype.startTransaction=function(t,e,n,i){this.log_("transaction on "+t);var r=function(){},s=new Je(this,t);s.on("value",r);var o={path:t,update:e,onComplete:n,status:null,order:b(),applyLocally:i,retryCount:0,unwatcher:function(){s.off("value",r)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=this.getLatestState_(t);o.currentInputSnapshot=a;var l=o.update(a.val());if(void 0===l){if(o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete){var h=new Ht(o.currentInputSnapshot,new Je(this,o.path),Ct);o.onComplete(null,!1,h)}}else{rt("transaction failed: Data returned ",l,o.path),o.status=nn.RUN;var u=this.transactionQueueTree_.subTree(t),d=u.getValue()||[];d.push(o),u.setValue(d);var p=void 0;"object"==typeof l&&null!==l&&c.contains(l,".priority")?(p=c.safeGet(l,".priority"),c.assert(nt(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(this.serverSyncTree_.calcCompleteEventCache(t)||Mt.EMPTY_NODE).getPriority().val(),p=p;var f=this.generateServerValues(),m=Ft(l,p),g=Zt(m,f);o.currentOutputSnapshotRaw=m,o.currentOutputSnapshotResolved=g,o.currentWriteId=this.getNextWriteId_();var _=this.serverSyncTree_.applyUserOverwrite(t,g,o.currentWriteId,o.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,_),this.sendReadyTransactions_()}},Ke.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Mt.EMPTY_NODE},Ke.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);c.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return t.status===nn.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},Ke.prototype.sendTransactionQueue_=function(t,e){for(var n=this,i=e.map(function(t){return t.currentWriteId}),r=this.getLatestState_(t,i),s=r,o=r.hash(),a=0;a<e.length;a++){var l=e[a];c.assert(l.status===nn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=nn.SENT,l.retryCount++;var h=q.relativePath(t,l.path);s=s.updateChild(h,l.currentOutputSnapshotRaw)}var u=s.val(!0),d=t;this.server_.put(d.toString(),u,function(i){n.log_("transaction put response",{path:d.toString(),status:i});var r=[];if("ok"===i){for(var s=[],o=0;o<e.length;o++){if(e[o].status=nn.COMPLETED,r=r.concat(n.serverSyncTree_.ackUserWrite(e[o].currentWriteId)),e[o].onComplete){var a=e[o].currentOutputSnapshotResolved,l=new Je(n,e[o].path),h=new Ht(a,l,Ct);s.push(e[o].onComplete.bind(null,null,!0,h))}e[o].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,r),o=0;o<s.length;o++)H(s[o])}else{if("datastale"===i)for(o=0;o<e.length;o++)e[o].status=e[o].status===nn.SENT_NEEDS_ABORT?nn.NEEDS_ABORT:nn.RUN;else for(A("transaction at "+d.toString()+" failed: "+i),o=0;o<e.length;o++)e[o].status=nn.NEEDS_ABORT,e[o].abortReason=i;n.rerunTransactions_(t)}},o)},Ke.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),i=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(i,n),n},Ke.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],i=[],r=t.filter(function(t){return t.status===nn.RUN}).map(function(t){return t.currentWriteId}),s=0;s<t.length;s++){var o=t[s],a=q.relativePath(e,o.path),l=!1,h=void 0;if(c.assert(null!==a,"rerunTransactionsUnderNode_: relativePath should not be null."),o.status===nn.NEEDS_ABORT)l=!0,h=o.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(o.currentWriteId,!0));else if(o.status===nn.RUN)if(o.retryCount>=Ke.MAX_TRANSACTION_RETRIES_)l=!0,h="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(o.currentWriteId,!0));else{var u=this.getLatestState_(o.path,r);o.currentInputSnapshot=u;var d=t[s].update(u.val());if(void 0!==d){rt("transaction failed: Data returned ",d,o.path);var p=Ft(d);"object"==typeof d&&null!=d&&c.contains(d,".priority")||(p=p.updatePriority(u.getPriority()));var f=o.currentWriteId,m=this.generateServerValues(),g=Zt(p,m);o.currentOutputSnapshotRaw=p,o.currentOutputSnapshotResolved=g,o.currentWriteId=this.getNextWriteId_(),r.splice(r.indexOf(f),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(o.path,g,o.currentWriteId,o.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(f,!0))}else l=!0,h="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(o.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],l&&(t[s].status=nn.COMPLETED,setTimeout(t[s].unwatcher,Math.floor(0)),t[s].onComplete))if("nodata"===h){var _=new Je(this,t[s].path),y=new Ht(t[s].currentInputSnapshot,_,Ct);n.push(t[s].onComplete.bind(null,null,!1,y))}else n.push(t[s].onComplete.bind(null,new Error(h),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),s=0;s<n.length;s++)H(n[s]);this.sendReadyTransactions_()}},Ke.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},Ke.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},Ke.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,i=t.getValue();if(null!==i)for(var r=0;r<i.length;r++)e.push(i[r]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},Ke.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var i=0,r=0;r<n.length;r++)n[r].status!==nn.COMPLETED&&(n[i]=n[r],i++);n.length=i,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},Ke.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),i=this.transactionQueueTree_.subTree(t);return i.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(i),i.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},Ke.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],i=[],r=-1,s=0;s<e.length;s++)e[s].status===nn.SENT_NEEDS_ABORT||(e[s].status===nn.SENT?(c.assert(r===s-1,"All SENT items should be at beginning of queue."),r=s,e[s].status=nn.SENT_NEEDS_ABORT,e[s].abortReason="set"):(c.assert(e[s].status===nn.RUN,"Unexpected transaction status in abort"),e[s].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(e[s].currentWriteId,!0)),e[s].onComplete&&n.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===r?t.setValue(null):e.length=r+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),i),s=0;s<n.length;s++)H(n[s])}};var rn,sn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return rn||(rn=new t),rn},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&I("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=Q(n),r=i.repoInfo;return ut("Invalid Firebase Database URL",1,i),i.path.isEmpty()||I("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(r,t).database},t.prototype.deleteRepo=function(t){var e=c.safeGet(this.repos_,t.app.name);e&&c.safeGet(e,t.repoInfo_.toURLString())===t||I("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=c.safeGet(this.repos_,e.name);n||(this.repos_[e.name]=n={});var i=c.safeGet(n,t.toURLString());return i&&I("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Ke(t,this.useRestClient_,e),n[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),on=function(){function t(t){this.repo_=t,t instanceof Ke||I("Don't call new Database() directly - please use firebase.database()."),this.root_=new Je(t,q.Empty),this.INTERNAL=new an(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),c.validateArgCount("database.ref",0,1,arguments.length),t instanceof Je?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),c.validateArgCount(e,1,1,arguments.length);var n=Q(t);ut(e,1,n);var i=n.repoInfo;return i.host!==this.repo_.repoInfo_.host&&I(e+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&I("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){c.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){c.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),an=function(){function t(t){this.database=t}return t.prototype.delete=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(t){return this.database.checkDeleted_("delete"),sn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),ln=Object.freeze({forceLongPolling:function(){Ue.forceDisallow(),je.forceAllow()},forceWebSockets:function(){je.forceDisallow()},isWebSocketsAvailable:function(){return Ue.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),hn=Ge;Ge.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ge.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var cn=Object.freeze({DataConnection:hn,RealTimeConnection:He,hijackHash:function(t){var e=Ge.prototype.put;return Ge.prototype.put=function(n,i,r,s){void 0!==s&&(s=t()),e.call(this,n,i,r,s)},function(){Ge.prototype.put=e}},ConnectionTarget:K,queryIdentifier:function(t){return t.queryIdentifier()},listens:function(t){return t.repo.persistentConnection_.listens_},forceRestClient:function(t){sn.getInstance().forceRestClient(t)}}),un=on.ServerValue;function dn(e){var n=e.INTERNAL.registerService("database",function(t,e,n){return sn.getInstance().databaseFromApp(t,n)},{Reference:Je,Query:Yt,Database:on,enableLogging:x,INTERNAL:ln,ServerValue:un,TEST_ACCESS:cn},null,!0);c.isNodeSdk()&&(t.exports=n)}dn(p),e.registerDatabase=dn,e.Database=on,e.Query=Yt,e.Reference=Je,e.enableLogging=x,e.ServerValue=un,e.DataSnapshot=Ht,e.OnDisconnect=dt},eBTZ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("ECPB"),r=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s="[DEFAULT]",o=[],a=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=i.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){o.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){o=o.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(i){e.push(t.services_[n][i])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=s),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==s?e:void 0,i=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=i}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;i.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(o.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),o=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&l("app-deleted",{name:this.name_})},t}();function l(t,e){throw h.create(t,e)}a.prototype.name&&a.prototype.options||a.prototype.delete||console.log("dc");var h=new i.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),c=function t(){var e={},n={},o={},h={__esModule:!0,initializeApp:function(t,n){void 0===n&&(n={}),("object"!=typeof n||null===n)&&(n={name:n});var i=n;void 0===i.name&&(i.name=s);var o=i.name;"string"==typeof o&&o||l("bad-app-name",{name:o+""}),r(e,o)&&l("duplicate-app",{name:o});var c=new a(t,i,h);return e[o]=c,d(c,"create"),c},app:c,apps:null,Promise,SDK_VERSION:"5.0.4",INTERNAL:{registerService:function(t,e,r,s,d){n[t]&&l("duplicate-service",{name:t}),n[t]=e,s&&(o[t]=s,u().forEach(function(t){s("create",t)}));var p=function(e){return void 0===e&&(e=c()),"function"!=typeof e[t]&&l("invalid-app-argument",{name:t}),e[t]()};return void 0!==r&&i.deepExtend(p,r),h[t]=p,a.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,d?e:[])},p},createFirebaseNamespace:t,extendNamespace:function(t){i.deepExtend(h,t)},createSubscribe:i.createSubscribe,ErrorFactory:i.ErrorFactory,removeApp:function(t){d(e[t],"delete"),delete e[t]},factories:n,useAsService:p,Promise,deepExtend:i.deepExtend}};function c(t){return r(e,t=t||s)||l("no-app",{name:t}),e[t]}function u(){return Object.keys(e).map(function(t){return e[t]})}function d(t,e){Object.keys(n).forEach(function(n){var i=p(0,n);null!==i&&o[i]&&o[i](e,t)})}function p(t,e){return"serverAuth"===e?null:e}return i.patchProperty(h,"default",h),Object.defineProperty(h,"apps",{get:u}),i.patchProperty(c,"App",a),h}();e.firebase=c,e.default=c},f8Mv:function(t,e,n){"use strict";n("0KdE");var i=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n("eBTZ"));t.exports=i},hZ8C:function(t,e,n){"use strict";var i=n(null),r=n(null),s=(n(null),n(null)),o=n(null),a=n(null),l=n(null),h=n(null),c=n(null),u=n(null),d=n(null),p=n(null),f=n(null),m=n(null),g=n(null),_=n(null),y=n(null),v=n(null),b=n(null),w=n(null),C=n(null);function E(t){return new b.a(e=>{let n;try{n=t()}catch(t){return void e.error(t)}return(n?Object(w.a)(n):Object(C.a)()).subscribe(e)})}var S=n(null);let x=0;class T{constructor(t,e){this.source=t,this.option=e}}class k{}const O=Object(r.k)(k),I=new i.J("mat-autocomplete-default-options",{providedIn:"root",factory:A});function A(){return{autoActiveFirstOption:!1}}class R extends O{constructor(t,e,n){super(),this._changeDetectorRef=t,this._elementRef=e,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new i.P,this.opened=new i.P,this.closed=new i.P,this._classList={},this.id=`mat-autocomplete-${x++}`,this._autoActiveFirstOption=!!n.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=Object(s.c)(t)}set classList(t){t&&t.length&&(t.split(" ").forEach(t=>this._classList[t.trim()]=!0),this._elementRef.nativeElement.className="")}ngAfterContentInit(){this._keyManager=new(void 0)(this.options).withWrap(),this._setVisibility()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._classList["mat-autocomplete-visible"]=this.showPanel,this._classList["mat-autocomplete-hidden"]=!this.showPanel,this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const e=new T(this,t);this.optionSelected.emit(e)}}class D{constructor(t){this.elementRef=t}}const P=48,M=256,N=new i.J("mat-autocomplete-scroll-strategy");function L(t){return()=>t.scrollStrategies.reposition()}const F={provide:N,deps:[a.a],useFactory:L},j={provide:m.a,useExisting:Object(i.Ja)(()=>B),multi:!0};function V(){return Error("Attempting to open an undefined instance of `mat-autocomplete`. Make sure that the id passed to the `matAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.")}class B{constructor(t,e,n,i,r,s,o,a,l,u){this._element=t,this._overlay=e,this._viewContainerRef=n,this._zone=i,this._changeDetectorRef=r,this._scrollStrategy=s,this._dir=o,this._formField=a,this._document=l,this._viewportRuler=u,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=g.a.EMPTY,this._closeKeyEventStream=new S.a,this._onChange=(()=>{}),this._onTouched=(()=>{}),this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=E(()=>this.autocomplete&&this.autocomplete.options?Object(y.a)(...this.autocomplete.options.map(t=>t.onSelectionChange)):this._zone.onStable.asObservable().pipe(Object(h.a)(1),Object(c.a)(()=>this.optionSelections)))}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=Object(s.c)(t)}ngOnDestroy(){this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}get panelClosingActions(){return Object(y.a)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Object(u.a)(()=>this._overlayAttached)),this._closeKeyEventStream,this._outsideClickStream,this._overlayRef?this._overlayRef.detachments().pipe(Object(u.a)(()=>this._overlayAttached)):Object(v.a)()).pipe(Object(f.a)(t=>t instanceof void 0?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}get _outsideClickStream(){return this._document?Object(y.a)(Object(_.a)(this._document,"click"),Object(_.a)(this._document,"touchend")).pipe(Object(u.a)(t=>{const e=t.target,n=this._formField?this._formField._elementRef.nativeElement:null;return this._overlayAttached&&e!==this._element.nativeElement&&(!n||!n.contains(e))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(e)})):Object(v.a)(null)}writeValue(t){Promise.resolve(null).then(()=>this._setTriggerValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const e=t.keyCode;if(e===o.a&&t.preventDefault(),this.panelOpen&&(e===o.a||e===o.i&&t.altKey))this._resetActiveItem(),this._closeKeyEventStream.next(),t.stopPropagation();else if(this.activeOption&&e===o.b&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const n=this.autocomplete._keyManager.activeItem,i=e===o.i||e===o.k;this.panelOpen||e===o.l?this.autocomplete._keyManager.onKeydown(t):i&&this._canOpen()&&this.openPanel(),(i||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption()}}_handleInput(t){let e=t.target,n=e.value;"number"===e.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&document.activeElement===t.target&&(this._previousValue=n,this._onChange(n),this._canOpen()&&this.openPanel())}_handleFocus(){this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0))}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_scrollToOption(){const t=this.autocomplete._keyManager.activeItemIndex||0,e=(void 0)(t+(void 0)(t,this.autocomplete.options,this.autocomplete.optionGroups),P,this.autocomplete._getScrollTop(),M);this.autocomplete._setScrollTop(e)}_subscribeToClosingActions(){const t=this._zone.onStable.asObservable().pipe(Object(h.a)(1)),e=this.autocomplete.options.changes.pipe(Object(p.a)(()=>this._positionStrategy.reapplyLastPosition()),Object(d.a)(0));return Object(y.a)(t,e).pipe(Object(c.a)(()=>(this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&this._overlayRef.updatePosition(),this.panelClosingActions)),Object(h.a)(1)).subscribe(t=>this._setValueAndClose(t))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(t){const e=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,n=null!=e?e:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n}_setValueAndClose(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(e=>{e!=t&&e.selected&&e.deselect()})}_attachOverlay(){if(!this.autocomplete)throw V();this._overlayRef?this._overlayRef.updateSize({width:this._getPanelWidth()}):(this._portal=new l.c(this.autocomplete.template,this._viewContainerRef),this._overlayRef=this._overlay.create(this._getOverlayConfig()),this._viewportRuler&&(this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&this._overlayRef&&this._overlayRef.updateSize({width:this._getPanelWidth()})}))),this._overlayRef&&!this._overlayRef.hasAttached()&&(this._overlayRef.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const t=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&t!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new a.i({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir})}_getOverlayPosition(){return this._positionStrategy=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"}]),this._positionStrategy}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){this.autocomplete._keyManager.setActiveItem(this.autocomplete.autoActiveFirstOption?0:-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}}class U{}let z=0;class H{constructor(t,e,n,i){this._document=t,this._ngZone=e,this._elementRef=n,this._ariaDescriber=i,this._hasContent=!1,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=z++}get color(){return this._color}set color(t){this._setColor(t),this._color=t}get overlap(){return this._overlap}set overlap(t){this._overlap=Object(s.c)(t)}get content(){return this._content}set content(t){this._content=t,this._hasContent=null!=t&&`${t}`.trim().length>0,this._updateTextContent()}get description(){return this._description}set description(t){t!==this._description&&(this._updateHostAriaDescription(t,this._description),this._description=t)}get hidden(){return this._hidden}set hidden(t){this._hidden=Object(s.c)(t)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}ngOnDestroy(){this.description&&this._badgeElement&&this._ariaDescriber.removeDescription(this._badgeElement,this.description)}_updateTextContent(){return this._badgeElement?this._badgeElement.textContent=this.content:this._badgeElement=this._createBadgeElement(),this._badgeElement}_createBadgeElement(){const t=this._document.createElement("span");return t.setAttribute("id",`mat-badge-content-${this._id}`),t.classList.add("mat-badge-content"),t.textContent=this.content,this.description&&t.setAttribute("aria-label",this.description),this._elementRef.nativeElement.appendChild(t),"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add("mat-badge-active")})}):t.classList.add("mat-badge-active"),t}_updateHostAriaDescription(t,e){const n=this._updateTextContent();e&&this._ariaDescriber.removeDescription(n,e),t&&this._ariaDescriber.describe(n,t)}_setColor(t){t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-badge-${this._color}`),t&&this._elementRef.nativeElement.classList.add(`mat-badge-${t}`))}}class W{}var $=n(null),q=n(null),G=n(null);class Y{}const K=Object(r.h)(Y),Q={provide:m.a,useExisting:Object(i.Ja)(()=>tt),multi:!0};class X{}let Z=0;class J{constructor(t,e){this.source=t,this.value=e}}class tt extends K{constructor(t){super(),this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._controlValueAccessorChangeFn=(()=>{}),this._onTouched=(()=>{}),this._name=`mat-button-toggle-group-${Z++}`,this.valueChange=new i.P,this.change=new i.P}get name(){return this._name}set name(t){this._name=t,this._buttonToggles&&this._buttonToggles.forEach(t=>t.name=this._name)}get vertical(){return this._vertical}set vertical(t){this._vertical=Object(s.c)(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(t=>t.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel.selected;return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=Object(s.c)(t)}ngOnInit(){this._selectionModel=new G.b(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._buttonToggles&&this._buttonToggles.forEach(t=>t._markForCheck())}_emitChangeEvent(){const t=this.selected,e=Array.isArray(t)?t[t.length-1]:t,n=new J(e,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)}_syncButtonToggle(t,e,n=!1){this.multiple||!this.selected||t.checked||(this.selected.checked=!1),e?this._selectionModel.select(t):this._selectionModel.deselect(t),n&&this._emitChangeEvent(),this.valueChange.emit(this.value)}_isSelected(t){return this._selectionModel.isSelected(t)}_isPrechecked(t){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(e=>null!=t.value&&e===t.value):t.value===this._rawValue)}_setSelectionByValue(t){if(this._rawValue=t,this._buttonToggles)if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._clearSelection(),t.forEach(t=>this._selectValue(t))}else this._clearSelection(),this._selectValue(t)}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const e=this._buttonToggles.find(e=>null!=e.value&&e.value===t);e&&(e.checked=!0,this._selectionModel.select(e))}}class et{}const nt=Object(r.k)(et);class it extends nt{constructor(t,e,n,r){super(),this._changeDetectorRef=e,this._elementRef=n,this._focusMonitor=r,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new i.P,this.buttonToggleGroup=t}get buttonId(){return`${this.id}-button`}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const e=Object(s.c)(t);e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=Object(s.c)(t)}ngOnInit(){this._isSingleSelector=this.buttonToggleGroup&&!this.buttonToggleGroup.multiple,this._type=this._isSingleSelector?"radio":"checkbox",this.id=this.id||`mat-button-toggle-${Z++}`,this._isSingleSelector&&(this.name=this.buttonToggleGroup.name),this.buttonToggleGroup&&this.buttonToggleGroup._isPrechecked(this)&&(this.checked=!0),this._focusMonitor.monitor(this._elementRef.nativeElement,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef.nativeElement)}focus(){this._buttonElement.nativeElement.focus()}_onButtonClick(){const t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new J(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}class rt{}var st=n(null);const ot=new i.J("mat-checkbox-click-action");let at=0;const lt={provide:m.a,useExisting:Object(i.Ja)(()=>pt),multi:!0},ht=function(){var t={Init:0,Checked:1,Unchecked:2,Indeterminate:3};return t[t.Init]="Init",t[t.Checked]="Checked",t[t.Unchecked]="Unchecked",t[t.Indeterminate]="Indeterminate",t}();class ct{}class ut{constructor(t){this._elementRef=t}}const dt=Object(r.g)(Object(r.f)(Object(r.k)(Object(r.h)(ut)),"accent"));class pt extends dt{constructor(t,e,n,r,s,o,a){super(t),this._changeDetectorRef=e,this._focusMonitor=n,this._ngZone=r,this._clickAction=o,this._animationMode=a,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId=`mat-checkbox-${++at}`,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new i.P,this.indeterminateChange=new i.P,this._onTouched=(()=>{}),this._currentAnimationClass="",this._currentCheckState=ht.Init,this._controlValueAccessorChangeFn=(()=>{}),this._checked=!1,this._disabled=!1,this._indeterminate=!1,this.tabIndex=parseInt(s)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=Object(s.c)(t)}ngAfterViewInit(){this._focusMonitor.monitor(this._inputElement.nativeElement).subscribe(t=>this._onInputFocusChange(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._inputElement.nativeElement)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){t!=this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const e=t!=this._indeterminate;this._indeterminate=t,e&&(this._transitionCheckState(this._indeterminate?ht.Indeterminate:this.checked?ht.Checked:ht.Unchecked),this.indeterminateChange.emit(this._indeterminate))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.markForCheck()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const t=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(t)},1e3)})}}_emitChangeEvent(){let t=new ct;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t)}_onInputFocusChange(t){this._focusRipple||"keyboard"!==t?t||(this._focusRipple&&(this._focusRipple.fadeOut(),this._focusRipple=null),Promise.resolve().then(()=>this._onTouched())):this._focusRipple=this.ripple.launch(0,0,{persistent:!0})}toggle(){this.checked=!this.checked}_onInputClick(t){t.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?ht.Checked:ht.Unchecked),this._emitChangeEvent())}focus(){this._focusMonitor.focusVia(this._inputElement.nativeElement,"keyboard")}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,e){if("NoopAnimations"===this._animationMode)return"";let n="";switch(t){case ht.Init:if(e===ht.Checked)n="unchecked-checked";else{if(e!=ht.Indeterminate)return"";n="unchecked-indeterminate"}break;case ht.Unchecked:n=e===ht.Checked?"unchecked-checked":"unchecked-indeterminate";break;case ht.Checked:n=e===ht.Unchecked?"checked-unchecked":"checked-indeterminate";break;case ht.Indeterminate:n=e===ht.Checked?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${n}`}}const ft={provide:void 0,useExisting:Object(i.Ja)(()=>mt),multi:!0};class mt extends(void 0){}class gt{}var _t=n(null);class yt{constructor(t,e,n=!1){this.source=t,this.selected=e,this.isUserInput=n}}class vt{constructor(t){this._elementRef=t}}const bt=Object(r.f)(Object(r.k)(Object(r.h)(vt)),"primary"),wt=["mat-basic-chip"];class Ct{}class Et{}class St extends bt{constructor(t,e,n,r){super(t),this._elementRef=t,this._ripplesGloballyDisabled=!1,this.rippleConfig={},this._hasFocus=!1,this.chipListSelectable=!0,this._selected=!1,this._selectable=!0,this._removable=!0,this._onFocus=new S.a,this._onBlur=new S.a,this.selectionChange=new i.P,this.destroyed=new i.P,this.removed=new i.P,this._addHostClassName(),this._chipRipple=new(void 0)(this,e,t,n),this._chipRipple.setupTriggerEvents(t.nativeElement),r&&(this._ripplesGloballyDisabled=!!r.disabled,this.rippleConfig={speedFactor:r.baseSpeedFactor,animation:r.animation,terminateOnPointerUp:r.terminateOnPointerUp})}get rippleDisabled(){return this.disabled||this.disableRipple||this._ripplesGloballyDisabled}get selected(){return this._selected}set selected(t){this._selected=Object(s.c)(t),this.selectionChange.emit({source:this,isUserInput:!1,selected:t})}get value(){return void 0!=this._value?this._value:this._elementRef.nativeElement.textContent}set value(t){this._value=t}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=Object(s.c)(t)}get removable(){return this._removable}set removable(t){this._removable=Object(s.c)(t)}get ariaSelected(){return this.selectable?this.selected.toString():null}_addHostClassName(){for(const t of wt)if(this._elementRef.nativeElement.hasAttribute(t)||this._elementRef.nativeElement.tagName.toLowerCase()===t)return void this._elementRef.nativeElement.classList.add(t);this._elementRef.nativeElement.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected=!0,this.selectionChange.emit({source:this,isUserInput:!1,selected:!0})}deselect(){this._selected=!1,this.selectionChange.emit({source:this,isUserInput:!1,selected:!1})}selectViaInteraction(){this._selected=!0,this.selectionChange.emit({source:this,isUserInput:!0,selected:!0})}toggleSelected(t=!1){return this._selected=!this.selected,this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected}),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(t){this.disabled||(t.preventDefault(),t.stopPropagation())}_handleKeydown(t){if(!this.disabled)switch(t.keyCode){case void 0:case void 0:this.remove(),t.preventDefault();break;case o.c:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}_blur(){this._hasFocus=!1,this._onBlur.next({chip:this})}}class xt{constructor(t){this._parentChip=t}_handleClick(){this._parentChip.removable&&this._parentChip.remove()}}const Tt=new i.J("mat-chips-default-options");class kt{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const Ot=(void 0)(kt);let It=0;class At{constructor(t,e){this.source=t,this.value=e}}class Rt extends Ot{constructor(t,e,n,r,s,o,a){super(o,r,s,a),this._elementRef=t,this._changeDetectorRef=e,this._dir=n,this.ngControl=a,this.controlType="mat-chip-list",this._lastDestroyedIndex=null,this._chipSet=new WeakMap,this._tabOutSubscription=g.a.EMPTY,this._uid=`mat-chip-list-${It++}`,this._tabIndex=0,this._userTabIndex=null,this._onTouched=(()=>{}),this._onChange=(()=>{}),this._multiple=!1,this._compareWith=((t,e)=>t===e),this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new i.P,this.valueChange=new i.P,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(t){this._multiple=Object(s.c)(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(t){this._required=Object(s.c)(t),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this.chips.some(t=>t._hasFocus)}get empty(){return(!this._chipInput||this._chipInput.empty)&&0===this.chips.length}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Object(s.c)(t)}get selectable(){return this._selectable}set selectable(t){this._selectable=Object(s.c)(t),this.chips&&this.chips.forEach(t=>t.chipListSelectable=this._selectable)}set tabIndex(t){this._userTabIndex=t,this._tabIndex=t}get chipSelectionChanges(){return Object(y.a)(...this.chips.map(t=>t.selectionChange))}get chipFocusChanges(){return Object(y.a)(...this.chips.map(t=>t._onFocus))}get chipBlurChanges(){return Object(y.a)(...this.chips.map(t=>t._onBlur))}get chipRemoveChanges(){return Object(y.a)(...this.chips.map(t=>t.destroyed))}ngAfterContentInit(){this._keyManager=new(void 0)(this.chips).withWrap().withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._tabOutSubscription=this._keyManager.tabOut.subscribe(()=>{this._tabIndex=-1,setTimeout(()=>this._tabIndex=this._userTabIndex||0)}),this._changeSubscription=this.chips.changes.pipe(Object(_t.a)(null)).subscribe(()=>{this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new G.b(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){this._tabOutSubscription.unsubscribe(),this._changeSubscription&&this._changeSubscription.unsubscribe(),this._chipRemoveSubscription&&this._chipRemoveSubscription.unsubscribe(),this._dropSubscriptions(),this.stateChanges.complete()}registerInput(t){this._chipInput=t}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}writeValue(t){this.chips&&this._setSelectionByValue(t,!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._elementRef.nativeElement.disabled=t,this.stateChanges.next()}onContainerClick(){this.focus()}focus(){this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(),this.stateChanges.next()))}_focusInput(){this._chipInput&&this._chipInput.focus()}_keydown(t){const e=t.target;void 0===t.keyCode&&this._isInputEmpty(e)?(this._keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mat-chip")&&(this._keyManager.onKeydown(t),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateKeyManager(t){let e=this.chips.toArray().indexOf(t);this._isValidIndex(e)&&(t._hasFocus&&(e<this.chips.length-1?this._keyManager.setActiveItem(e):e-1>=0&&this._keyManager.setActiveItem(e-1)),this._keyManager.activeItemIndex===e&&(this._lastDestroyedIndex=e))}_updateFocusForDestroyedChips(){const t=this.chips.toArray();if(null!=this._lastDestroyedIndex&&t.length>0&&(this.focused||this._keyManager.activeItem&&-1===t.indexOf(this._keyManager.activeItem))){const e=Math.min(this._lastDestroyedIndex,t.length-1);this._keyManager.setActiveItem(e);const n=this._keyManager.activeItem;n&&n.focus()}this._lastDestroyedIndex=null}_isValidIndex(t){return t>=0&&t<this.chips.length}_isInputEmpty(t){return!(!t||"input"!==t.nodeName.toLowerCase()||t.value)}_setSelectionByValue(t,e=!0){if(this._clearSelection(),this.chips.forEach(t=>t.deselect()),Array.isArray(t))t.forEach(t=>this._selectValue(t,e)),this._sortValues();else{const n=this._selectValue(t,e);n&&e&&this._keyManager.setActiveItem(n)}}_selectValue(t,e=!0){const n=this.chips.find(e=>null!=e.value&&this._compareWith(e.value,t));return n&&(e?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(t){this._selectionModel.clear(),this.chips.forEach(e=>{e!==t&&e.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(t=>{t.selected&&this._selectionModel.select(t)}),this.stateChanges.next())}_propagateChanges(t){let e=null;e=Array.isArray(this.selected)?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.change.emit(new At(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_blur(){this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(t=>{t.source.selected?this._selectionModel.select(t.source):this._selectionModel.deselect(t.source),this.multiple||this.chips.forEach(t=>{!this._selectionModel.isSelected(t)&&t.selected&&t.deselect()}),t.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(t=>{let e=this.chips.toArray().indexOf(t.chip);this._isValidIndex(e)&&this._keyManager.updateActiveItemIndex(e),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(t=>{this._updateKeyManager(t.chip)})}}let Dt=0;class Pt{constructor(t,e){this._elementRef=t,this._defaultOptions=e,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new i.P,this.placeholder="",this.id=`mat-chip-list-input-${Dt++}`,this._inputElement=this._elementRef.nativeElement}set chipList(t){t&&(this._chipList=t,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(t){this._addOnBlur=Object(s.c)(t)}get empty(){return!this._inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}_keydown(t){this._emitChipEnd(t)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._chipList.stateChanges.next()}_emitChipEnd(t){!this._inputElement.value&&t&&this._chipList._keydown(t),(!t||this.separatorKeyCodes.indexOf(t.keyCode)>-1)&&(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),t&&t.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(){this._inputElement.focus()}}class Mt{}var Nt=n(null);function Lt(t){return Error(`MatDatepicker: No provider found for ${t}. You must import one of the following `+"modules at your application root: MatNativeDateModule, MatMomentDateModule, or provide a custom implementation.")}class Ft{constructor(){this.changes=new S.a,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}}Ft.ngInjectableDef=Object(i.L)({factory:function(){return new Ft},token:Ft,providedIn:"root"});class jt{constructor(t,e,n,i){this.value=t,this.displayValue=e,this.ariaLabel=n,this.enabled=i}}class Vt{constructor(t,e){this._elementRef=t,this._ngZone=e,this.numCols=7,this.allowDisabledSelection=!1,this.activeCell=0,this.cellAspectRatio=1,this.selectedValueChange=new i.P}_cellClicked(t){(this.allowDisabledSelection||t.enabled)&&this.selectedValueChange.emit(t.value)}get _firstRowOffset(){return this.rows&&this.rows.length&&this.rows[0].length?this.numCols-this.rows[0].length:0}_isActiveCell(t,e){let n=t*this.numCols+e;return t&&(n-=this._firstRowOffset),n==this.activeCell}_focusActiveCell(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Object(h.a)(1)).subscribe(()=>{this._elementRef.nativeElement.querySelector(".mat-calendar-body-active").focus()})})}}const Bt=7;class Ut{constructor(t,e,n,r){if(this._changeDetectorRef=t,this._dateFormats=e,this._dateAdapter=n,this._dir=r,this.selectedChange=new i.P,this._userSelection=new i.P,this.activeDateChange=new i.P,!this._dateAdapter)throw Lt("DateAdapter");if(!this._dateFormats)throw Lt("MAT_DATE_FORMATS");const s=this._dateAdapter.getFirstDayOfWeek(),o=this._dateAdapter.getDayOfWeekNames("narrow");let a=this._dateAdapter.getDayOfWeekNames("long").map((t,e)=>({long:t,narrow:o[e]}));this._weekdays=a.slice(s).concat(a.slice(0,s)),this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){const e=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(e,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedDate=this._getDateInCurrentMonth(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._init()}_dateSelected(t){if(this._selectedDate!=t){const e=this._dateAdapter.getYear(this.activeDate),n=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.createDate(e,n,t);this.selectedChange.emit(i)}this._userSelection.emit()}_handleCalendarBodyKeydown(t){const e=this._activeDate,n=this._isRtl();switch(t.keyCode){case o.h:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case o.j:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case o.i:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case o.k:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case o.g:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case o.f:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case o.d:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case o.e:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case o.b:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected(this._dateAdapter.getDate(this._activeDate)),this._userSelection.emit(),t.preventDefault()));default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_init(){this._selectedDate=this._getDateInCurrentMonth(this.selected),this._todayDate=this._getDateInCurrentMonth(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(Bt+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%Bt,this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),e=this._dateAdapter.getDateNames();this._weeks=[[]];for(let n=0,i=this._firstWeekOffset;n<t;n++,i++){i==Bt&&(this._weeks.push([]),i=0);const t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),r=this._shouldEnableDate(t),s=this._dateAdapter.format(t,this._dateFormats.display.dateA11yLabel);this._weeks[this._weeks.length-1].push(new jt(n+1,e[n],s,r))}}_shouldEnableDate(t){return!!t&&(!this.dateFilter||this.dateFilter(t))&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,e){return!(!t||!e||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(e)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(e))}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}const zt=24,Ht=4;class Wt{constructor(t,e,n){if(this._changeDetectorRef=t,this._dateAdapter=e,this._dir=n,this.selectedChange=new i.P,this.yearSelected=new i.P,this.activeDateChange=new i.P,!this._dateAdapter)throw Lt("DateAdapter");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let e=this._activeDate;const n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),Math.floor(this._dateAdapter.getYear(e)/zt)!=Math.floor(this._dateAdapter.getYear(this._activeDate)/zt)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedYear=this._selected&&this._dateAdapter.getYear(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._init()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let t=this._dateAdapter.getYear(this._activeDate),e=t%zt;this._years=[];for(let n=0,i=[];n<zt;n++)i.push(t-e+n),i.length==Ht&&(this._years.push(i.map(t=>this._createCellForYear(t))),i=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){this.yearSelected.emit(this._dateAdapter.createDate(t,0,1));let e=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,e,1));this.selectedChange.emit(this._dateAdapter.createDate(t,e,Math.min(this._dateAdapter.getDate(this.activeDate),n)))}_handleCalendarBodyKeydown(t){const e=this._activeDate,n=this._isRtl();switch(t.keyCode){case o.h:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case o.j:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case o.i:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Ht);break;case o.k:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ht);break;case o.g:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-this._dateAdapter.getYear(this._activeDate)%zt);break;case o.f:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,zt-this._dateAdapter.getYear(this._activeDate)%zt-1);break;case o.d:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*-zt:-zt);break;case o.e:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*zt:zt);break;case o.b:this._yearSelected(this._dateAdapter.getYear(this._activeDate));break;default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_getActiveCell(){return this._dateAdapter.getYear(this.activeDate)%zt}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(t){let e=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return new jt(t,e,e,this._shouldEnableYear(t))}_shouldEnableYear(t){if(void 0===t||null===t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let e=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(e)==t;e=this._dateAdapter.addCalendarDays(e,1))if(this.dateFilter(e))return!0;return!1}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}class $t{constructor(t,e,n,r){if(this._changeDetectorRef=t,this._dateFormats=e,this._dateAdapter=n,this._dir=r,this.selectedChange=new i.P,this.monthSelected=new i.P,this.activeDateChange=new i.P,!this._dateAdapter)throw Lt("DateAdapter");if(!this._dateFormats)throw Lt("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let e=this._activeDate;const n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(e)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedMonth=this._getMonthInCurrentYear(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._init()}_monthSelected(t){const e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(e);const n=this._dateAdapter.getNumDaysInMonth(e);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),n)))}_handleCalendarBodyKeydown(t){const e=this._activeDate,n=this._isRtl();switch(t.keyCode){case o.h:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case o.j:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case o.i:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case o.k:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case o.g:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case o.f:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case o.d:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case o.e:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case o.b:this._monthSelected(this._dateAdapter.getMonth(this._activeDate));break;default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_init(){this._selectedMonth=this._getMonthInCurrentYear(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(e=>e.map(e=>this._createCellForMonth(e,t[e]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_createCellForMonth(t,e){let n=this._dateAdapter.format(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),this._dateFormats.display.monthYearA11yLabel);return new jt(t,e.toLocaleUpperCase(),n,this._shouldEnableMonth(t))}_shouldEnableMonth(t){const e=this._dateAdapter.getYear(this.activeDate);if(void 0===t||null===t||this._isYearAndMonthAfterMaxDate(e,t)||this._isYearAndMonthBeforeMinDate(e,t))return!1;if(!this.dateFilter)return!0;for(let n=this._dateAdapter.createDate(e,t,1);this._dateAdapter.getMonth(n)==t;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isYearAndMonthAfterMaxDate(t,e){if(this.maxDate){const n=this._dateAdapter.getYear(this.maxDate),i=this._dateAdapter.getMonth(this.maxDate);return t>n||t===n&&e>i}return!1}_isYearAndMonthBeforeMinDate(t,e){if(this.minDate){const n=this._dateAdapter.getYear(this.minDate),i=this._dateAdapter.getMonth(this.minDate);return t<n||t===n&&e<i}return!1}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}class qt{constructor(t,e,n,i,r){this._intl=t,this.calendar=e,this._dateAdapter=n,this._dateFormats=i,this.calendar.stateChanges.subscribe(()=>r.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const t=this._dateAdapter.getYear(this.calendar.activeDate);return`${this._dateAdapter.getYearName(this._dateAdapter.createDate(t-t%24,0,1))} \u2013 ${this._dateAdapter.getYearName(this._dateAdapter.createDate(t+zt-1-t%24,0,1))}`}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-zt)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:zt)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,e){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(e):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e):Math.floor(this._dateAdapter.getYear(t)/zt)==Math.floor(this._dateAdapter.getYear(e)/zt)}}class Gt{constructor(t,e,n,r){if(this._dateAdapter=e,this._dateFormats=n,this._changeDetectorRef=r,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new i.P,this.yearSelected=new i.P,this.monthSelected=new i.P,this._userSelection=new i.P,this.stateChanges=new S.a,!this._dateAdapter)throw Lt("DateAdapter");if(!this._dateFormats)throw Lt("MAT_DATE_FORMATS");this._intlChanges=t.changes.subscribe(()=>{r.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(t){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next()}get currentView(){return this._currentView}set currentView(t){this._currentView=t,this._moveFocusOnNextTick=!0}ngAfterContentInit(){this._calendarHeaderPortal=new l.d(this.headerComponent||qt),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const e=t.minDate||t.maxDate||t.dateFilter;if(e&&!e.firstChange){const t=this._getCurrentViewComponent();t&&(this._changeDetectorRef.detectChanges(),t._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell()}_dateSelected(t){this._dateAdapter.sameDate(t,this.selected)||this.selectedChange.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_userSelected(){this._userSelection.emit()}_goToDateInView(t,e){this.activeDate=t,this.currentView=e}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}const Yt={transformPanel:Object(Nt.i)("transformPanel",[Object(Nt.j)("void",Object(Nt.h)({opacity:0,transform:"scale(1, 0)"})),Object(Nt.j)("enter",Object(Nt.h)({opacity:1,transform:"scale(1, 1)"})),Object(Nt.k)("void => enter",(void 0)([(void 0)("@fadeInCalendar",(void 0)()),Object(Nt.l)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)")])),Object(Nt.k)("* => void",Object(Nt.l)("100ms linear",Object(Nt.h)({opacity:0})))]),fadeInCalendar:Object(Nt.i)("fadeInCalendar",[Object(Nt.j)("void",Object(Nt.h)({opacity:0})),Object(Nt.j)("enter",Object(Nt.h)({opacity:1})),Object(Nt.k)("void => *",Object(Nt.l)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Kt=0;const Qt=new i.J("mat-datepicker-scroll-strategy");function Xt(t){return()=>t.scrollStrategies.reposition()}const Zt={provide:Qt,deps:[a.a],useFactory:Xt};class Jt{constructor(t){this._elementRef=t}}const te=Object(r.f)(Jt);class ee extends te{constructor(t){super(t)}ngAfterViewInit(){this._calendar.focusActiveCell()}}class ne{constructor(t,e,n,r,s,o,a,l){if(this._dialog=t,this._overlay=e,this._ngZone=n,this._viewContainerRef=r,this._scrollStrategy=s,this._dateAdapter=o,this._dir=a,this._document=l,this.startView="month",this._touchUi=!1,this.yearSelected=new i.P,this.monthSelected=new i.P,this.openedStream=new i.P,this.closedStream=new i.P,this._opened=!1,this.id=`mat-datepicker-${Kt++}`,this._validSelected=null,this._focusedElementBeforeOpen=null,this._inputSubscription=g.a.EMPTY,this._disabledChange=new S.a,this._selectedChanged=new S.a,!this._dateAdapter)throw Lt("DateAdapter")}get startAt(){return this._startAt||(this._datepickerInput?this._datepickerInput.value:null)}set startAt(t){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this._datepickerInput?this._datepickerInput._getThemePalette():void 0)}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=Object(s.c)(t)}get disabled(){return void 0===this._disabled&&this._datepickerInput?this._datepickerInput.disabled:!!this._disabled}set disabled(t){const e=Object(s.c)(t);e!==this._disabled&&(this._disabled=e,this._disabledChange.next(e))}get opened(){return this._opened}set opened(t){t?this.open():this.close()}get _selected(){return this._validSelected}set _selected(t){this._validSelected=t}get _minDate(){return this._datepickerInput&&this._datepickerInput.min}get _maxDate(){return this._datepickerInput&&this._datepickerInput.max}get _dateFilter(){return this._datepickerInput&&this._datepickerInput._dateFilter}ngOnDestroy(){this.close(),this._inputSubscription.unsubscribe(),this._disabledChange.complete(),this._popupRef&&(this._popupRef.dispose(),this._popupComponentRef=null)}_select(t){let e=this._selected;this._selected=t,this._dateAdapter.sameDate(e,this._selected)||this._selectedChanged.next(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_registerInput(t){if(this._datepickerInput)throw Error("A MatDatepicker can only be associated with a single input.");this._datepickerInput=t,this._inputSubscription=this._datepickerInput._valueChange.subscribe(t=>this._selected=t)}open(){if(!this._opened&&!this.disabled){if(!this._datepickerInput)throw Error("Attempted to open an MatDatepicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}}close(){if(!this._opened)return;this._popupRef&&this._popupRef.hasAttached()&&this._popupRef.detach(),this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null),this._calendarPortal&&this._calendarPortal.isAttached&&this._calendarPortal.detach();const t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(t)):t()}_openAsDialog(){this._dialogRef=this._dialog.open(ee,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog"}),this._dialogRef.afterClosed().subscribe(()=>this.close()),this._dialogRef.componentInstance.datepicker=this,this._setColor()}_openAsPopup(){this._calendarPortal||(this._calendarPortal=new l.d(ee,this._viewContainerRef)),this._popupRef||this._createPopup(),this._popupRef.hasAttached()||(this._popupComponentRef=this._popupRef.attach(this._calendarPortal),this._popupComponentRef.instance.datepicker=this,this._setColor(),this._ngZone.onStable.asObservable().pipe(Object(h.a)(1)).subscribe(()=>{this._popupRef.updatePosition()}))}_createPopup(){const t=new a.i({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(t),this._popupRef.overlayElement.setAttribute("role","dialog"),Object(y.a)(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(Object(u.a)(t=>t.keyCode===o.a||this._datepickerInput&&t.altKey&&t.keyCode===o.i))).subscribe(()=>this.close())}_createPopupPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withPush(!1).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_setColor(){const t=this.color;this._popupComponentRef&&(this._popupComponentRef.instance.color=t),this._dialogRef&&(this._dialogRef.componentInstance.color=t)}}const ie={provide:m.a,useExisting:Object(i.Ja)(()=>oe),multi:!0},re={provide:void 0,useExisting:Object(i.Ja)(()=>oe),multi:!0};class se{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}class oe{constructor(t,e,n,r){if(this._elementRef=t,this._dateAdapter=e,this._dateFormats=n,this._formField=r,this.dateChange=new i.P,this.dateInput=new i.P,this._valueChange=new i.P,this._disabledChange=new i.P,this._onTouched=(()=>{}),this._cvaOnChange=(()=>{}),this._validatorOnChange=(()=>{}),this._datepickerSubscription=g.a.EMPTY,this._localeSubscription=g.a.EMPTY,this._parseValidator=(()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}}),this._minValidator=(t=>{const e=this._getValidDateOrNull(this._dateAdapter.deserialize(t.value));return!this.min||!e||this._dateAdapter.compareDate(this.min,e)<=0?null:{matDatepickerMin:{min:this.min,actual:e}}}),this._maxValidator=(t=>{const e=this._getValidDateOrNull(this._dateAdapter.deserialize(t.value));return!this.max||!e||this._dateAdapter.compareDate(this.max,e)>=0?null:{matDatepickerMax:{max:this.max,actual:e}}}),this._filterValidator=(t=>{const e=this._getValidDateOrNull(this._dateAdapter.deserialize(t.value));return this._dateFilter&&e&&!this._dateFilter(e)?{matDatepickerFilter:!0}:null}),this._validator=(void 0).compose([this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]),this._lastValueValid=!1,!this._dateAdapter)throw Lt("DateAdapter");if(!this._dateFormats)throw Lt("MAT_DATE_FORMATS");this._localeSubscription=e.localeChanges.subscribe(()=>{this.value=this.value})}set matDatepicker(t){this.registerDatepicker(t)}registerDatepicker(t){t&&(this._datepicker=t,this._datepicker._registerInput(this))}set matDatepickerFilter(t){this._dateFilter=t,this._validatorOnChange()}get value(){return this._value}set value(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=!t||this._dateAdapter.isValid(t),t=this._getValidDateOrNull(t);const e=this.value;this._value=t,this._formatValue(t),this._dateAdapter.sameDate(e,t)||this._valueChange.emit(t)}get min(){return this._min}set min(t){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._validatorOnChange()}get max(){return this._max}set max(t){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._validatorOnChange()}get disabled(){return!!this._disabled}set disabled(t){const e=Object(s.c)(t),n=this._elementRef.nativeElement;this._disabled!==e&&(this._disabled=e,this._disabledChange.emit(e)),e&&n.blur&&n.blur()}ngAfterContentInit(){this._datepicker&&(this._datepickerSubscription=this._datepicker._selectedChanged.subscribe(t=>{this.value=t,this._cvaOnChange(t),this._onTouched(),this.dateInput.emit(new se(this,this._elementRef.nativeElement)),this.dateChange.emit(new se(this,this._elementRef.nativeElement))}))}ngOnDestroy(){this._datepickerSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}getPopupConnectionElementRef(){return this.getConnectedOverlayOrigin()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}writeValue(t){this.value=t}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){t.altKey&&t.keyCode===o.k&&(this._datepicker.open(),t.preventDefault())}_onInput(t){let e=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=!e||this._dateAdapter.isValid(e),e=this._getValidDateOrNull(e),this._dateAdapter.sameDate(e,this._value)||(this._value=e,this._cvaOnChange(e),this._valueChange.emit(e),this.dateInput.emit(new se(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new se(this,this._elementRef.nativeElement))}_getThemePalette(){return this._formField?this._formField.color:void 0}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}}class ae{}class le{constructor(t,e){this._intl=t,this._changeDetectorRef=e,this._stateChanges=g.a.EMPTY}get disabled(){return void 0===this._disabled?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=Object(s.c)(t)}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker._disabledChange:Object(v.a)(),e=this.datepicker&&this.datepicker._datepickerInput?this.datepicker._datepickerInput._disabledChange:Object(v.a)(),n=this.datepicker?Object(y.a)(this.datepicker.openedStream,this.datepicker.closedStream):Object(v.a)();this._stateChanges.unsubscribe(),this._stateChanges=Object(y.a)(this._intl.changes,t,e,n).subscribe(()=>this._changeDetectorRef.markForCheck())}}class he{}var ce=n(null);class ue{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabel=null,this.autoFocus=!0,this.closeOnNavigation=!0}}const de={slideDialog:Object(Nt.i)("slideDialog",[Object(Nt.j)("enter",Object(Nt.h)({transform:"none",opacity:1})),Object(Nt.j)("void",Object(Nt.h)({transform:"translate3d(0, 25%, 0) scale(0.9)",opacity:0})),Object(Nt.j)("exit",Object(Nt.h)({transform:"translate3d(0, 25%, 0)",opacity:0})),Object(Nt.k)("* => *",Object(Nt.l)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};function pe(){throw Error("Attempting to attach dialog content after content is already attached")}class fe extends l.e{constructor(t,e,n,r,s){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._document=r,this._config=s,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new i.P,this._ariaLabelledBy=null}attachComponentPortal(t){return this._portalOutlet.hasAttached()&&pe(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached()&&pe(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}_trapFocus(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._config.autoFocus&&this._focusTrap.focusInitialElementWhenReady()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;t&&"function"==typeof t.focus&&t.focus(),this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_onAnimationDone(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}let me=0;class ge{constructor(t,e,n,i=`mat-dialog-${me++}`){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpen=new S.a,this._afterClosed=new S.a,this._beforeClose=new S.a,this._locationChanges=g.a.EMPTY,e._id=i,e._animationStateChanged.pipe(Object(u.a)(t=>"done"===t.phaseName&&"enter"===t.toState),Object(h.a)(1)).subscribe(()=>{this._afterOpen.next(),this._afterOpen.complete()}),e._animationStateChanged.pipe(Object(u.a)(t=>"done"===t.phaseName&&"exit"===t.toState),Object(h.a)(1)).subscribe(()=>this._overlayRef.dispose()),t.detachments().subscribe(()=>{this._beforeClose.next(this._result),this._beforeClose.complete(),this._locationChanges.unsubscribe(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Object(u.a)(t=>t.keyCode===o.a&&!this.disableClose)).subscribe(()=>this.close()),n&&(this._locationChanges=n.subscribe(()=>{this._containerInstance._config.closeOnNavigation&&this.close()}))}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Object(u.a)(t=>"start"===t.phaseName),Object(h.a)(1)).subscribe(()=>{this._beforeClose.next(t),this._beforeClose.complete(),this._overlayRef.detachBackdrop()}),this._containerInstance._startExitAnimation()}afterOpen(){return this._afterOpen.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClose(){return this._beforeClose.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const _e=new i.J("MatDialogData"),ye=new i.J("mat-dialog-default-options"),ve=new i.J("mat-dialog-scroll-strategy");function be(t){return()=>t.scrollStrategies.block()}function we(t){return()=>t.scrollStrategies.block()}const Ce={provide:ve,deps:[a.a],useFactory:we};class Ee{constructor(t,e,n,i,r,s,o){this._overlay=t,this._injector=e,this._location=n,this._defaultOptions=i,this._scrollStrategy=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new S.a,this._afterOpenAtThisLevel=new S.a,this._ariaHiddenElements=new Map,this.afterAllClosed=E(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(Object(_t.a)(void 0)))}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpen(){return this._parentDialog?this._parentDialog.afterOpen:this._afterOpenAtThisLevel}get _afterAllClosed(){const t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}open(t,e){if((e=function(t,e){return Object.assign({},e,t)}(e,this._defaultOptions||new ue)).id&&this.getDialogById(e.id))throw Error(`Dialog with id "${e.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(e),i=this._attachDialogContainer(n,e),r=this._attachDialogContent(t,i,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpen.next(r),r}closeAll(){let t=this.openDialogs.length;for(;t--;)this.openDialogs[t].close()}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new a.i({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=new l.f(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[ue,e]])),i=new l.d(fe,e.viewContainerRef,n);return t.attach(i).instance}_attachDialogContent(t,e,n,r){const s=new ge(n,e,this._location,r.id);if(r.hasBackdrop&&n.backdropClick().subscribe(()=>{s.disableClose||s.close()}),t instanceof i.Na)e.attachTemplatePortal(new l.c(t,null,{$implicit:r.data,dialogRef:s}));else{const n=this._createInjector(r,s,e),i=e.attachComponentPortal(new l.d(t,void 0,n));s.componentInstance=i.instance}return s.updateSize(r.width,r.height).updatePosition(r.position),s}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=new WeakMap([[fe,n],[_e,t.data],[ge,e]]);return!t.direction||i&&i.get(ce.a,null)||r.set(ce.a,{value:t.direction,change:Object(v.a)()}),new l.f(i||this._injector,r)}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}}let Se=0;class xe{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.ariaLabel="Close dialog"}ngOnInit(){this.dialogRef||(this.dialogRef=Ie(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}}class Te{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id=`mat-dialog-title-${Se++}`}ngOnInit(){this._dialogRef||(this._dialogRef=Ie(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}class ke{}class Oe{}function Ie(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}class Ae{}class Re{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=Object(s.c)(t)}get inset(){return this._inset}set inset(t){this._inset=Object(s.c)(t)}}class De{}let Pe=0;class Me{constructor(){this._openCloseAllActions=new S.a,this.id=`cdk-accordion-${Pe++}`,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=Object(s.c)(t)}openAll(){this._openCloseAll(!0)}closeAll(){this._openCloseAll(!1)}_openCloseAll(t){this.multi&&this._openCloseAllActions.next(t)}}let Ne=0;class Le{constructor(t,e,n){this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=n,this._openCloseAllSubscription=g.a.EMPTY,this.closed=new i.P,this.opened=new i.P,this.destroyed=new i.P,this.expandedChange=new i.P,this.id=`cdk-accordion-child-${Ne++}`,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=(()=>{}),this._removeUniqueSelectionListener=n.listen((t,e)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===e&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=Object(s.c)(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(s.c)(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}class Fe extends Me{constructor(){super(...arguments),this._hideToggle=!1,this.displayMode="default"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=Object(s.c)(t)}}const je={indicatorRotate:Object(Nt.i)("indicatorRotate",[Object(Nt.j)("collapsed",Object(Nt.h)({transform:"rotate(0deg)"})),Object(Nt.j)("expanded",Object(Nt.h)({transform:"rotate(180deg)"})),Object(Nt.k)("expanded <=> collapsed",Object(Nt.l)("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),expansionHeaderHeight:Object(Nt.i)("expansionHeight",[Object(Nt.j)("collapsed",Object(Nt.h)({height:"{{collapsedHeight}}"}),{params:{collapsedHeight:"48px"}}),Object(Nt.j)("expanded",Object(Nt.h)({height:"{{expandedHeight}}"}),{params:{expandedHeight:"64px"}}),Object(Nt.k)("expanded <=> collapsed",(void 0)([(void 0)("@indicatorRotate",(void 0)(),{optional:!0}),Object(Nt.l)("225ms cubic-bezier(0.4,0.0,0.2,1)")]))]),bodyExpansion:Object(Nt.i)("bodyExpansion",[Object(Nt.j)("collapsed",Object(Nt.h)({height:"0px",visibility:"hidden"})),Object(Nt.j)("expanded",Object(Nt.h)({height:"*",visibility:"visible"})),Object(Nt.k)("expanded <=> collapsed",Object(Nt.l)("225ms cubic-bezier(0.4,0.0,0.2,1)"))])};class Ve{constructor(t){this._template=t}}let Be=0;class Ue extends Le{constructor(t,e,n,i){super(t,e,n),this._viewContainerRef=i,this._hideToggle=!1,this._inputChanges=new S.a,this._headerId=`mat-expansion-panel-header-${Be++}`,this.accordion=t}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=Object(s.c)(t)}_getHideToggle(){return this.accordion?this.accordion.hideToggle:this.hideToggle}_hasSpacing(){return!!this.accordion&&"default"===(this.expanded?this.accordion.displayMode:this._getExpandedState())}_getExpandedState(){return this.expanded?"expanded":"collapsed"}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Object(_t.a)(null),Object(u.a)(()=>this.expanded&&!this._portal),Object(h.a)(1)).subscribe(()=>{this._portal=new l.c(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_bodyAnimation(t){const e=t.element.classList,{phaseName:n,toState:i}=t;"done"===n&&"expanded"===i?e.add("mat-expanded"):"start"===n&&"collapsed"===i&&e.remove("mat-expanded")}}class ze{}class He{constructor(t,e,n,i){this.panel=t,this._element=e,this._focusMonitor=n,this._changeDetectorRef=i,this._parentChangeSubscription=g.a.EMPTY,this._parentChangeSubscription=Object(y.a)(t.opened,t.closed,t._inputChanges.pipe(Object(u.a)(t=>!(!t.hideToggle&&!t.disabled)))).subscribe(()=>this._changeDetectorRef.markForCheck()),n.monitor(e.nativeElement)}_toggle(){this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_keydown(t){switch(t.keyCode){case o.c:case o.b:t.preventDefault(),this._toggle();break;default:return}}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element.nativeElement)}}class We{}class $e{}class qe{}let Ge=0;class Ye{constructor(){this.id=`mat-error-${Ge++}`}}const Ke={transitionMessages:Object(Nt.i)("transitionMessages",[Object(Nt.j)("enter",Object(Nt.h)({opacity:1,transform:"translateY(0%)"})),Object(Nt.k)("void => enter",[Object(Nt.h)({opacity:0,transform:"translateY(-100%)"}),Object(Nt.l)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};class Qe{}function Xe(){return Error("Placeholder attribute and child element were both specified.")}function Ze(t){return Error(`A hint was already declared for 'align="${t}"'.`)}function Je(){return Error("mat-form-field must contain a MatFormFieldControl.")}let tn=0;class en{constructor(){this.align="start",this.id=`mat-hint-${tn++}`}}class nn{}class rn{}class sn{}class on{}let an=0;const ln=.75,hn=5;class cn{constructor(t){this._elementRef=t}}const un=Object(r.f)(cn,"primary"),dn=new i.J("MAT_FORM_FIELD_DEFAULT_OPTIONS");class pn extends un{constructor(t,e,n,i,r,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this._defaultOptions=r,this._platform=s,this._ngZone=o,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${an++}`,this._labelId=`mat-form-field-label-${an++}`,this._outlineGapWidth=0,this._outlineGapStart=0,this._initialGapCalculated=!1,this._labelOptions=n||{},this.floatLabel=this._labelOptions.float||"auto",this._animationsEnabled="NoopAnimations"!==a}get appearance(){return this._appearance||this._defaultOptions&&this._defaultOptions.appearance||"legacy"}set appearance(t){t!==this._appearance&&"outline"===t&&(this._initialGapCalculated=!1),this._appearance=t}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Object(s.c)(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild(),this._control.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${this._control.controlType}`),this._control.stateChanges.pipe(Object(_t.a)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()});const t=this._control.ngControl&&this._control.ngControl.valueChanges||C.b;Object(y.a)(t,this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>this._changeDetectorRef.markForCheck()),this._hintChildren.changes.pipe(Object(_t.a)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Object(_t.a)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()})}ngAfterContentChecked(){this._validateControlChild(),this._initialGapCalculated||(this._ngZone?this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this.updateOutlineGap())}):Promise.resolve().then(()=>this.updateOutlineGap()))}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,Object(_.a)(this._label.nativeElement,"transitionend").pipe(Object(h.a)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Xe()}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw Ze("start");t=n}else if("end"===n.align){if(e)throw Ze("end");e=n}})}}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){let e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Je()}updateOutlineGap(){if("outline"===this.appearance&&this._label&&this._label.nativeElement.children.length){if(this._platform&&!this._platform.isBrowser)return void(this._initialGapCalculated=!0);if(!document.documentElement.contains(this._elementRef.nativeElement))return;const t=this._getStartEnd(this._connectionContainerRef.nativeElement.getBoundingClientRect()),e=this._getStartEnd(this._label.nativeElement.children[0].getBoundingClientRect());let n=0;for(const i of this._label.nativeElement.children)n+=i.offsetWidth;this._outlineGapStart=e-t-hn,this._outlineGapWidth=n*ln+2*hn}else this._outlineGapStart=0,this._outlineGapWidth=0;this._initialGapCalculated=!0,this._changeDetectorRef.markForCheck()}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}}class fn{}function mn(t){return`${t||""}`}function gn(t){return"string"==typeof t?parseInt(t,10):t}class _n{constructor(t){this._element=t,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=gn(t)}get colspan(){return this._colspan}set colspan(t){this._colspan=gn(t)}_setStyle(t,e){this._element.nativeElement.style[t]=e}}class yn{constructor(t){this._element=t}ngAfterContentInit(){this._lineSetter=new(void 0)(this._lines,this._element)}}class vn{}class bn{}class wn{}class Cn{constructor(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(t=>this._trackTile(t))}get rowCount(){return this.rowIndex+1}get rowspan(){let t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}_trackTile(t){let e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new En(this.rowIndex,e)}_findMatchingGap(t){if(t>this.tracker.length)throw Error(`mat-grid-list: tile with colspan ${t} is wider than `+`grid with cols="${this.tracker.length}".`);let e=-1,n=-1;do{this.columnIndex+t>this.tracker.length?this._nextRow():-1!=(e=this.tracker.indexOf(0,this.columnIndex))?(n=this._findGapEndIndex(e),this.columnIndex=e+1):this._nextRow()}while(n-e<t);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let n=0;n<e.colspan;n++)this.tracker[t+n]=e.rowspan}}class En{constructor(t,e){this.row=t,this.col=e}}class Sn{constructor(){this._rows=0,this._rowspan=0}init(t,e,n,i){this._gutterSize=In(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=n,this._direction=i}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":On(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,n){let i=100/this._cols,r=(this._cols-1)/this._cols;this.setColStyles(t,n,i,r),this.setRowStyles(t,e,i,r)}setColStyles(t,e,n,i){let r=this.getBaseTileSize(n,i);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(r,e)),t._setStyle("width",On(this.getTileSize(r,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class xn extends Sn{constructor(t){super(),this.fixedRowHeight=t}init(t,e,n,i){super.init(t,e,n,i),this.fixedRowHeight=In(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",On(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",On(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class Tn extends Sn{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,n,i){this.baseTileHeight=this.getBaseTileSize(n/this.rowHeightRatio,i),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",On(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",On(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");if(2!==e.length)throw Error(`mat-grid-list: invalid ratio given for row-height: "${t}"`);this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class kn extends Sn{setRowStyles(t,e){let n=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(n,e)),t._setStyle("height",On(this.getTileSize(n,t.rowspan)))}reset(t){t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function On(t){return`calc(${t})`}function In(t){return t.match(/px|em|rem/)?t:t+"px"}const An="fit";class Rn{constructor(t,e){this._element=t,this._dir=e,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=gn(t)}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=mn(t)}set rowHeight(t){const e=mn(t);e!==this._rowHeight&&(this._rowHeight=e,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){if(!this.cols)throw Error('mat-grid-list: must pass in number of columns. Example: <mat-grid-list cols="3">')}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler=t===An?new kn:t&&t.indexOf(":")>-1?new Tn(t):new xn(t)}_layoutTiles(){const t=new Cn(this.cols,this._tiles);this._tileStyler.init(this.gutterSize,t,this.cols,this._dir?this._dir.value:"ltr"),this._tiles.forEach((e,n)=>{const i=t.positions[n];this._tileStyler.setStyle(e,i.row,i.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}class Dn{}var Pn=n(null),Mn=n(null),Nn=n(null),Ln=n(null);const Fn=!!Object(Mn.c)()&&{passive:!0};class jn{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return C.b;const e=this._monitoredElements.get(t);if(e)return e.subject.asObservable();const n=new S.a,i="cdk-text-field-autofilled",r=e=>{"cdk-text-field-autofill-start"!==e.animationName||t.classList.contains(i)?"cdk-text-field-autofill-end"===e.animationName&&t.classList.contains(i)&&(t.classList.remove(i),this._ngZone.run(()=>n.next({target:e.target,isAutofilled:!1}))):(t.classList.add(i),this._ngZone.run(()=>n.next({target:e.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",r,Fn),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:n,unlisten:()=>{t.removeEventListener("animationstart",r,Fn)}}),n.asObservable()}stopMonitoring(t){const e=this._monitoredElements.get(t);e&&(e.unlisten(),e.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}jn.ngInjectableDef=Object(i.L)({factory:function(){return new jn(Object(i.M)(Mn.b),Object(i.M)(i.q))},token:jn,providedIn:"root"});class Vn{constructor(t,e,n){this._elementRef=t,this._platform=e,this._ngZone=n,this._destroyed=new S.a,this._enabled=!0,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(t){this._minRows=t,this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(t){this._maxRows=t,this._setMaxHeight()}get enabled(){return this._enabled}set enabled(t){t=Object(s.c)(t),this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())}_setMinHeight(){const t=this.minRows&&this._cachedLineHeight?`${this.minRows*this._cachedLineHeight}px`:null;t&&this._setTextareaStyle("minHeight",t)}_setMaxHeight(){const t=this.maxRows&&this._cachedLineHeight?`${this.maxRows*this._cachedLineHeight}px`:null;t&&this._setTextareaStyle("maxHeight",t)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{Object(_.a)(window,"resize").pipe(Object(Nn.a)(16),Object(Ln.a)(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0))}))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_setTextareaStyle(t,e){this._textareaElement.style[t]=e}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,this._textareaElement.parentNode.removeChild(t),this._setMinHeight(),this._setMaxHeight()}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(t=!1){if(!this._enabled)return;if(this._cacheTextareaLineHeight(),!this._cachedLineHeight)return;const e=this._elementRef.nativeElement,n=e.value;if(n===this._previousValue&&!t)return;const i=e.placeholder;e.classList.add("cdk-textarea-autosize-measuring"),e.placeholder="",e.style.height=`${e.scrollHeight-4}px`,e.classList.remove("cdk-textarea-autosize-measuring"),e.placeholder=i,"undefined"!=typeof requestAnimationFrame&&this._ngZone.runOutsideAngular(()=>requestAnimationFrame(()=>{const{selectionStart:t,selectionEnd:n}=e;this._destroyed.isStopped||document.activeElement!==e||e.setSelectionRange(t,n)})),this._previousValue=n}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}}class Bn extends Vn{get matAutosizeMinRows(){return this.minRows}set matAutosizeMinRows(t){this.minRows=t}get matAutosizeMaxRows(){return this.maxRows}set matAutosizeMaxRows(t){this.maxRows=t}get matAutosize(){return this.enabled}set matAutosize(t){this.enabled=t}get matTextareaAutosize(){return this.enabled}set matTextareaAutosize(t){this.enabled=t}}function Un(t){return Error(`Input type "${t}" isn't supported by matInput.`)}const zn=new i.J("MAT_INPUT_VALUE_ACCESSOR"),Hn=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Wn=0;class $n{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const qn=(void 0)($n);class Gn extends qn{constructor(t,e,n,i,r,s,o,a,l){super(s,i,r,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._uid=`mat-input-${Wn++}`,this._isServer=!1,this.focused=!1,this.stateChanges=new S.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>(void 0)().has(t)),this._inputValueAccessor=o||this._elementRef.nativeElement,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Object(s.c)(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Object(s.c)(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&(void 0)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Object(s.c)(t)}ngOnInit(){this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(){this._elementRef.nativeElement.focus()}_focusChanged(t){t===this.focused||this.readonly||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(Hn.indexOf(this._type)>-1)throw Un(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}_isTextarea(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus()}}class Yn{}class Kn{}const Qn=Object(r.k)(Kn);class Xn{}const Zn=Object(r.k)(Xn);class Jn extends Qn{}class ti extends Qn{}class ei{}class ni{}class ii{}class ri extends Zn{constructor(t,e){super(),this._element=t,this._navList=e,this._isNavList=!1,this._isNavList=!!e}ngAfterContentInit(){new(void 0)(this._lines,this._element)}_isRippleDisabled(){return!this._isNavList||this.disableRipple||this._navList.disableRipple}_handleFocus(){this._element.nativeElement.classList.add("mat-list-item-focus")}_handleBlur(){this._element.nativeElement.classList.remove("mat-list-item-focus")}_getHostElement(){return this._element.nativeElement}}class si{}const oi=Object(r.k)(si);class ai{}const li=Object(r.k)(ai),hi={provide:m.a,useExisting:Object(i.Ja)(()=>di),multi:!0};class ci{constructor(t,e){this.source=t,this.option=e}}class ui extends li{constructor(t,e,n){super(),this._element=t,this._changeDetector=e,this.selectionList=n,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.checkboxPosition="after"}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const e=Object(s.c)(t);e!==this._disabled&&(this._disabled=e,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const e=Object(s.c)(t);e!==this._selected&&(this._setSelected(e),this.selectionList._reportValueChange())}ngOnInit(){const t=this._selected;Promise.resolve().then(()=>{(this._selected||t)&&(this.selected=!0,this._changeDetector.markForCheck())})}ngAfterContentInit(){new(void 0)(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>this.selected=!1),this.selectionList._removeOptionFromList(this)}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text?this._text.nativeElement.textContent:""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){this.disabled||(this.toggle(),this.selectionList._emitChangeEvent(this))}_handleFocus(){this._hasFocus=!0,this.selectionList._setFocusedOption(this)}_handleBlur(){this._hasFocus=!1,this.selectionList._onTouched()}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}class di extends oi{constructor(t,e){super(),this._element=t,this.selectionChange=new i.P,this.tabIndex=0,this._disabled=!1,this.selectedOptions=new G.b(!0),this._onChange=(t=>{}),this._modelChanges=g.a.EMPTY,this._onTouched=(()=>{}),this.tabIndex=parseInt(e)||0}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(s.c)(t),this.options&&this.options.forEach(t=>t._markForCheck())}ngAfterContentInit(){this._keyManager=new(void 0)(this.options).withWrap().withTypeAhead().skipPredicate(()=>!1),this._tempValues&&(this._setOptionsFromValues(this._tempValues),this._tempValues=null),this._modelChanges=this.selectedOptions.onChange.subscribe(t=>{if(t.added)for(let e of t.added)e.selected=!0;if(t.removed)for(let e of t.removed)e.selected=!1})}ngOnDestroy(){this._modelChanges.unsubscribe()}focus(){this._element.nativeElement.focus()}selectAll(){this._setAllOptionsSelected(!0)}deselectAll(){this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItemIndex(this._getOptionIndex(t))}_removeOptionFromList(t){if(t._hasFocus){const e=this._getOptionIndex(t);e>0?this._keyManager.setPreviousItemActive():0===e&&this.options.length>1&&this._keyManager.setNextItemActive()}}_keydown(t){const e=t.keyCode,n=this._keyManager,i=n.activeItemIndex;switch(e){case o.c:case o.b:this.disabled||(this._toggleSelectOnFocusedOption(),t.preventDefault());break;case o.g:case o.f:e===o.g?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault();break;case o.m:t.ctrlKey&&(this.options.find(t=>!t.selected)?this.selectAll():this.deselectAll(),t.preventDefault());break;default:n.onKeydown(t)}e!==o.i&&e!==o.k||!t.shiftKey||n.activeItemIndex===i||this._toggleSelectOnFocusedOption()}_reportValueChange(){this.options&&this._onChange(this._getSelectedOptionValues())}_emitChangeEvent(t){this.selectionChange.emit(new ci(this,t))}writeValue(t){this.options?this._setOptionsFromValues(t||[]):this._tempValues=t}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(t=>t._setSelected(!1)),t.map(t=>this.options.find(e=>this.compareWith?this.compareWith(e.value,t):e.value===t)).filter(Boolean).forEach(t=>t._setSelected(!0))}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleSelectOnFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let e=this.options.toArray()[t];e&&(e.toggle(),this._emitChangeEvent(e))}}_setAllOptionsSelected(t){let e=!1;this.options.forEach(n=>{n._setSelected(t)&&(e=!0)}),e&&this._reportValueChange()}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}}class pi{}let fi=1;const mi={},gi={setImmediate(t){const e=fi++;return mi[e]=t,e},clearImmediate(t){delete mi[t]}};var _i=n(null),yi=n(null);const vi=new class extends yi.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends _i.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=gi.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(gi.clearImmediate(e),t.scheduled=void 0)}});class bi{constructor(t,e,n,i,r,s){this._template=t,this._componentFactoryResolver=e,this._appRef=n,this._injector=i,this._viewContainerRef=r,this._document=s,this._attached=new S.a}attach(t={}){this._portal||(this._portal=new l.c(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new l.b(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const e=this._template.elementRef.nativeElement;e.parentNode.insertBefore(this._outlet.outletElement,e),this._portal.attach(this._outlet,t),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}const wi={transformMenu:Object(Nt.i)("transformMenu",[Object(Nt.j)("void",Object(Nt.h)({opacity:0,transform:"scale(0.01, 0.01)"})),Object(Nt.k)("void => enter",Object(Nt.b)([(void 0)(".mat-menu-content",Object(Nt.h)({opacity:0})),Object(Nt.l)("100ms linear",Object(Nt.h)({opacity:1,transform:"scale(1, 0.5)"})),(void 0)([(void 0)(".mat-menu-content",Object(Nt.l)("400ms cubic-bezier(0.55, 0, 0.55, 0.2)",Object(Nt.h)({opacity:1}))),Object(Nt.l)("300ms cubic-bezier(0.25, 0.8, 0.25, 1)",Object(Nt.h)({transform:"scale(1, 1)"}))])])),Object(Nt.k)("* => void",Object(Nt.l)("150ms 50ms linear",Object(Nt.h)({opacity:0})))]),fadeInItems:Object(Nt.i)("fadeInItems",[Object(Nt.j)("showing",Object(Nt.h)({opacity:1})),Object(Nt.k)("void => *",[Object(Nt.h)({opacity:0}),Object(Nt.l)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Ci=wi.fadeInItems,Ei=wi.transformMenu,Si=new i.J("MAT_MENU_PANEL");class xi{}const Ti=Object(r.k)(Object(r.h)(xi));class ki extends Ti{constructor(t,e,n,i){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=i,this._hovered=new S.a,this._highlighted=!1,this._triggersSubmenu=!1,n&&n.monitor(this._getHostElement(),!1),i&&i.addItem&&i.addItem(this),this._document=e}focus(t="program"){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t):this._getHostElement().focus()}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._getHostElement()),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3;let n="";if(t.childNodes){const i=t.childNodes.length;for(let r=0;r<i;r++)t.childNodes[r].nodeType===e&&(n+=t.childNodes[r].textContent)}return n.trim()}}const Oi=new i.J("mat-menu-default-options",{providedIn:"root",factory:Ii});function Ii(){return{overlapTrigger:!0,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}const Ai=2;class Ri{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._items=[],this._itemChanges=new S.a,this._tabSubscription=g.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new S.a,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new i.P,this.close=this.closed}get xPosition(){return this._xPosition}set xPosition(t){"before"!==t&&"after"!==t&&function(){throw Error('x-position value must be either \'before\' or after\'.\n      Example: <mat-menu x-position="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){"above"!==t&&"below"!==t&&function(){throw Error('y-position value must be either \'above\' or below\'.\n      Example: <mat-menu y-position="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Object(s.c)(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Object(s.c)(t)}set panelClass(t){t&&t.length&&(this._classList=t.split(" ").reduce((t,e)=>(t[e]=!0,t),{}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._keyManager=new(void 0)(this._items).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab"))}ngOnDestroy(){this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._itemChanges.pipe(Object(_t.a)(this._items),Object(c.a)(t=>Object(y.a)(...t.map(t=>t._hovered))))}_handleKeydown(t){const e=t.keyCode;switch(e){case o.a:this.closed.emit("keydown"),t.stopPropagation();break;case o.h:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case o.j:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:e!==o.i&&e!==o.k||this._keyManager.setFocusOrigin("keyboard"),this._keyManager.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.asObservable().pipe(Object(h.a)(1)).subscribe(()=>this._keyManager.setFocusOrigin(t).setFirstItemActive()):this._keyManager.setFocusOrigin(t).setFirstItemActive()}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e=`mat-elevation-z${Ai+t}`,n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}addItem(t){-1===this._items.indexOf(t)&&(this._items.push(t),this._itemChanges.next(this._items))}removeItem(t){const e=this._items.indexOf(t);this._items.indexOf(t)>-1&&(this._items.splice(e,1),this._itemChanges.next(this._items))}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}}const Di=new i.J("mat-menu-scroll-strategy");function Pi(t){return()=>t.scrollStrategies.reposition()}const Mi={provide:Di,deps:[a.a],useFactory:Pi},Ni=8;class Li{constructor(t,e,n,r,s,o,a,l){this._overlay=t,this._element=e,this._viewContainerRef=n,this._scrollStrategy=r,this._parentMenu=s,this._menuItemInstance=o,this._dir=a,this._focusMonitor=l,this._overlayRef=null,this._menuOpen=!1,this._closeSubscription=g.a.EMPTY,this._hoverSubscription=g.a.EMPTY,this._openedByMouse=!1,this.menuOpened=new i.P,this.onMenuOpen=this.menuOpened,this.menuClosed=new i.P,this.onMenuClose=this.menuClosed,o&&(o._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}ngAfterContentInit(){this._checkMenu(),this.menu.close.subscribe(t=>{this._destroyMenu(),"click"!==t&&"tab"!==t||!this._parentMenu||this._parentMenu.closed.emit(t)}),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._cleanUpSubscriptions()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;const t=this._createOverlay();this._setPosition(t.getConfig().positionStrategy),t.attach(this._portal),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closeSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof Ri&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t="program"){this._focusMonitor?this._focusMonitor.focusVia(this._element.nativeElement,t):this._element.nativeElement.focus()}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closeSubscription.unsubscribe(),this._overlayRef.detach(),t instanceof Ri?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(Object(u.a)(t=>"void"===t.toState),Object(h.a)(1),Object(Ln.a)(t.lazyContent._attached)).subscribe(()=>t.lazyContent.detach(),void 0,()=>{this._resetMenu()}):this._resetMenu()):(this._resetMenu(),t.lazyContent&&t.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedByMouse?"mouse":"program")}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_resetMenu(){this._setIsMenuOpen(!1),this._openedByMouse?this.triggersSubmenu()||this.focus("mouse"):this.focus(),this._openedByMouse=!1}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){this.menu||function(){throw Error('mat-menu-trigger: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}_createOverlay(){if(!this._overlayRef){this._portal=new l.c(this.menu.templateRef,this._viewContainerRef);const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t)}return this._overlayRef}_getOverlayConfig(){return new a.i({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withTransformOriginOn(".mat-menu-panel"),hasBackdrop:null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[i,r]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[s,o]=[i,r],[a,l]=[e,n],h=0;this.triggersSubmenu()?(l=e="before"===this.menu.xPosition?"start":"end",n=a="end"===e?"start":"end",h="bottom"===i?Ni:-Ni):this.menu.overlapTrigger||(s="top"===i?"bottom":"top",o="top"===r?"bottom":"top"),t.withPositions([{originX:e,originY:s,overlayX:a,overlayY:i,offsetY:h},{originX:n,originY:s,overlayX:l,overlayY:i,offsetY:h},{originX:e,originY:o,overlayX:a,overlayY:r,offsetY:-h},{originX:n,originY:o,overlayX:l,overlayY:r,offsetY:-h}])}_cleanUpSubscriptions(){this._closeSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments(),n=this._parentMenu?this._parentMenu.closed:Object(v.a)(),i=this._parentMenu?this._parentMenu._hovered().pipe(Object(u.a)(t=>t!==this._menuItemInstance),Object(u.a)(()=>this._menuOpen)):Object(v.a)();return Object(y.a)(t,n,i,e)}_handleMousedown(t){(void 0)(t)||(this._openedByMouse=!0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;this.triggersSubmenu()&&(e===o.j&&"ltr"===this.dir||e===o.h&&"rtl"===this.dir)&&this.openMenu()}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(Object(u.a)(t=>t===this._menuItemInstance&&!t.disabled),Object(d.a)(0,vi)).subscribe(()=>{this._openedByMouse=!0,this.menu instanceof Ri&&this.menu._isAnimating?this.menu._animationDone.pipe(Object(h.a)(1),Object(Ln.a)(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}}class Fi{}class ji{constructor(){this.changes=new S.a,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=((t,e,n)=>{if(0==n||0==e)return`0 of ${n}`;const i=t*e;return`${i+1} - ${i<(n=Math.max(n,0))?Math.min(i+e,n):i+e} of ${n}`})}}function Vi(t){return t||new ji}ji.ngInjectableDef=Object(i.L)({factory:function(){return new ji},token:ji,providedIn:"root"});const Bi={provide:ji,deps:[[new i.N,new i.O,ji]],useFactory:Vi},Ui=50;class zi{}class Hi{}const Wi=(void 0)(Hi);class $i extends Wi{constructor(t,e){super(),this._intl=t,this._changeDetectorRef=e,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new i.P,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck())}get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(Object(s.d)(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=Object(s.d)(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(Object(s.d)(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(t=>Object(s.d)(t)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(t){this._hidePageSize=Object(s.c)(t)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(t){this._showFirstLastButtons=Object(s.c)(t)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex++,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex--,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages(),this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages();return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return Math.ceil(this.length/this.pageSize)-1}_changePageSize(t){const e=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(e)}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:Ui),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,e)=>t-e),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}class qi{}class Gi{constructor(t){this._elementRef=t}}const Yi=Object(r.f)(Gi,"primary");let Ki=0;class Qi extends Yi{constructor(t,e,n){super(t),this._elementRef=t,this._animationMode=e,this._value=0,this._bufferValue=0,this.mode="determinate",this.progressbarId=`mat-progress-bar-${Ki++}`,this._rectangleFillValue=`url('${n?n.path():""}#${this.progressbarId}')`}get value(){return this._value}set value(t){this._value=Xi(t||0)}get bufferValue(){return this._bufferValue}set bufferValue(t){this._bufferValue=Xi(t||0)}_primaryTransform(){return{transform:`scaleX(${this.value/100})`}}_bufferTransform(){if("buffer"===this.mode)return{transform:`scaleX(${this.bufferValue/100})`}}}function Xi(t,e=0,n=100){return Math.max(e,Math.min(n,t))}class Zi{}const Ji=100,tr=10;class er{constructor(t){this._elementRef=t}}const nr=Object(r.f)(er,"primary"),ir=new i.J("mat-progress-spinner-default-options",{providedIn:"root",factory:rr});function rr(){return{diameter:Ji}}const sr="\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n";class or extends nr{constructor(t,e,n,i,r){super(t),this._elementRef=t,this._document=n,this.animationMode=i,this.defaults=r,this._value=0,this._fallbackAnimation=!1,this._noopAnimations="NoopAnimations"===this.animationMode&&!!this.defaults&&!this.defaults._forceAnimations,this._diameter=Ji,this.mode="determinate",this._fallbackAnimation=e.EDGE||e.TRIDENT,r&&(r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth)),t.nativeElement.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}get diameter(){return this._diameter}set diameter(t){this._diameter=Object(s.d)(t),this._fallbackAnimation||or.diameters.has(this._diameter)||this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Object(s.d)(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Object(s.d)(t)))}get _circleRadius(){return(this.diameter-tr)/2}get _viewBox(){const t=2*this._circleRadius+this.strokeWidth;return`0 0 ${t} ${t}`}get _strokeCircumference(){return 2*Math.PI*this._circleRadius}get _strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null}get _circleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){let t=or.styleTag;t||(t=this._document.createElement("style"),this._document.head.appendChild(t),or.styleTag=t),t&&t.sheet&&t.sheet.insertRule(this._getAnimationText(),0),or.diameters.add(this.diameter)}_getAnimationText(){return sr.replace(/START_VALUE/g,`${.95*this._strokeCircumference}`).replace(/END_VALUE/g,`${.2*this._strokeCircumference}`).replace(/DIAMETER/g,`${this.diameter}`)}}or.diameters=new Set([Ji]),or.styleTag=null;class ar extends or{constructor(t,e,n,i,r){super(t,e,n,i,r),this.mode="indeterminate"}}class lr{}let hr=0;const cr={provide:m.a,useExisting:Object(i.Ja)(()=>fr),multi:!0};class ur{constructor(t,e){this.source=t,this.value=e}}class dr{}const pr=Object(r.h)(dr);class fr extends pr{constructor(t){super(),this._changeDetector=t,this._value=null,this._name=`mat-radio-group-${hr++}`,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=(()=>{}),this.onTouched=(()=>{}),this.change=new i.P}get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(s.c)(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=Object(s.c)(t),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(t=>{t.checked=this.value===t.value,t.checked&&(this._selected=t)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new ur(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}class mr{constructor(t){this._elementRef=t}}const gr=Object(r.f)(Object(r.k)(Object(r.g)(mr)),"accent");class _r extends gr{constructor(t,e,n,r,s,o){super(e),this._changeDetector=n,this._focusMonitor=r,this._radioDispatcher=s,this._animationMode=o,this._uniqueId=`mat-radio-${++hr}`,this.id=this._uniqueId,this.change=new i.P,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=(()=>{}),this.radioGroup=t,this._removeUniqueSelectionListener=s.listen((t,e)=>{t!==this.id&&e===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(t){const e=Object(s.c)(t);this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){const e=Object(s.c)(t);this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=Object(s.c)(t)}get inputId(){return`${this.id||this._uniqueId}-input`}focus(){this._focusMonitor.focusVia(this._inputElement.nativeElement,"keyboard")}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._inputElement.nativeElement).subscribe(t=>this._onInputFocusChange(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._inputElement.nativeElement),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new ur(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputChange(t){t.stopPropagation();const e=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),this.radioGroup._touch(),e&&this.radioGroup._emitChangeEvent())}_onInputFocusChange(t){this._focusRipple||"keyboard"!==t?t||(this.radioGroup&&this.radioGroup._touch(),this._focusRipple&&(this._focusRipple.fadeOut(),this._focusRipple=null)):this._focusRipple=this._ripple.launch(0,0,{persistent:!0})}}class yr{}var vr=n(null);const br={transformPanel:Object(Nt.i)("transformPanel",[Object(Nt.j)("void",Object(Nt.h)({transform:"scaleY(0)",minWidth:"100%",opacity:0})),Object(Nt.j)("showing",Object(Nt.h)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Object(Nt.j)("showing-multiple",Object(Nt.h)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Object(Nt.k)("void => *",(void 0)([(void 0)("@fadeInContent",(void 0)()),Object(Nt.l)("150ms cubic-bezier(0.25, 0.8, 0.25, 1)")])),Object(Nt.k)("* => void",[Object(Nt.l)("250ms 100ms linear",Object(Nt.h)({opacity:0}))])]),fadeInContent:Object(Nt.i)("fadeInContent",[Object(Nt.j)("showing",Object(Nt.h)({opacity:1})),Object(Nt.k)("void => showing",[Object(Nt.h)({opacity:0}),Object(Nt.l)("150ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},wr=br.transformPanel,Cr=br.fadeInContent;let Er=0;const Sr=256,xr=16,Tr=2*xr,kr=3,Or=1.5*xr+20,Ir=8,Ar=new i.J("mat-select-scroll-strategy");function Rr(t){return()=>t.scrollStrategies.reposition()}const Dr={provide:Ar,deps:[a.a],useFactory:Rr};class Pr{constructor(t,e){this.source=t,this.value=e}}class Mr{constructor(t,e,n,i,r){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}}const Nr=Object(r.k)(Object(r.g)(Object(r.h)((void 0)(Mr))));class Lr{}class Fr extends Nr{constructor(t,e,n,r,s,o,a,l,d,p,m,g){super(s,r,a,l,p),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=o,this._parentFormField=d,this.ngControl=p,this._scrollStrategyFactory=g,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=((t,e)=>t===e),this._uid=`mat-select-${Er++}`,this._destroy=new S.a,this._triggerFontSize=0,this._onChange=(()=>{}),this._onTouched=(()=>{}),this._optionIds="",this._transformOrigin="top",this._panelDoneAnimating=!1,this._panelDoneAnimatingStream=new S.a,this._scrollStrategy=this._scrollStrategyFactory(),this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=E(()=>this.options?Object(y.a)(...this.options.map(t=>t.onSelectionChange)):this._ngZone.onStable.asObservable().pipe(Object(h.a)(1),Object(c.a)(()=>this.optionSelectionChanges))),this.openedChange=new i.P,this._openedStream=this.openedChange.pipe(Object(u.a)(t=>t),Object(f.a)(()=>{})),this._closedStream=this.openedChange.pipe(Object(u.a)(t=>!t),Object(f.a)(()=>{})),this.selectionChange=new i.P,this.valueChange=new i.P,this.ngControl&&(this.ngControl.valueAccessor=this),this.tabIndex=parseInt(m)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}set focused(t){this._focused=t}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=Object(s.c)(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=Object(s.c)(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Object(s.c)(t)}get compareWith(){return this._compareWith}set compareWith(t){if("function"!=typeof t)throw Error("`compareWith` must be a function.");this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.writeValue(t),this._value=t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new G.b(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Object(vr.a)(),Object(Ln.a)(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this._panelDoneAnimating=!1,this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.onChange.pipe(Object(Ln.a)(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Object(_t.a)(null),Object(Ln.a)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next()}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement)["font-size"]),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(Object(h.a)(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.options&&this._setSelectionByValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode;e===o.b||e===o.c||(this.multiple||t.altKey)&&(e===o.k||e===o.i||e===o.h||e===o.j)?(t.preventDefault(),this.open()):this.multiple||this._keyManager.onKeydown(t)}_handleOpenKeydown(t){const e=t.keyCode,n=e===o.k||e===o.i,i=this._keyManager;if(e===o.g||e===o.f)t.preventDefault(),e===o.g?i.setFirstItemActive():i.setLastItemActive();else if(n&&t.altKey)t.preventDefault(),this.close();else if(e!==o.b&&e!==o.c||!i.activeItem)if(this._multiple&&e===o.m&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.selected);this.options.forEach(t=>e?t.select():t.deselect())}else{const e=i.activeItemIndex;i.onKeydown(t),this._multiple&&n&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==e&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFadeInDone(){this._panelDoneAnimating=this.panelOpen,this._changeDetectorRef.markForCheck()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Object(h.a)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value)})}_setSelectionByValue(t){if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues()}else{this._selectionModel.clear();const e=this._selectValue(t);e&&this._keyManager.setActiveItem(e)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(t){return Object(i.S)()&&console.warn(t),!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new(void 0)(this.options).withTypeAhead().withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._keyManager.tabOut.pipe(Object(Ln.a)(this._destroy)).subscribe(()=>{this.focus(),this.close()}),this._keyManager.change.pipe(Object(Ln.a)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(y.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Object(Ln.a)(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(y.a)(...this.options.map(t=>t._stateChanges)).pipe(Object(Ln.a)(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()}),this._setOptionIds()}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new Pr(this,e)),this._changeDetectorRef.markForCheck()}_setOptionIds(){this._optionIds=this.options.map(t=>t.id).join(" ")}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=(void 0)(t,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=(void 0)(t+e,this._getItemHeight(),this.panel.nativeElement.scrollTop,Sr)}focus(){this._elementRef.nativeElement.focus()}_getOptionIndex(t){return this.options.reduce((e,n,i)=>void 0===e?t===n?i:void 0:e,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,Sr),i=e*t-n;let r=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);r+=(void 0)(r,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(r,s,i),this._offsetY=this._calculateOverlayOffsetY(r,s,i),this._checkOverlayWithinViewport(i)}_calculateOverlayScroll(t,e,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}_getAriaLabel(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}_getAriaLabelledby(){return this.ariaLabelledby?this.ariaLabelledby:!this._parentFormField||this._getAriaLabel()?null:this._parentFormField._labelId||null}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?Or+xr:2*xr;let r;if(this.multiple)r=Or;else{let t=this._selectionModel.selected[0]||this.options.first;r=t&&t.group?Tr:xr}n||(r*=-1);const s=0-(t.left+r-(n?i:0)),o=t.right+r-e.width+(n?0:i);s>0?r+=s+Ir:o>0&&(r-=o+Ir),this.overlayDir.offsetX=Math.round(r),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,s=Math.floor(Sr/i);let o;return this._disableOptionCentering?0:(o=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-s))*i+(i-(this._getItemCount()*i-Sr)%i):e-i/2,Math.round(-1*o-r))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-Ir,r=n.height-this._triggerRect.bottom-Ir,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,Sr)-s-this._triggerRect.height;o>r?this._adjustPanelUp(o,r):s>i?this._adjustPanelDown(s,i,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return this._triggerFontSize*kr}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}class jr{}var Vr=n(null);const Br={transformDrawer:Object(Nt.i)("transform",[Object(Nt.j)("open, open-instant",Object(Nt.h)({transform:"translate3d(0, 0, 0)",visibility:"visible"})),Object(Nt.j)("void",Object(Nt.h)({"box-shadow":"none",visibility:"hidden"})),Object(Nt.k)("void => open-instant",Object(Nt.l)("0ms")),Object(Nt.k)("void <=> open, open-instant => void",Object(Nt.l)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};function Ur(t){throw Error(`A drawer was already declared for 'position="${t}"'`)}const zr=new i.J("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:Hr});function Hr(){return!1}class Wr{constructor(t,e){this._changeDetectorRef=t,this._container=e}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}class $r{constructor(t,e,n,r,s,a){this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=n,this._platform=r,this._ngZone=s,this._doc=a,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._autoFocus=!0,this._animationStarted=new i.P,this._animationState="void",this.openedChange=new i.P(!0),this.onPositionChanged=new i.P,this._modeChanged=new S.a,this._opened=!1,this.openedChange.subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._isFocusTrapEnabled&&this._focusTrap&&this._trapFocus()):this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Object(_.a)(this._elementRef.nativeElement,"keydown").pipe(Object(u.a)(t=>t.keyCode===o.a&&!this.disableClose)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation()}))})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Object(s.c)(t)}get autoFocus(){return this._autoFocus}set autoFocus(t){this._autoFocus=Object(s.c)(t)}get _openedStream(){return this.openedChange.pipe(Object(u.a)(t=>t),Object(f.a)(()=>{}))}get openedStart(){return this._animationStarted.pipe(Object(u.a)(t=>t.fromState!==t.toState&&0===t.toState.indexOf("open")),Object(f.a)(()=>{}))}get _closedStream(){return this.openedChange.pipe(Object(u.a)(t=>!t),Object(f.a)(()=>{}))}get closedStart(){return this._animationStarted.pipe(Object(u.a)(t=>t.fromState!==t.toState&&"void"===t.toState),Object(f.a)(()=>{}))}get _isFocusTrapEnabled(){return this.opened&&"side"!==this.mode}_trapFocus(){this.autoFocus&&this._focusTrap.focusInitialElementWhenReady().then(t=>{t||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){if(!this.autoFocus)return;const t=this._doc&&this._doc.activeElement;t&&this._elementRef.nativeElement.contains(t)&&(this._elementFocusedBeforeDrawerWasOpened instanceof HTMLElement?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur()),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._focusTrap.enabled=this._isFocusTrapEnabled}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy()}get opened(){return this._opened}set opened(t){this.toggle(Object(s.c)(t))}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}toggle(t=!this.opened,e="program"){return this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=e):(this._animationState="void",this._restoreFocus()),this._focusTrap&&(this._focusTrap.enabled=this._isFocusTrapEnabled),new Promise(t=>{this.openedChange.pipe(Object(h.a)(1)).subscribe(e=>t(e?"open":"close"))})}_onAnimationStart(t){this._animationStarted.emit(t)}_onAnimationEnd(t){const{fromState:e,toState:n}=t;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&this.openedChange.emit(this._opened)}get _width(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}}class qr{constructor(t,e,n,r,s=!1,o){this._dir=t,this._element=e,this._ngZone=n,this._changeDetectorRef=r,this._animationMode=o,this.backdropClick=new i.P,this._destroyed=new S.a,this._doCheckSubject=new S.a,this._contentMargins={left:null,right:null},this._contentMarginChanges=new S.a,t&&t.change.pipe(Object(Ln.a)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this._updateContentMargins()}),this._autosize=s}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Object(s.c)(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:Object(s.c)(t)}ngAfterContentInit(){this._drawers.changes.pipe(Object(_t.a)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this._updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._doCheckSubject.pipe(Object(Vr.a)(10),Object(Ln.a)(this._destroyed)).subscribe(()=>this._updateContentMargins())}ngOnDestroy(){this._doCheckSubject.complete(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Object(Ln.a)(this._drawers.changes),Object(u.a)(t=>t.fromState!==t.toState)).subscribe(t=>{"open-instant"!==t.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this._updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Object(Ln.a)(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Object(Ln.a)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(h.a)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Object(Ln.a)(Object(y.a)(this._drawers.changes,this._destroyed))).subscribe(()=>{this._updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){t?this._element.nativeElement.classList.add("mat-drawer-opened"):this._element.nativeElement.classList.remove("mat-drawer-opened")}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?(null!=this._end&&Ur("end"),this._end=t):(null!=this._start&&Ur("start"),this._start=t)}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawer()}_closeModalDrawer(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t.close())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}_updateContentMargins(){let t=0,e=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._width;else if("push"==this._left.mode){let n=this._left._width;t+=n,e-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)e+=this._right._width;else if("push"==this._right.mode){let n=this._right._width;e+=n,t-=n}t=t||null,e=e||null,t===this._contentMargins.left&&e===this._contentMargins.right||(this._contentMargins={left:t,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}}class Gr extends Wr{constructor(t,e){super(t,e)}}class Yr extends $r{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Object(s.c)(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=Object(s.d)(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=Object(s.d)(t)}}class Kr extends qr{}class Qr{}const Xr=new i.J("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,disableDragValue:!1})});let Zr=0;const Jr={provide:m.a,useExisting:Object(i.Ja)(()=>is),multi:!0};class ts{constructor(t,e){this.source=t,this.checked=e}}class es{constructor(t){this._elementRef=t}}const ns=Object(r.g)(Object(r.f)(Object(r.k)(Object(r.h)(es)),"accent"));class is extends ns{constructor(t,e,n,r,s,o,a,l,h){super(t),this._focusMonitor=n,this._changeDetectorRef=r,this._ngZone=o,this.defaults=a,this._animationMode=l,this._dir=h,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._uniqueId=`mat-slide-toggle-${++Zr}`,this._required=!1,this._checked=!1,this._dragging=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new i.P,this.toggleChange=new i.P,this.dragChange=new i.P,this.tabIndex=parseInt(s)||0}get required(){return this._required}set required(t){this._required=Object(s.c)(t)}get checked(){return this._checked}set checked(t){this._checked=Object(s.c)(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._inputElement.nativeElement).subscribe(t=>this._onInputFocusChange(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._inputElement.nativeElement)}_onChangeEvent(t){t.stopPropagation(),this._dragging||this.toggleChange.emit(),this._dragging||this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(){this._focusMonitor.focusVia(this._inputElement.nativeElement,"keyboard")}toggle(){this.checked=!this.checked,this.onChange(this.checked)}_onInputFocusChange(t){this._focusRipple||"keyboard"!==t?t||(Promise.resolve().then(()=>this.onTouched()),this._focusRipple&&(this._focusRipple.fadeOut(),this._focusRipple=null)):this._focusRipple=this._ripple.launch(0,0,{persistent:!0})}_emitChangeEvent(){this.onChange(this.checked),this.change.emit(new ts(this,this.checked))}_getDragPercentage(t){let e=t/this._thumbBarWidth*100;return this._previousChecked&&(e+=100),Math.max(0,Math.min(e,100))}_onDragStart(){if(!this.disabled&&!this._dragging){const t=this._thumbEl.nativeElement;this._thumbBarWidth=this._thumbBarEl.nativeElement.clientWidth-t.clientWidth,t.classList.add("mat-dragging"),this._previousChecked=this.checked,this._dragging=!0}}_onDrag(t){if(this._dragging){const e=this._dir&&"rtl"===this._dir.value?-1:1;this._dragPercentage=this._getDragPercentage(t.deltaX*e),this._thumbEl.nativeElement.style.transform=`translate3d(${this._dragPercentage/100*this._thumbBarWidth*e}px, 0, 0)`}}_onDragEnd(){if(this._dragging){const t=this._dragPercentage>50;t!==this.checked&&(this.dragChange.emit(),this.defaults.disableDragValue||(this.checked=t,this._emitChangeEvent())),this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._dragging&&(this._dragging=!1,this._thumbEl.nativeElement.classList.remove("mat-dragging"),this._thumbEl.nativeElement.style.transform="")}))}}_onLabelTextChange(){this._changeDetectorRef.markForCheck()}}class rs{}var ss=n(null),os=n(null);class as{constructor(t,e){this._overlayRef=e,this._afterDismissed=new S.a,this._afterOpened=new S.a,this._onAction=new S.a,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),t)}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction.asObservable()}}const ls=new i.J("MatSnackBarData");class hs{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const cs={contentFade:Object(Nt.i)("contentFade",[Object(Nt.k)(":enter",[Object(Nt.h)({opacity:"0"}),Object(Nt.l)(`${r.i.COMPLEX} ${r.j.STANDARD_CURVE}`)])]),snackBarState:Object(Nt.i)("state",[Object(Nt.j)("visible-top, visible-bottom",Object(Nt.h)({transform:"translateY(0%)"})),Object(Nt.k)("visible-top => hidden-top, visible-bottom => hidden-bottom",Object(Nt.l)(`${r.i.EXITING} ${r.j.ACCELERATION_CURVE}`)),Object(Nt.k)("void => visible-top, void => visible-bottom",Object(Nt.l)(`${r.i.ENTERING} ${r.j.DECELERATION_CURVE}`))])};class us{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}class ds extends l.e{constructor(t,e,n,i){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this.snackBarConfig=i,this._destroyed=!1,this._onExit=new S.a,this._onEnter=new S.a,this._animationState="void"}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||n.startsWith("hidden"))&&this._completeExit(),n.startsWith("visible")){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState=`visible-${this.snackBarConfig.verticalPosition}`,this._changeDetectorRef.detectChanges())}exit(){return this._animationState=`hidden-${this.snackBarConfig.verticalPosition}`,this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(h.a)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")}}class ps{}const fs=new i.J("mat-snack-bar-default-options",{providedIn:"root",factory:ms});function ms(){return new hs}class gs{constructor(t,e,n,i,r,s){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=i,this._parentSnackBar=r,this._defaultConfig=s,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const i=Object.assign({},this._defaultConfig,n);return i.data={message:t,action:e},i.announcementMessage||(i.announcementMessage=t),this.openFromComponent(us,i)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}_attachSnackBarContainer(t,e){const n=new l.f(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[hs,e]])),i=new l.d(ds,e.viewContainerRef,n),r=t.attach(i);return r.instance.snackBarConfig=e,r.instance}_attach(t,e){const n=Object.assign({},new hs,this._defaultConfig,e),r=this._createOverlay(n),s=this._attachSnackBarContainer(r,n),o=new as(s,r);if(t instanceof i.Na){const e=new l.c(t,null,{$implicit:n.data,snackBarRef:o});o.instance=s.attachTemplatePortal(e)}else{const e=this._createInjector(n,o),i=new l.d(t,void 0,e),r=s.attachComponentPortal(i);o.instance=r.instance}return this._breakpointObserver.observe(os.a.Handset).pipe(Object(Ln.a)(r.detachments().pipe(Object(h.a)(1)))).subscribe(t=>{t.matches?r.overlayElement.classList.add("mat-snack-bar-handset"):r.overlayElement.classList.remove("mat-snack-bar-handset")}),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null)}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration)),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)}_createOverlay(t){const e=new a.i;e.direction=t.direction;let n=this._overlay.position().global();const i="rtl"===t.direction,r="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!i||"end"===t.horizontalPosition&&i,s=!r&&"center"!==t.horizontalPosition;return r?n.left("0"):s?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return new l.f(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[as,e],[ls,t.data]]))}}gs.ngInjectableDef=Object(i.L)({factory:function(){return new gs(Object(i.M)(a.a),Object(i.M)(void 0),Object(i.M)(i.Oa),Object(i.M)(os.b),Object(i.M)(gs,12),Object(i.M)(fs))},token:gs,providedIn:ps});class _s{}const ys=(void 0)(Object(r.h)(_s));class vs extends ys{constructor(){super(...arguments),this.sortables=new Map,this._stateChanges=new S.a,this.start="asc",this._direction="",this.sortChange=new i.P}get direction(){return this._direction}set direction(t){if(Object(i.S)()&&t&&"asc"!==t&&"desc"!==t)throw function(t){return Error(`${t} is not a valid sort direction ('asc' or 'desc').`)}(t);this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=Object(s.c)(t)}register(t){if(!t.id)throw Error("MatSortHeader must be provided with a unique id.");if(this.sortables.has(t.id))throw Error(`Cannot have two MatSortables with the same id (${t.id}).`);this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let e=function(t,e){let n=["asc","desc"];return"desc"==t&&n.reverse(),e||n.push(""),n}(t.start||this.start,null!=t.disableClear?t.disableClear:this.disableClear),n=e.indexOf(this.direction)+1;return n>=e.length&&(n=0),e[n]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}const bs=r.i.ENTERING+" "+r.j.STANDARD_CURVE,ws={indicator:Object(Nt.i)("indicator",[Object(Nt.j)("active-asc, asc",Object(Nt.h)({transform:"translateY(0px)"})),Object(Nt.j)("active-desc, desc",Object(Nt.h)({transform:"translateY(10px)"})),Object(Nt.k)("active-asc <=> active-desc",Object(Nt.l)(bs))]),leftPointer:Object(Nt.i)("leftPointer",[Object(Nt.j)("active-asc, asc",Object(Nt.h)({transform:"rotate(-45deg)"})),Object(Nt.j)("active-desc, desc",Object(Nt.h)({transform:"rotate(45deg)"})),Object(Nt.k)("active-asc <=> active-desc",Object(Nt.l)(bs))]),rightPointer:Object(Nt.i)("rightPointer",[Object(Nt.j)("active-asc, asc",Object(Nt.h)({transform:"rotate(45deg)"})),Object(Nt.j)("active-desc, desc",Object(Nt.h)({transform:"rotate(-45deg)"})),Object(Nt.k)("active-asc <=> active-desc",Object(Nt.l)(bs))]),arrowOpacity:Object(Nt.i)("arrowOpacity",[Object(Nt.j)("desc-to-active, asc-to-active, active",Object(Nt.h)({opacity:1})),Object(Nt.j)("desc-to-hint, asc-to-hint, hint",Object(Nt.h)({opacity:.54})),Object(Nt.j)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Object(Nt.h)({opacity:0})),Object(Nt.k)("* => asc, * => desc, * => active, * => hint, * => void",Object(Nt.l)("0ms")),Object(Nt.k)("* <=> *",Object(Nt.l)(bs))]),arrowPosition:Object(Nt.i)("arrowPosition",[Object(Nt.k)("* => desc-to-hint, * => desc-to-active",Object(Nt.l)(bs,(void 0)([Object(Nt.h)({transform:"translateY(-25%)"}),Object(Nt.h)({transform:"translateY(0)"})]))),Object(Nt.k)("* => hint-to-desc, * => active-to-desc",Object(Nt.l)(bs,(void 0)([Object(Nt.h)({transform:"translateY(0)"}),Object(Nt.h)({transform:"translateY(25%)"})]))),Object(Nt.k)("* => asc-to-hint, * => asc-to-active",Object(Nt.l)(bs,(void 0)([Object(Nt.h)({transform:"translateY(25%)"}),Object(Nt.h)({transform:"translateY(0)"})]))),Object(Nt.k)("* => hint-to-asc, * => active-to-asc",Object(Nt.l)(bs,(void 0)([Object(Nt.h)({transform:"translateY(0)"}),Object(Nt.h)({transform:"translateY(-25%)"})]))),Object(Nt.j)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Object(Nt.h)({transform:"translateY(0)"})),Object(Nt.j)("hint-to-desc, active-to-desc, desc",Object(Nt.h)({transform:"translateY(-25%)"})),Object(Nt.j)("hint-to-asc, active-to-asc, asc",Object(Nt.h)({transform:"translateY(25%)"}))]),allowChildren:Object(Nt.i)("allowChildren",[Object(Nt.k)("* <=> *",[(void 0)("@*",(void 0)(),{optional:!0})])])};class Cs{constructor(){this.changes=new S.a,this.sortButtonLabel=(t=>`Change sorting for ${t}`)}}function Es(t){return t||new Cs}Cs.ngInjectableDef=Object(i.L)({factory:function(){return new Cs},token:Cs,providedIn:"root"});const Ss={provide:Cs,deps:[[new i.N,new i.O,Cs]],useFactory:Es};class xs{}const Ts=Object(r.h)(xs);class ks extends Ts{constructor(t,e,n,i){if(super(),this._intl=t,this._sort=n,this._cdkColumnDef=i,this._showIndicatorHint=!1,this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",!n)throw Error("MatSortHeader must be placed within a parent element with the MatSort directive.");this._rerenderSubscription=Object(y.a)(n.sortChange,n._stateChanges,t.changes).subscribe(()=>{this._isSorted()&&this._updateArrowDirection(),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),e.markForCheck()})}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=Object(s.c)(t)}ngOnInit(){!this.id&&this._cdkColumnDef&&(this.id=this._cdkColumnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this)}ngOnDestroy(){this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t,this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_handleClick(){if(this._isDisabled())return;this._sort.sort(this),"hint"!==this._viewState.toState&&"active"!==this._viewState.toState||(this._disableViewStateAnimation=!0);const t=this._isSorted()?{fromState:this._arrowDirection,toState:"active"}:{fromState:"active",toState:this._arrowDirection};this._setAnimationTransitionState(t),this._showIndicatorHint=!1}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":null}}class Os{}class Is{constructor(t){this.template=t}}let As=0;class Rs{constructor(t){this._stepper=t,this.interacted=!1,this._editable=!0,this._optional=!1,this._customCompleted=null}get editable(){return this._editable}set editable(t){this._editable=Object(s.c)(t)}get optional(){return this._optional}set optional(t){this._optional=Object(s.c)(t)}get completed(){return null==this._customCompleted?this._defaultCompleted:this._customCompleted}set completed(t){this._customCompleted=Object(s.c)(t)}get _defaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._customCompleted&&(this._customCompleted=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}}class Ds{constructor(t,e){this._dir=t,this._changeDetectorRef=e,this._destroyed=new S.a,this._linear=!1,this._selectedIndex=0,this.selectionChange=new i.P,this._orientation="horizontal",this._groupId=As++}get linear(){return this._linear}set linear(t){this._linear=Object(s.c)(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){if(this._steps){if(t<0||t>this._steps.length-1)throw Error("cdkStepper: Cannot assign out-of-bounds value to `selectedIndex`.");this._selectedIndex!=t&&!this._anyControlsInvalidOrPending(t)&&(t>=this._selectedIndex||this._steps.toArray()[t].editable)&&this._updateSelectedItemIndex(t)}else this._selectedIndex=t}get selected(){return this._steps?this._steps.toArray()[this.selectedIndex]:void 0}set selected(t){this.selectedIndex=this._steps?this._steps.toArray().indexOf(t):-1}ngAfterViewInit(){this._keyManager=new(void 0)(this._stepHeader).withWrap().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:Object(v.a)()).pipe(Object(_t.a)(this._layoutDirection()),Object(Ln.a)(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.updateActiveItemIndex(this._selectedIndex)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this._steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this._steps.forEach(t=>t.reset()),this._stateChanged()}_getStepLabelId(t){return`cdk-step-label-${this._groupId}-${t}`}_getStepContentId(t){return`cdk-step-content-${this._groupId}-${t}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(t){const e=t-this._selectedIndex;return e<0?"rtl"===this._layoutDirection()?"next":"previous":e>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(t){const e=this._steps.toArray()[t];return e.completed&&this._selectedIndex!=t?e.editable?"edit":"done":"number"}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(t){const e=this._steps.toArray();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:this._selectedIndex,selectedStep:e[t],previouslySelectedStep:e[this._selectedIndex]}),this._keyManager.updateActiveItemIndex(t),this._selectedIndex=t,this._stateChanged()}_onKeydown(t){const e=t.keyCode;null==this._keyManager.activeItemIndex||e!==o.c&&e!==o.b?e===o.g?(this._keyManager.setFirstItemActive(),t.preventDefault()):e===o.f?(this._keyManager.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t):(this.selectedIndex=this._keyManager.activeItemIndex,t.preventDefault())}_anyControlsInvalidOrPending(t){const e=this._steps.toArray();return e[this._selectedIndex].interacted=!0,!!(this._linear&&t>=0)&&e.slice(0,t).some(t=>{const e=t.stepControl;return(e?e.invalid||e.pending||!t.interacted:!t.completed)&&!t.optional})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}}class Ps{constructor(t){this._stepper=t,this.type="submit"}}class Ms{constructor(t){this._stepper=t,this.type="button"}}class Ns extends Is{constructor(t){super(t)}}class Ls{constructor(){this.changes=new S.a,this.optionalLabel="Optional"}}Ls.ngInjectableDef=Object(i.L)({factory:function(){return new Ls},token:Ls,providedIn:"root"});class Fs{constructor(t,e,n,i){this._intl=t,this._focusMonitor=e,this._element=n,e.monitor(n.nativeElement,!0),this._intlSubscription=t.changes.subscribe(()=>i.markForCheck())}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element.nativeElement)}_stringLabel(){return this.label instanceof Ns?null:this.label}_templateLabel(){return this.label instanceof Ns?this.label:null}_getHostElement(){return this._element.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}focus(){this._getHostElement().focus()}}const js={horizontalStepTransition:Object(Nt.i)("stepTransition",[Object(Nt.j)("previous",Object(Nt.h)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),Object(Nt.j)("current",Object(Nt.h)({transform:"none",visibility:"visible"})),Object(Nt.j)("next",Object(Nt.h)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),Object(Nt.k)("* => *",Object(Nt.l)("500ms cubic-bezier(0.35, 0, 0.25, 1)"))]),verticalStepTransition:Object(Nt.i)("stepTransition",[Object(Nt.j)("previous",Object(Nt.h)({height:"0px",visibility:"hidden"})),Object(Nt.j)("next",Object(Nt.h)({height:"0px",visibility:"hidden"})),Object(Nt.j)("current",Object(Nt.h)({height:"*",visibility:"visible"})),Object(Nt.k)("* <=> current",Object(Nt.l)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])};class Vs{constructor(t){this.templateRef=t}}class Bs extends Rs{constructor(t,e){super(t),this._errorStateMatcher=e}isErrorState(t,e){return this._errorStateMatcher.isErrorState(t,e)||!!(t&&t.invalid&&this.interacted)}}class Us extends Ds{constructor(){super(...arguments),this.animationDone=new i.P,this._iconOverrides={}}ngAfterContentInit(){const t=this._icons.toArray();["edit","done","number"].forEach(e=>{const n=t.find(t=>t.name===e);n&&(this._iconOverrides[e]=n.templateRef)}),this._steps.changes.pipe(Object(Ln.a)(this._destroyed)).subscribe(()=>this._stateChanged())}_animationDone(t){"current"===t.toState&&this.animationDone.emit()}}class zs extends Us{}class Hs extends Us{constructor(t,e){super(t,e),this._orientation="vertical"}}class Ws extends Ps{}class $s extends Ms{}class qs{}var Gs=n(null);function Ys(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Object(s.c)(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}class Ks{constructor(t){this.template=t}}class Qs{constructor(t){this.template=t}}class Xs{constructor(t){this.template=t}}const Zs=Ys(class{});class Js extends Zs{constructor(){super(...arguments),this._stickyEnd=!1}get name(){return this._name}set name(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"))}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=Object(s.c)(t),this._hasStickyChanged=e!==this._stickyEnd}}class to{constructor(t,e){e.nativeElement.classList.add(`cdk-column-${t.cssClassFriendlyName}`)}}class eo extends to{constructor(t,e){super(t,e)}}class no extends to{constructor(t,e){super(t,e)}}class io extends to{constructor(t,e){super(t,e)}}class ro{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof oo?t.headerCell.template:this instanceof lo?t.footerCell.template:t.cell.template}}const so=Ys(class extends ro{});class oo extends so{constructor(t,e){super(t,e)}ngOnChanges(t){super.ngOnChanges(t)}}const ao=Ys(class extends ro{});class lo extends ao{constructor(t,e){super(t,e)}ngOnChanges(t){super.ngOnChanges(t)}}class ho extends ro{constructor(t,e){super(t,e)}}class co{constructor(t){this._viewContainer=t,co.mostRecentCellOutlet=this}ngOnDestroy(){co.mostRecentCellOutlet===this&&(co.mostRecentCellOutlet=null)}}co.mostRecentCellOutlet=null;class uo{}class po{}class fo{}const mo=["top","bottom","left","right"];class go{constructor(t,e,n){this.isNativeHtmlTable=t,this.stickCellCss=e,this.direction=n}clearStickyPositioning(t,e){for(const n of t)if(n.nodeType===n.ELEMENT_NODE){this._removeStickyStyle(n,e);for(let t=0;t<n.children.length;t++)this._removeStickyStyle(n.children[t],e)}}updateStickyColumns(t,e,n){const i=e.some(t=>t)||n.some(t=>t);if(!t.length||!i)return;const r=t[0],s=r.children.length,o=this._getCellWidths(r),a=this._getStickyStartColumnPositions(o,e),l=this._getStickyEndColumnPositions(o,n),h="rtl"===this.direction;for(const c of t)for(let t=0;t<s;t++){const i=c.children[t];e[t]&&this._addStickyStyle(i,h?"right":"left",a[t]),n[t]&&this._addStickyStyle(i,h?"left":"right",l[t])}}stickRows(t,e,n){const i="bottom"===n?t.reverse():t;let r=0;for(let s=0;s<i.length;s++){if(!e[s])continue;const t=i[s];if(this.isNativeHtmlTable)for(let e=0;e<t.children.length;e++)this._addStickyStyle(t.children[e],n,r);else this._addStickyStyle(t,n,r);r+=t.getBoundingClientRect().height}}updateStickyFooterContainer(t,e){if(!this.isNativeHtmlTable)return;const n=t.querySelector("tfoot");e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0)}_removeStickyStyle(t,e){for(const n of e)t.style[n]="";t.style.zIndex=this._getCalculatedZIndex(t),mo.some(e=>!!t.style[e])||(t.style.position="",t.classList.remove(this.stickCellCss))}_addStickyStyle(t,e,n){t.classList.add(this.stickCellCss),t.style[e]=`${n}px`,t.style.cssText+="position: -webkit-sticky; position: sticky; ",t.style.zIndex=this._getCalculatedZIndex(t)}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const i of mo)t.style[i]&&(n+=e[i]);return n?`${n}`:""}_getCellWidths(t){const e=[],n=t.children;for(let i=0;i<n.length;i++)e.push(n[i].getBoundingClientRect().width);return e}_getStickyStartColumnPositions(t,e){const n=[];let i=0;for(let r=0;r<t.length;r++)e[r]&&(n[r]=i,i+=t[r]);return n}_getStickyEndColumnPositions(t,e){const n=[];let i=0;for(let r=t.length;r>0;r--)e[r]&&(n[r]=i,i+=t[r]);return n}}class _o{constructor(t,e,n,i,r){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=r,this._onDestroy=new S.a,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this._multiTemplateDataRows=!1,this.viewChange=new Gs.a({start:0,end:Number.MAX_VALUE}),i||this._elementRef.nativeElement.setAttribute("role","grid"),this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){Object(i.S)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}.`),this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Object(s.c)(t),this._rowOutlet.viewContainer.length&&this._forceRenderDataRows()}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e)}ngAfterContentChecked(){if(this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&!this._rowDefs.length)throw Error("Missing definitions for header, footer, and row; cannot determine which columns should be rendered.");this._renderUpdatedColumns(),this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription&&this._observeRenderChanges(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),this.dataSource instanceof G.a&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return;const e=this._rowOutlet.viewContainer;t.forEachOperation((t,n,i)=>{if(null==t.previousIndex)this._insertRow(t.item,i);else if(null==i)e.remove(n);else{const t=e.get(n);e.move(t,i)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this.updateStickyColumnStyles()}setHeaderRowDef(t){this._customHeaderRowDefs=new Set([t]),this._headerRowDefChanged=!0}setFooterRowDef(t){this._customFooterRowDefs=new Set([t]),this._footerRowDefChanged=!0}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet);this._stickyStyler.clearStickyPositioning(t,["top"]);const e=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.stickRows(t,e,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning(t,["bottom"]);const e=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.stickRows(t,e,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,e),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let i=0;i<e.length;i++)this._renderRows[i].rowDef===t&&n.push(e[i]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let i=this._data[n];const r=this._getRenderRowsForData(i,n,e.get(i));this._cachedRenderRowsMap.has(i)||this._cachedRenderRowsMap.set(i,new WeakMap);for(let e=0;e<r.length;e++){let n=r[e];const i=this._cachedRenderRowsMap.get(n.data);i.has(n.rowDef)?i.get(n.rowDef).push(n):i.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(i=>{const r=n&&n.has(i)?n.get(i):[];if(r.length){const t=r.shift();return t.dataIndex=e,t}return{data:t,rowDef:i,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),yo(this._contentColumnDefs,this._customColumnDefs).forEach(t=>{if(this._columnDefsByName.has(t.name))throw Error(`Duplicate column definition name provided: "${t.name}".`);this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=yo(this._contentHeaderRowDefs,this._customHeaderRowDefs),this._footerRowDefs=yo(this._contentFooterRowDefs,this._customFooterRowDefs),this._rowDefs=yo(this._contentRowDefs,this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);if(!this.multiTemplateDataRows&&t.length>1)throw Error("There can only be one default row without a when predicate function.");this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff();this._rowDefs.reduce(t,!1)&&this._forceRenderDataRows(),this._headerRowDefs.reduce(t,!1)&&this._forceRenderHeaderRows(),this._footerRowDefs.reduce(t,!1)&&this._forceRenderFooterRows()}_switchDataSource(t){this._data=[],this.dataSource instanceof G.a&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;if(this.dataSource.connect instanceof Function?t=this.dataSource.connect(this):this.dataSource instanceof b.a?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Object(v.a)(this.dataSource)),void 0===t)throw Error("Provided data source did not match an array, Observable, or DataSource");this._renderChangeSubscription=t.pipe(Object(Ln.a)(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles(),this.updateStickyColumnStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles(),this.updateStickyColumnStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>this._columnDefsByName.get(t)),i=n.map(t=>t.sticky),r=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,i,r)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const i=t.viewContainer.get(n);e.push(i.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let i=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;i&&n.push(i)}if(!n.length)throw function(t){return Error("Could not find a matching row definition for the"+`provided row data: ${JSON.stringify(t)}`)}(t);return n}_insertRow(t,e){this._renderRow(this._rowOutlet,t.rowDef,e,{$implicit:t.data})}_renderRow(t,e,n,i={}){t.viewContainer.createEmbeddedView(e.template,i,n);for(let r of this._getCellTemplates(e))co.mostRecentCellOutlet&&co.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const i=t.get(e).context;i.count=n,i.first=0===e,i.last=e===n-1,i.even=e%2==0,i.odd=!i.even,this.multiTemplateDataRows?(i.dataIndex=this._renderRows[e].dataIndex,i.renderIndex=e):i.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);if(!n)throw Error(`Could not find column with id "${e}".`);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=[{tag:"thead",outlet:this._headerRowOutlet},{tag:"tbody",outlet:this._rowOutlet},{tag:"tfoot",outlet:this._footerRowOutlet}];for(const e of t){const t=document.createElement(e.tag);t.appendChild(e.outlet.elementRef.nativeElement),this._elementRef.nativeElement.appendChild(t)}}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows(),this.updateStickyColumnStyles()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&this.updateStickyColumnStyles()}_setupStickyStyler(){this._stickyStyler=new go(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr"),(this._dir?this._dir.change:Object(v.a)()).pipe(Object(Ln.a)(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}}function yo(t,e){return t.toArray().concat(Array.from(e))}var vo=n(null);class bo extends _o{constructor(t,e,n,i,r){super(t,e,n,i,r),this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=r,this.stickyCssClass="mat-table-sticky"}}class wo extends Ks{}class Co extends Qs{}class Eo extends Xs{}class So extends Js{}class xo extends eo{constructor(t,e){super(t,e),e.nativeElement.classList.add(`mat-column-${t.cssClassFriendlyName}`)}}class To extends no{constructor(t,e){super(t,e),e.nativeElement.classList.add(`mat-column-${t.cssClassFriendlyName}`)}}class ko extends io{constructor(t,e){super(t,e),e.nativeElement.classList.add(`mat-column-${t.cssClassFriendlyName}`)}}class Oo extends oo{}class Io extends lo{}class Ao extends ho{}class Ro extends uo{}class Do extends po{}class Po extends fo{}class Mo{}const No=9007199254740991;class Lo extends G.a{constructor(t=[]){super(),this._renderData=new Gs.a([]),this._filter=new Gs.a(""),this._renderChangesSubscription=g.a.EMPTY,this.sortingDataAccessor=((t,e)=>{const n=t[e];if((void 0)(n)){const t=Number(n);return t<No?t:n}return n}),this.sortData=((t,e)=>{const n=e.active,i=e.direction;return n&&""!=i?t.sort((t,e)=>{let r=this.sortingDataAccessor(t,n),s=this.sortingDataAccessor(e,n),o=0;return null!=r&&null!=s?r>s?o=1:r<s&&(o=-1):null!=r?o=1:null!=s&&(o=-1),o*("asc"==i?1:-1)}):t}),this.filterPredicate=((t,e)=>{const n=Object.keys(t).reduce((e,n)=>e+t[n],"").toLowerCase(),i=e.trim().toLowerCase();return-1!=n.indexOf(i)}),this._data=new Gs.a(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?Object(y.a)(this._sort.sortChange,this._sort.initialized):Object(v.a)(null),e=this._paginator?Object(y.a)(this._paginator.page,this._paginator.initialized):Object(v.a)(null),n=this._data,i=Object(vo.a)(n,this._filter).pipe(Object(f.a)(([t])=>this._filterData(t))),r=Object(vo.a)(i,t).pipe(Object(f.a)(([t])=>this._orderData(t))),s=Object(vo.a)(r,e).pipe(Object(f.a)(([t])=>this._pageData(t)));this._renderChangesSubscription.unsubscribe(),this._renderChangesSubscription=s.subscribe(t=>this._renderData.next(t))}_filterData(t){return this.filteredData=this.filter?t.filter(t=>this.filterPredicate(t,this.filter)):t,this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice().splice(e,this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{if(this.paginator&&(this.paginator.length=t,this.paginator.pageIndex>0)){const t=Math.ceil(this.paginator.length/this.paginator.pageSize)-1||0;this.paginator.pageIndex=Math.min(this.paginator.pageIndex,t)}})}connect(){return this._renderData}disconnect(){}}const Fo=new i.J("MatInkBarPositioner",{providedIn:"root",factory:jo});function jo(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}class Vo{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}class Bo extends l.h{constructor(t,e){super(t,e)}}class Uo{constructor(t){this.template=t}}class zo{}const Ho=Object(r.h)(zo);class Wo extends Ho{constructor(t){super(),this._viewContainerRef=t,this.textLabel="",this._contentPortal=null,this._labelChange=new S.a,this._disableChange=new S.a,this.position=null,this.origin=null,this.isActive=!1}get content(){return this._contentPortal}ngOnChanges(t){t.hasOwnProperty("textLabel")&&this._labelChange.next(),t.hasOwnProperty("disabled")&&this._disableChange.next()}ngOnDestroy(){this._disableChange.complete(),this._labelChange.complete()}ngOnInit(){this._contentPortal=new l.c(this._explicitContent||this._implicitContent,this._viewContainerRef)}}const $o={translateTab:Object(Nt.i)("translateTab",[Object(Nt.j)("center, void, left-origin-center, right-origin-center",Object(Nt.h)({transform:"none"})),Object(Nt.j)("left",Object(Nt.h)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Object(Nt.j)("right",Object(Nt.h)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Object(Nt.k)("* => left, * => right, left => center, right => center",Object(Nt.l)("500ms cubic-bezier(0.35, 0, 0.25, 1)")),Object(Nt.k)("void => left-origin-center",[Object(Nt.h)({transform:"translate3d(-100%, 0, 0)"}),Object(Nt.l)("500ms cubic-bezier(0.35, 0, 0.25, 1)")]),Object(Nt.k)("void => right-origin-center",[Object(Nt.h)({transform:"translate3d(100%, 0, 0)"}),Object(Nt.l)("500ms cubic-bezier(0.35, 0, 0.25, 1)")])])};class qo extends l.g{constructor(t,e,n){super(t,e),this._host=n,this._centeringSub=g.a.EMPTY,this._leavingSub=g.a.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Object(_t.a)(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}class Go{constructor(t,e,n){this._elementRef=t,this._dir=e,this._dirChangeSubscription=g.a.EMPTY,this._onCentering=new i.P,this._beforeCentering=new i.P,this._afterLeavingCenter=new i.P,this._onCentered=new i.P(!0),this._dir&&n&&(this._dirChangeSubscription=this._dir.change.subscribe(t=>{this._computePositionAnimationState(t),n.markForCheck()}))}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&void 0!==this.origin&&(this._position=this._computePositionFromOrigin())}ngOnDestroy(){this._dirChangeSubscription.unsubscribe()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_onTranslateTabComplete(t){this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(){const t=this._getLayoutDirection();return"ltr"==t&&this.origin<=0||"rtl"==t&&this.origin>0?"left-origin-center":"right-origin-center"}}class Yo{}const Ko=Object(r.h)(Yo);class Qo extends Ko{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}const Xo=60;class Zo{}const Jo=Object(r.k)(Zo);class ta extends Jo{constructor(t,e,n,r){super(),this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=n,this._dir=r,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new S.a,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._selectedIndex=0,this.selectFocusedIndex=new i.P,this.indexFocused=new i.P}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=Object(s.d)(t),this._selectedIndexChanged=this._selectedIndex!=t,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItemIndex(t)}ngAfterContentChecked(){this._tabLabelCount!=this._labelWrappers.length&&(this._updatePagination(),this._tabLabelCount=this._labelWrappers.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}_handleKeydown(t){switch(t.keyCode){case o.g:this._keyManager.setFirstItemActive(),t.preventDefault();break;case o.f:this._keyManager.setLastItemActive(),t.preventDefault();break;case o.b:case o.c:this.selectFocusedIndex.emit(this.focusIndex),t.preventDefault();break;default:this._keyManager.onKeydown(t)}}ngAfterContentInit(){const t=this._dir?this._dir.change:Object(v.a)(null),e=this._viewportRuler.change(150),n=()=>{this._updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new(void 0)(this._labelWrappers).withHorizontalOrientation(this._getLayoutDirection()).withWrap(),this._keyManager.updateActiveItem(0),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),Object(y.a)(t,e).pipe(Object(Ln.a)(this._destroyed)).subscribe(()=>{n(),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Object(Ln.a)(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_onContentChanges(){this._updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}_updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._labelWrappers)return!0;const e=this._labelWrappers?this._labelWrappers.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._labelWrappers&&this._labelWrappers.length){this._labelWrappers.toArray()[t].focus();const e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){const t=this.scrollDistance,e="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${e}px)`}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),t)),this._scrollDistanceChanged=!0,this._checkScrollingControls()}_scrollHeader(t){this.scrollDistance+=("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3}_scrollToLabel(t){const e=this._labelWrappers?this._labelWrappers.toArray()[t]:null;if(!e)return;const n=this._tabListContainer.nativeElement.offsetWidth;let i,r;"ltr"==this._getLayoutDirection()?r=(i=e.getOffsetLeft())+e.getOffsetWidth():i=(r=this._tabList.nativeElement.offsetWidth-e.getOffsetLeft())-e.getOffsetWidth();const s=this.scrollDistance,o=this.scrollDistance+n;i<s?this.scrollDistance-=s-i+Xo:r>o&&(this.scrollDistance+=r-o+Xo)}_checkPaginationEnabled(){const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}_checkScrollingControls(){this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck()}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._labelWrappers&&this._labelWrappers.length?this._labelWrappers.toArray()[this.selectedIndex].elementRef.nativeElement:null;this._inkBar.alignToElement(t)}}let ea=0;class na{}class ia{constructor(t){this._elementRef=t}}const ra=Object(r.f)(Object(r.k)(ia),"primary");class sa extends ra{constructor(t,e){super(t),this._changeDetectorRef=e,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=g.a.EMPTY,this._tabLabelSubscription=g.a.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new i.P,this.focusChange=new i.P,this.animationDone=new i.P,this.selectedTabChange=new i.P(!0),this._groupId=ea++}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=Object(s.c)(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=Object(s.d)(t,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove(`mat-background-${this.backgroundColor}`),t&&e.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t&&null!=this._selectedIndex){const e=this._createChangeEvent(t);this.selectedTabChange.emit(e),Promise.resolve().then(()=>this.selectedIndexChange.emit(t))}this._tabs.forEach((e,n)=>{e.position=n-t,e.isActive=n===t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._subscribeToTabLabels(),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new na;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Object(y.a)(...this._tabs.map(t=>t._disableChange),...this._tabs.map(t=>t._labelChange)).subscribe(()=>{this._changeDetectorRef.markForCheck()})}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){this._tabBodyWrapperHeight=this._tabBodyWrapper.nativeElement.clientHeight,this._tabBodyWrapper.nativeElement.style.height="",this.animationDone.emit()}_handleClick(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}}class oa{constructor(t){this._elementRef=t}}const aa=Object(r.k)(Object(r.f)(oa,"primary"));class la extends aa{constructor(t,e,n,i,r){super(t),this._dir=e,this._ngZone=n,this._changeDetectorRef=i,this._viewportRuler=r,this._onDestroy=new S.a}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove(`mat-background-${this.backgroundColor}`),t&&e.classList.add(`mat-background-${t}`),this._backgroundColor=t}updateActiveLink(t){this._activeLinkChanged=!!t,this._changeDetectorRef.markForCheck()}ngAfterContentInit(){this._ngZone.runOutsideAngular(()=>{const t=this._dir?this._dir.change:Object(v.a)(null);return Object(y.a)(t,this._viewportRuler.change(10)).pipe(Object(Ln.a)(this._onDestroy)).subscribe(()=>this._alignInkBar())})}ngAfterContentChecked(){if(this._activeLinkChanged){const t=this._tabLinks.find(t=>t.active);this._activeLinkElement=t?t._elementRef:null,this._alignInkBar(),this._activeLinkChanged=!1}}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}_alignInkBar(){this._activeLinkElement?(this._inkBar.show(),this._inkBar.alignToElement(this._activeLinkElement.nativeElement)):this._inkBar.hide()}}class ha{}const ca=Object(r.g)(Object(r.k)(Object(r.h)(ha)));class ua extends ca{constructor(t,e,n,i,r,s,o){super(),this._tabNavBar=t,this._elementRef=e,this._focusMonitor=o,this._isActive=!1,this._ripplesGloballyDisabled=!1,this.rippleConfig={},this._tabLinkRipple=new(void 0)(this,n,e,i),this._tabLinkRipple.setupTriggerEvents(e.nativeElement),this.tabIndex=parseInt(s)||0,r&&(this._ripplesGloballyDisabled=!!r.disabled,this.rippleConfig={terminateOnPointerUp:r.terminateOnPointerUp,speedFactor:r.baseSpeedFactor,animation:r.animation}),o&&o.monitor(e.nativeElement)}get active(){return this._isActive}set active(t){t!==this._isActive&&(this._isActive=t,this._tabNavBar.updateActiveLink(this._elementRef))}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||this._ripplesGloballyDisabled}ngOnDestroy(){this._tabLinkRipple._removeTriggerEvents(),this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef.nativeElement)}_handleClick(t){this.disabled&&t.preventDefault()}}class da{}var pa=n(null);const fa={tooltipState:Object(Nt.i)("state",[Object(Nt.j)("initial, void, hidden",Object(Nt.h)({transform:"scale(0)"})),Object(Nt.j)("visible",Object(Nt.h)({transform:"scale(1)"})),Object(Nt.k)("* => visible",Object(Nt.l)("150ms cubic-bezier(0.0, 0.0, 0.2, 1)")),Object(Nt.k)("* => hidden",Object(Nt.l)("150ms cubic-bezier(0.4, 0.0, 1, 1)"))])},ma=20,ga="mat-tooltip-panel";function _a(t){return Error(`Tooltip position "${t}" is invalid.`)}const ya=new i.J("mat-tooltip-scroll-strategy");function va(t){return()=>t.scrollStrategies.reposition({scrollThrottle:ma})}const ba={provide:ya,deps:[a.a],useFactory:va},wa=new i.J("mat-tooltip-default-options",{providedIn:"root",factory:Ca});function Ca(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}class Ea{constructor(t,e,n,i,r,s,o,a,l,h,c){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=i,this._ngZone=r,this._platform=s,this._ariaDescriber=o,this._focusMonitor=a,this._scrollStrategy=l,this._dir=h,this._defaultOptions=c,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this._message="",this._manualListeners=new Map,this._destroyed=new S.a;const u=e.nativeElement;s.IOS?"INPUT"!==u.nodeName&&"TEXTAREA"!==u.nodeName||(u.style.webkitUserSelect=u.style.userSelect=""):(this._manualListeners.set("mouseenter",()=>this.show()),this._manualListeners.set("mouseleave",()=>this.hide()),this._manualListeners.forEach((t,n)=>e.nativeElement.addEventListener(n,t))),u.draggable&&"none"===u.style.webkitUserDrag&&(u.style.webkitUserDrag=""),a.monitor(u).pipe(Object(Ln.a)(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&r.run(()=>this.show()):r.run(()=>this.hide(0))})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(s.c)(t),this._disabled&&this.hide(0)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?`${t}`.trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ariaDescriber.describe(this._elementRef.nativeElement,this.message))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._platform.IOS||(this._manualListeners.forEach((t,e)=>this._elementRef.nativeElement.removeEventListener(e,t)),this._manualListeners.clear()),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.message),this._focusMonitor.stopMonitoring(this._elementRef.nativeElement)}show(t=this.showDelay){if(this.disabled||!this.message)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new l.d(Sa,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Object(Ln.a)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_handleKeydown(t){this._isTooltipVisible()&&t.keyCode===o.a&&(t.stopPropagation(),this.hide(0))}_handleTouchend(){this.hide(this._defaultOptions.touchendHideDelay)}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8),e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef);return t.withScrollableContainers(e),t.positionChanges.pipe(Object(Ln.a)(this._destroyed)).subscribe(t=>{this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:t,panelClass:ga,scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Object(Ln.a)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign({},e.main,n.main),Object.assign({},e.fallback,n.fallback)])}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e||"below"==e)n={originX:"center",originY:"above"==e?"top":"bottom"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={originX:"start",originY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw _a(e);n={originX:"end",originY:"center"}}const{x:i,y:r}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:i,originY:r}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e)n={overlayX:"center",overlayY:"bottom"};else if("below"==e)n={overlayX:"center",overlayY:"top"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={overlayX:"end",overlayY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw _a(e);n={overlayX:"start",overlayY:"center"}}const{x:i,y:r}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:i,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(h.a)(1),Object(Ln.a)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}}class Sa{constructor(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new S.a,this._isHandset=this._breakpointObserver.observe(os.a.Handset)}show(t){this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._markForCheck()},t)}hide(t){this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._markForCheck()},t)}afterHidden(){return this._onHide.asObservable()}isVisible(){return"visible"===this._visibility}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}class xa{}var Ta=n(null);n.d(e,"VERSION",function(){return ka}),n.d(e,"\u0275a28",function(){return D}),n.d(e,"MatAutocompleteSelectedEvent",function(){return T}),n.d(e,"MatAutocompleteBase",function(){return k}),n.d(e,"_MatAutocompleteMixinBase",function(){return O}),n.d(e,"MAT_AUTOCOMPLETE_DEFAULT_OPTIONS",function(){return I}),n.d(e,"MAT_AUTOCOMPLETE_DEFAULT_OPTIONS_FACTORY",function(){return A}),n.d(e,"MatAutocomplete",function(){return R}),n.d(e,"MatAutocompleteModule",function(){return U}),n.d(e,"AUTOCOMPLETE_OPTION_HEIGHT",function(){return P}),n.d(e,"AUTOCOMPLETE_PANEL_HEIGHT",function(){return M}),n.d(e,"MAT_AUTOCOMPLETE_SCROLL_STRATEGY",function(){return N}),n.d(e,"MAT_AUTOCOMPLETE_SCROLL_STRATEGY_FACTORY",function(){return L}),n.d(e,"MAT_AUTOCOMPLETE_SCROLL_STRATEGY_FACTORY_PROVIDER",function(){return F}),n.d(e,"MAT_AUTOCOMPLETE_VALUE_ACCESSOR",function(){return j}),n.d(e,"getMatAutocompleteMissingPanelError",function(){return V}),n.d(e,"MatAutocompleteTrigger",function(){return B}),n.d(e,"MatBadgeModule",function(){return W}),n.d(e,"MatBadge",function(){return H}),n.d(e,"MatBottomSheetModule",function(){return $.a}),n.d(e,"MatBottomSheet",function(){return $.b}),n.d(e,"MAT_BOTTOM_SHEET_DATA",function(){}),n.d(e,"MatBottomSheetConfig",function(){return $.e}),n.d(e,"MatBottomSheetContainer",function(){return $.d}),n.d(e,"matBottomSheetAnimations",function(){}),n.d(e,"MatBottomSheetRef",function(){return $.c}),n.d(e,"MatButtonModule",function(){return q.a}),n.d(e,"MatButtonBase",function(){}),n.d(e,"_MatButtonMixinBase",function(){}),n.d(e,"MatButton",function(){return q.b}),n.d(e,"MatAnchor",function(){return q.c}),n.d(e,"MatButtonToggleGroupBase",function(){return Y}),n.d(e,"_MatButtonToggleGroupMixinBase",function(){return K}),n.d(e,"MAT_BUTTON_TOGGLE_GROUP_VALUE_ACCESSOR",function(){return Q}),n.d(e,"MatButtonToggleGroupMultiple",function(){return X}),n.d(e,"MatButtonToggleChange",function(){return J}),n.d(e,"MatButtonToggleGroup",function(){return tt}),n.d(e,"MatButtonToggleBase",function(){return et}),n.d(e,"_MatButtonToggleMixinBase",function(){return nt}),n.d(e,"MatButtonToggle",function(){return it}),n.d(e,"MatButtonToggleModule",function(){return rt}),n.d(e,"MatCardContent",function(){return st.e}),n.d(e,"MatCardTitle",function(){return st.d}),n.d(e,"MatCardSubtitle",function(){}),n.d(e,"MatCardActions",function(){}),n.d(e,"MatCardFooter",function(){}),n.d(e,"MatCardImage",function(){}),n.d(e,"MatCardSmImage",function(){}),n.d(e,"MatCardMdImage",function(){}),n.d(e,"MatCardLgImage",function(){}),n.d(e,"MatCardXlImage",function(){}),n.d(e,"MatCardAvatar",function(){}),n.d(e,"MatCard",function(){return st.b}),n.d(e,"MatCardHeader",function(){return st.c}),n.d(e,"MatCardTitleGroup",function(){return st.f}),n.d(e,"MatCardModule",function(){return st.a}),n.d(e,"MAT_CHECKBOX_CONTROL_VALUE_ACCESSOR",function(){return lt}),n.d(e,"TransitionCheckState",function(){return ht}),n.d(e,"MatCheckboxChange",function(){return ct}),n.d(e,"MatCheckboxBase",function(){return ut}),n.d(e,"_MatCheckboxMixinBase",function(){return dt}),n.d(e,"MatCheckbox",function(){return pt}),n.d(e,"MAT_CHECKBOX_CLICK_ACTION",function(){return ot}),n.d(e,"MatCheckboxModule",function(){return gt}),n.d(e,"MAT_CHECKBOX_REQUIRED_VALIDATOR",function(){return ft}),n.d(e,"MatCheckboxRequiredValidator",function(){return mt}),n.d(e,"MatChipsModule",function(){return Mt}),n.d(e,"MatChipListBase",function(){return kt}),n.d(e,"_MatChipListMixinBase",function(){return Ot}),n.d(e,"MatChipListChange",function(){return At}),n.d(e,"MatChipList",function(){return Rt}),n.d(e,"MatChipSelectionChange",function(){return yt}),n.d(e,"MatChipBase",function(){return vt}),n.d(e,"_MatChipMixinBase",function(){return bt}),n.d(e,"MatChipAvatar",function(){return Ct}),n.d(e,"MatChipTrailingIcon",function(){return Et}),n.d(e,"MatChip",function(){return St}),n.d(e,"MatChipRemove",function(){return xt}),n.d(e,"MatChipInput",function(){return Pt}),n.d(e,"MAT_CHIPS_DEFAULT_OPTIONS",function(){return Tt}),n.d(e,"\u0275a1",function(){}),n.d(e,"AnimationCurves",function(){return r.j}),n.d(e,"AnimationDurations",function(){return r.i}),n.d(e,"MatCommonModule",function(){return r.c}),n.d(e,"MATERIAL_SANITY_CHECKS",function(){return r.d}),n.d(e,"mixinDisabled",function(){return r.h}),n.d(e,"mixinColor",function(){return r.f}),n.d(e,"mixinDisableRipple",function(){return r.k}),n.d(e,"mixinTabIndex",function(){return r.g}),n.d(e,"mixinErrorState",function(){}),n.d(e,"mixinInitialized",function(){}),n.d(e,"NativeDateModule",function(){}),n.d(e,"MatNativeDateModule",function(){}),n.d(e,"MAT_DATE_LOCALE",function(){}),n.d(e,"MAT_DATE_LOCALE_FACTORY",function(){}),n.d(e,"MAT_DATE_LOCALE_PROVIDER",function(){}),n.d(e,"DateAdapter",function(){}),n.d(e,"MAT_DATE_FORMATS",function(){}),n.d(e,"NativeDateAdapter",function(){}),n.d(e,"MAT_NATIVE_DATE_FORMATS",function(){}),n.d(e,"ShowOnDirtyErrorStateMatcher",function(){}),n.d(e,"ErrorStateMatcher",function(){}),n.d(e,"MAT_HAMMER_OPTIONS",function(){return r.b}),n.d(e,"GestureConfig",function(){return r.a}),n.d(e,"MatLine",function(){}),n.d(e,"MatLineSetter",function(){}),n.d(e,"MatLineModule",function(){}),n.d(e,"MatOptionModule",function(){}),n.d(e,"MatOptionSelectionChange",function(){}),n.d(e,"MAT_OPTION_PARENT_COMPONENT",function(){}),n.d(e,"MatOption",function(){}),n.d(e,"_countGroupLabelsBeforeOption",function(){}),n.d(e,"_getOptionScrollPosition",function(){}),n.d(e,"MatOptgroupBase",function(){}),n.d(e,"_MatOptgroupMixinBase",function(){}),n.d(e,"MatOptgroup",function(){}),n.d(e,"MAT_LABEL_GLOBAL_OPTIONS",function(){}),n.d(e,"MatRippleModule",function(){return r.e}),n.d(e,"MAT_RIPPLE_GLOBAL_OPTIONS",function(){return r.m}),n.d(e,"MatRipple",function(){return r.l}),n.d(e,"RippleState",function(){}),n.d(e,"RippleRef",function(){}),n.d(e,"defaultRippleAnimationConfig",function(){}),n.d(e,"RippleRenderer",function(){}),n.d(e,"MatPseudoCheckboxModule",function(){}),n.d(e,"MatPseudoCheckbox",function(){}),n.d(e,"JAN",function(){}),n.d(e,"FEB",function(){}),n.d(e,"MAR",function(){}),n.d(e,"APR",function(){}),n.d(e,"MAY",function(){}),n.d(e,"JUN",function(){}),n.d(e,"JUL",function(){}),n.d(e,"AUG",function(){}),n.d(e,"SEP",function(){}),n.d(e,"OCT",function(){}),n.d(e,"NOV",function(){}),n.d(e,"DEC",function(){}),n.d(e,"\u0275a34",function(){return Wt}),n.d(e,"MatDatepickerModule",function(){return he}),n.d(e,"MatCalendarHeader",function(){return qt}),n.d(e,"MatCalendar",function(){return Gt}),n.d(e,"MatCalendarCell",function(){return jt}),n.d(e,"MatCalendarBody",function(){return Vt}),n.d(e,"MAT_DATEPICKER_SCROLL_STRATEGY",function(){return Qt}),n.d(e,"MAT_DATEPICKER_SCROLL_STRATEGY_FACTORY",function(){return Xt}),n.d(e,"MAT_DATEPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER",function(){return Zt}),n.d(e,"MatDatepickerContentBase",function(){return Jt}),n.d(e,"_MatDatepickerContentMixinBase",function(){return te}),n.d(e,"MatDatepickerContent",function(){return ee}),n.d(e,"MatDatepicker",function(){return ne}),n.d(e,"matDatepickerAnimations",function(){return Yt}),n.d(e,"MAT_DATEPICKER_VALUE_ACCESSOR",function(){return ie}),n.d(e,"MAT_DATEPICKER_VALIDATORS",function(){return re}),n.d(e,"MatDatepickerInputEvent",function(){return se}),n.d(e,"MatDatepickerInput",function(){return oe}),n.d(e,"MatDatepickerIntl",function(){return Ft}),n.d(e,"MatDatepickerToggleIcon",function(){return ae}),n.d(e,"MatDatepickerToggle",function(){return le}),n.d(e,"MatMonthView",function(){return Ut}),n.d(e,"MatYearView",function(){return $t}),n.d(e,"MatDialogModule",function(){return Ae}),n.d(e,"MAT_DIALOG_DATA",function(){return _e}),n.d(e,"MAT_DIALOG_DEFAULT_OPTIONS",function(){return ye}),n.d(e,"MAT_DIALOG_SCROLL_STRATEGY",function(){return ve}),n.d(e,"MAT_DIALOG_SCROLL_STRATEGY_FACTORY",function(){return be}),n.d(e,"MAT_DIALOG_SCROLL_STRATEGY_PROVIDER_FACTORY",function(){return we}),n.d(e,"MAT_DIALOG_SCROLL_STRATEGY_PROVIDER",function(){return Ce}),n.d(e,"MatDialog",function(){return Ee}),n.d(e,"throwMatDialogContentAlreadyAttachedError",function(){return pe}),n.d(e,"MatDialogContainer",function(){return fe}),n.d(e,"MatDialogClose",function(){return xe}),n.d(e,"MatDialogTitle",function(){return Te}),n.d(e,"MatDialogContent",function(){return ke}),n.d(e,"MatDialogActions",function(){return Oe}),n.d(e,"MatDialogConfig",function(){return ue}),n.d(e,"MatDialogRef",function(){return ge}),n.d(e,"matDialogAnimations",function(){return de}),n.d(e,"MatDivider",function(){return Re}),n.d(e,"MatDividerModule",function(){return De}),n.d(e,"MatExpansionModule",function(){return qe}),n.d(e,"MatAccordion",function(){return Fe}),n.d(e,"MatExpansionPanel",function(){return Ue}),n.d(e,"MatExpansionPanelActionRow",function(){return ze}),n.d(e,"MatExpansionPanelHeader",function(){return He}),n.d(e,"MatExpansionPanelDescription",function(){return We}),n.d(e,"MatExpansionPanelTitle",function(){return $e}),n.d(e,"MatExpansionPanelContent",function(){return Ve}),n.d(e,"EXPANSION_PANEL_ANIMATION_TIMING",function(){return"225ms cubic-bezier(0.4,0.0,0.2,1)"}),n.d(e,"matExpansionAnimations",function(){return je}),n.d(e,"MatFormFieldModule",function(){return fn}),n.d(e,"MatError",function(){return Ye}),n.d(e,"MatFormFieldBase",function(){return cn}),n.d(e,"_MatFormFieldMixinBase",function(){return un}),n.d(e,"MAT_FORM_FIELD_DEFAULT_OPTIONS",function(){return dn}),n.d(e,"MatFormField",function(){return pn}),n.d(e,"MatFormFieldControl",function(){return Qe}),n.d(e,"getMatFormFieldPlaceholderConflictError",function(){return Xe}),n.d(e,"getMatFormFieldDuplicatedHintError",function(){return Ze}),n.d(e,"getMatFormFieldMissingControlError",function(){return Je}),n.d(e,"MatHint",function(){return en}),n.d(e,"MatPlaceholder",function(){return rn}),n.d(e,"MatPrefix",function(){return sn}),n.d(e,"MatSuffix",function(){return on}),n.d(e,"MatLabel",function(){return nn}),n.d(e,"matFormFieldAnimations",function(){return Ke}),n.d(e,"MatGridListModule",function(){return Dn}),n.d(e,"MatGridList",function(){return Rn}),n.d(e,"MatGridTile",function(){return _n}),n.d(e,"MatGridTileText",function(){return yn}),n.d(e,"MatGridAvatarCssMatStyler",function(){return vn}),n.d(e,"MatGridTileHeaderCssMatStyler",function(){return bn}),n.d(e,"MatGridTileFooterCssMatStyler",function(){return wn}),n.d(e,"MatIconModule",function(){return Pn.a}),n.d(e,"MatIconBase",function(){}),n.d(e,"_MatIconMixinBase",function(){}),n.d(e,"MatIcon",function(){return Pn.b}),n.d(e,"getMatIconNameNotFoundError",function(){}),n.d(e,"getMatIconNoHttpProviderError",function(){}),n.d(e,"getMatIconFailedToSanitizeUrlError",function(){}),n.d(e,"getMatIconFailedToSanitizeLiteralError",function(){}),n.d(e,"MatIconRegistry",function(){return Pn.c}),n.d(e,"ICON_REGISTRY_PROVIDER_FACTORY",function(){}),n.d(e,"ICON_REGISTRY_PROVIDER",function(){}),n.d(e,"MatTextareaAutosize",function(){return Bn}),n.d(e,"MatInputBase",function(){return $n}),n.d(e,"_MatInputMixinBase",function(){return qn}),n.d(e,"MatInput",function(){return Gn}),n.d(e,"getMatInputUnsupportedTypeError",function(){return Un}),n.d(e,"MatInputModule",function(){return Yn}),n.d(e,"MAT_INPUT_VALUE_ACCESSOR",function(){return zn}),n.d(e,"MatListModule",function(){return pi}),n.d(e,"MatListBase",function(){return Kn}),n.d(e,"_MatListMixinBase",function(){return Qn}),n.d(e,"MatListItemBase",function(){return Xn}),n.d(e,"_MatListItemMixinBase",function(){return Zn}),n.d(e,"MatNavList",function(){return Jn}),n.d(e,"MatList",function(){return ti}),n.d(e,"MatListAvatarCssMatStyler",function(){return ei}),n.d(e,"MatListIconCssMatStyler",function(){return ni}),n.d(e,"MatListSubheaderCssMatStyler",function(){return ii}),n.d(e,"MatListItem",function(){return ri}),n.d(e,"MatSelectionListBase",function(){return si}),n.d(e,"_MatSelectionListMixinBase",function(){return oi}),n.d(e,"MatListOptionBase",function(){return ai}),n.d(e,"_MatListOptionMixinBase",function(){return li}),n.d(e,"MAT_SELECTION_LIST_VALUE_ACCESSOR",function(){return hi}),n.d(e,"MatSelectionListChange",function(){return ci}),n.d(e,"MatListOption",function(){return ui}),n.d(e,"MatSelectionList",function(){return di}),n.d(e,"\u0275a24",function(){return Ii}),n.d(e,"\u0275b24",function(){return xi}),n.d(e,"\u0275c24",function(){return Ti}),n.d(e,"\u0275f24",function(){return Si}),n.d(e,"\u0275d24",function(){return Pi}),n.d(e,"\u0275e24",function(){return Mi}),n.d(e,"MAT_MENU_SCROLL_STRATEGY",function(){return Di}),n.d(e,"MatMenuModule",function(){return Fi}),n.d(e,"MatMenu",function(){return Ri}),n.d(e,"MAT_MENU_DEFAULT_OPTIONS",function(){return Oi}),n.d(e,"MatMenuItem",function(){return ki}),n.d(e,"MatMenuTrigger",function(){return Li}),n.d(e,"matMenuAnimations",function(){return wi}),n.d(e,"fadeInItems",function(){return Ci}),n.d(e,"transformMenu",function(){return Ei}),n.d(e,"MatMenuContent",function(){return bi}),n.d(e,"MatPaginatorModule",function(){return qi}),n.d(e,"PageEvent",function(){return zi}),n.d(e,"MatPaginatorBase",function(){return Hi}),n.d(e,"_MatPaginatorBase",function(){return Wi}),n.d(e,"MatPaginator",function(){return $i}),n.d(e,"MatPaginatorIntl",function(){return ji}),n.d(e,"MAT_PAGINATOR_INTL_PROVIDER_FACTORY",function(){return Vi}),n.d(e,"MAT_PAGINATOR_INTL_PROVIDER",function(){return Bi}),n.d(e,"MatProgressBarModule",function(){return Zi}),n.d(e,"MatProgressBarBase",function(){return Gi}),n.d(e,"_MatProgressBarMixinBase",function(){return Yi}),n.d(e,"MatProgressBar",function(){return Qi}),n.d(e,"MatProgressSpinnerModule",function(){return lr}),n.d(e,"MatProgressSpinnerBase",function(){return er}),n.d(e,"_MatProgressSpinnerMixinBase",function(){return nr}),n.d(e,"MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS",function(){return ir}),n.d(e,"MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS_FACTORY",function(){return rr}),n.d(e,"MatProgressSpinner",function(){return or}),n.d(e,"MatSpinner",function(){return ar}),n.d(e,"MatRadioModule",function(){return yr}),n.d(e,"MAT_RADIO_GROUP_CONTROL_VALUE_ACCESSOR",function(){return cr}),n.d(e,"MatRadioChange",function(){return ur}),n.d(e,"MatRadioGroupBase",function(){return dr}),n.d(e,"_MatRadioGroupMixinBase",function(){return pr}),n.d(e,"MatRadioGroup",function(){return fr}),n.d(e,"MatRadioButtonBase",function(){return mr}),n.d(e,"_MatRadioButtonMixinBase",function(){return gr}),n.d(e,"MatRadioButton",function(){return _r}),n.d(e,"MatSelectModule",function(){return jr}),n.d(e,"SELECT_PANEL_MAX_HEIGHT",function(){return Sr}),n.d(e,"SELECT_PANEL_PADDING_X",function(){return xr}),n.d(e,"SELECT_PANEL_INDENT_PADDING_X",function(){return Tr}),n.d(e,"SELECT_ITEM_HEIGHT_EM",function(){return kr}),n.d(e,"SELECT_MULTIPLE_PANEL_PADDING_X",function(){return Or}),n.d(e,"SELECT_PANEL_VIEWPORT_PADDING",function(){return Ir}),n.d(e,"MAT_SELECT_SCROLL_STRATEGY",function(){return Ar}),n.d(e,"MAT_SELECT_SCROLL_STRATEGY_PROVIDER_FACTORY",function(){return Rr}),n.d(e,"MAT_SELECT_SCROLL_STRATEGY_PROVIDER",function(){return Dr}),n.d(e,"MatSelectChange",function(){return Pr}),n.d(e,"MatSelectBase",function(){return Mr}),n.d(e,"_MatSelectMixinBase",function(){return Nr}),n.d(e,"MatSelectTrigger",function(){return Lr}),n.d(e,"MatSelect",function(){return Fr}),n.d(e,"matSelectAnimations",function(){return br}),n.d(e,"transformPanel",function(){return wr}),n.d(e,"fadeInContent",function(){return Cr}),n.d(e,"MatSidenavModule",function(){return Qr}),n.d(e,"throwMatDuplicatedDrawerError",function(){return Ur}),n.d(e,"MAT_DRAWER_DEFAULT_AUTOSIZE",function(){return zr}),n.d(e,"MAT_DRAWER_DEFAULT_AUTOSIZE_FACTORY",function(){return Hr}),n.d(e,"MatDrawerContent",function(){return Wr}),n.d(e,"MatDrawer",function(){return $r}),n.d(e,"MatDrawerContainer",function(){return qr}),n.d(e,"MatSidenavContent",function(){return Gr}),n.d(e,"MatSidenav",function(){return Yr}),n.d(e,"MatSidenavContainer",function(){return Kr}),n.d(e,"matDrawerAnimations",function(){return Br}),n.d(e,"MatSlideToggleModule",function(){return rs}),n.d(e,"MAT_SLIDE_TOGGLE_VALUE_ACCESSOR",function(){return Jr}),n.d(e,"MatSlideToggleChange",function(){return ts}),n.d(e,"MatSlideToggleBase",function(){return es}),n.d(e,"_MatSlideToggleMixinBase",function(){return ns}),n.d(e,"MatSlideToggle",function(){return is}),n.d(e,"MAT_SLIDE_TOGGLE_DEFAULT_OPTIONS",function(){return Xr}),n.d(e,"MatSliderModule",function(){return ss.a}),n.d(e,"MAT_SLIDER_VALUE_ACCESSOR",function(){}),n.d(e,"MatSliderChange",function(){}),n.d(e,"MatSliderBase",function(){}),n.d(e,"_MatSliderMixinBase",function(){}),n.d(e,"MatSlider",function(){return ss.b}),n.d(e,"MatSnackBarModule",function(){return ps}),n.d(e,"MAT_SNACK_BAR_DEFAULT_OPTIONS",function(){return fs}),n.d(e,"MAT_SNACK_BAR_DEFAULT_OPTIONS_FACTORY",function(){return ms}),n.d(e,"MatSnackBar",function(){return gs}),n.d(e,"MatSnackBarContainer",function(){return ds}),n.d(e,"MAT_SNACK_BAR_DATA",function(){return ls}),n.d(e,"MatSnackBarConfig",function(){return hs}),n.d(e,"MatSnackBarRef",function(){return as}),n.d(e,"SimpleSnackBar",function(){return us}),n.d(e,"matSnackBarAnimations",function(){return cs}),n.d(e,"MatSortModule",function(){return Os}),n.d(e,"MatSortHeaderBase",function(){return xs}),n.d(e,"_MatSortHeaderMixinBase",function(){return Ts}),n.d(e,"MatSortHeader",function(){return ks}),n.d(e,"MatSortHeaderIntl",function(){return Cs}),n.d(e,"MAT_SORT_HEADER_INTL_PROVIDER_FACTORY",function(){return Es}),n.d(e,"MAT_SORT_HEADER_INTL_PROVIDER",function(){return Ss}),n.d(e,"MatSortBase",function(){return _s}),n.d(e,"_MatSortMixinBase",function(){return ys}),n.d(e,"MatSort",function(){return vs}),n.d(e,"matSortAnimations",function(){return ws}),n.d(e,"MatStepperModule",function(){return qs}),n.d(e,"MatStepLabel",function(){return Ns}),n.d(e,"MatStep",function(){return Bs}),n.d(e,"MatStepper",function(){return Us}),n.d(e,"MatHorizontalStepper",function(){return zs}),n.d(e,"MatVerticalStepper",function(){return Hs}),n.d(e,"MatStepperNext",function(){return Ws}),n.d(e,"MatStepperPrevious",function(){return $s}),n.d(e,"MatStepHeader",function(){return Fs}),n.d(e,"MatStepperIntl",function(){return Ls}),n.d(e,"matStepperAnimations",function(){return js}),n.d(e,"MatStepperIcon",function(){return Vs}),n.d(e,"MatTableModule",function(){return Mo}),n.d(e,"MatCellDef",function(){return wo}),n.d(e,"MatHeaderCellDef",function(){return Co}),n.d(e,"MatFooterCellDef",function(){return Eo}),n.d(e,"MatColumnDef",function(){return So}),n.d(e,"MatHeaderCell",function(){return xo}),n.d(e,"MatFooterCell",function(){return To}),n.d(e,"MatCell",function(){return ko}),n.d(e,"MatTable",function(){return bo}),n.d(e,"MatHeaderRowDef",function(){return Oo}),n.d(e,"MatFooterRowDef",function(){return Io}),n.d(e,"MatRowDef",function(){return Ao}),n.d(e,"MatHeaderRow",function(){return Ro}),n.d(e,"MatFooterRow",function(){return Do}),n.d(e,"MatRow",function(){return Po}),n.d(e,"MatTableDataSource",function(){return Lo}),n.d(e,"\u0275a23",function(){return jo}),n.d(e,"\u0275f23",function(){return zo}),n.d(e,"\u0275g23",function(){return Ho}),n.d(e,"\u0275b23",function(){return Zo}),n.d(e,"\u0275c23",function(){return Jo}),n.d(e,"\u0275d23",function(){return Yo}),n.d(e,"\u0275e23",function(){return Ko}),n.d(e,"\u0275j23",function(){return ha}),n.d(e,"\u0275h23",function(){return oa}),n.d(e,"\u0275k23",function(){return ca}),n.d(e,"\u0275i23",function(){return aa}),n.d(e,"MatInkBar",function(){return Vo}),n.d(e,"_MAT_INK_BAR_POSITIONER",function(){return Fo}),n.d(e,"MatTabBody",function(){return Go}),n.d(e,"MatTabBodyPortal",function(){return qo}),n.d(e,"MatTabHeader",function(){return ta}),n.d(e,"MatTabLabelWrapper",function(){return Qo}),n.d(e,"MatTab",function(){return Wo}),n.d(e,"MatTabLabel",function(){return Bo}),n.d(e,"MatTabNav",function(){return la}),n.d(e,"MatTabLink",function(){return ua}),n.d(e,"MatTabContent",function(){return Uo}),n.d(e,"MatTabsModule",function(){return da}),n.d(e,"MatTabChangeEvent",function(){return na}),n.d(e,"MatTabGroupBase",function(){return ia}),n.d(e,"_MatTabGroupMixinBase",function(){return ra}),n.d(e,"MatTabGroup",function(){return sa}),n.d(e,"matTabsAnimations",function(){return $o}),n.d(e,"MatToolbarModule",function(){return pa.a}),n.d(e,"MatToolbarBase",function(){}),n.d(e,"_MatToolbarMixinBase",function(){}),n.d(e,"MatToolbarRow",function(){}),n.d(e,"MatToolbar",function(){return pa.b}),n.d(e,"throwToolbarMixedModesError",function(){}),n.d(e,"MatTooltipModule",function(){return xa}),n.d(e,"SCROLL_THROTTLE_MS",function(){return ma}),n.d(e,"TOOLTIP_PANEL_CLASS",function(){return ga}),n.d(e,"getMatTooltipInvalidPositionError",function(){return _a}),n.d(e,"MAT_TOOLTIP_SCROLL_STRATEGY",function(){return ya}),n.d(e,"MAT_TOOLTIP_SCROLL_STRATEGY_FACTORY",function(){return va}),n.d(e,"MAT_TOOLTIP_SCROLL_STRATEGY_FACTORY_PROVIDER",function(){return ba}),n.d(e,"MAT_TOOLTIP_DEFAULT_OPTIONS",function(){return wa}),n.d(e,"MAT_TOOLTIP_DEFAULT_OPTIONS_FACTORY",function(){return Ca}),n.d(e,"MatTooltip",function(){return Ea}),n.d(e,"TooltipComponent",function(){return Sa}),n.d(e,"matTooltipAnimations",function(){return fa}),n.d(e,"_MatTreeNodeMixinBase",function(){}),n.d(e,"_MatNestedTreeNodeMixinBase",function(){}),n.d(e,"MatTreeNode",function(){}),n.d(e,"MatTreeNodeDef",function(){}),n.d(e,"MatNestedTreeNode",function(){}),n.d(e,"MatTreeNodePadding",function(){}),n.d(e,"MatTree",function(){}),n.d(e,"MatTreeModule",function(){}),n.d(e,"MatTreeNodeToggle",function(){}),n.d(e,"MatTreeNodeOutlet",function(){}),n.d(e,"MatTreeFlattener",function(){}),n.d(e,"MatTreeFlatDataSource",function(){}),n.d(e,"MatTreeNestedDataSource",function(){return Ta.a});const ka=new i.W("6.4.3")},"mz+s":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return r}),n.d(e,"__assign",function(){return s}),n.d(e,"__rest",function(){return o}),n.d(e,"__decorate",function(){return a}),n.d(e,"__param",function(){return l}),n.d(e,"__metadata",function(){return h}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return u}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return f}),n.d(e,"__spread",function(){return m}),n.d(e,"__await",function(){return g}),n.d(e,"__asyncGenerator",function(){return _}),n.d(e,"__asyncDelegator",function(){return y}),n.d(e,"__asyncValues",function(){return v}),n.d(e,"__makeTemplateObject",function(){return b}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return C});var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};function o(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&(n[i[r]]=t[i[r]])}return n}function a(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function l(t,e){return function(n,i){e(n,i,t)}}function h(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,i){return new(n||(n=Promise))(function(r,s){function o(t){try{l(i.next(t))}catch(t){s(t)}}function a(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(o,a)}l((i=i.apply(t,e||[])).next())})}function u(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=i[2&s[0]?"return":s[0]?"throw":"next"])&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[0,r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(t){r[t]&&(i[t]=function(e){return new Promise(function(n,i){s.push([t,e,n,i])>1||a(t,e)})})}function a(t,e){try{!function(t){t.value instanceof g?Promise.resolve(t.value.v).then(l,h):c(s[0][2],t)}(r[t](e))}catch(t){c(s[0][3],t)}}function l(t){a("next",t)}function h(t){a("throw",t)}function c(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function y(t){var e,n;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){t[i]&&(e[i]=function(e){return(n=!n)?{value:g(t[i](e)),done:"return"===i}:r?r(e):e})}}function v(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):p(t)}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},ntMP:function(t,e,n){"use strict";e.byteLength=function(t){var e=h(t),n=e[1];return 3*(e[0]+n)/4-n},e.toByteArray=function(t){for(var e,n=h(t),i=n[0],o=n[1],a=new s(function(t,e,n){return 3*(e+n)/4-n}(0,i,o)),l=0,c=o>0?i-4:i,u=0;u<c;u+=4)e=r[t.charCodeAt(u)]<<18|r[t.charCodeAt(u+1)]<<12|r[t.charCodeAt(u+2)]<<6|r[t.charCodeAt(u+3)],a[l++]=e>>16&255,a[l++]=e>>8&255,a[l++]=255&e;return 2===o&&(e=r[t.charCodeAt(u)]<<2|r[t.charCodeAt(u+1)]>>4,a[l++]=255&e),1===o&&(e=r[t.charCodeAt(u)]<<10|r[t.charCodeAt(u+1)]<<4|r[t.charCodeAt(u+2)]>>2,a[l++]=e>>8&255,a[l++]=255&e),a},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,s=[],o=0,a=n-r;o<a;o+=16383)s.push(u(t,o,o+16383>a?a:o+16383));return 1===r?s.push(i[(e=t[n-1])>>2]+i[e<<4&63]+"=="):2===r&&s.push(i[(e=(t[n-2]<<8)+t[n-1])>>10]+i[e>>4&63]+i[e<<2&63]+"="),s.join("")};for(var i=[],r=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)i[a]=o[a],r[o.charCodeAt(a)]=a;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t){return i[t>>18&63]+i[t>>12&63]+i[t>>6&63]+i[63&t]}function u(t,e,n){for(var i=[],r=e;r<n;r+=3)i.push(c((t[r]<<16&16711680)+(t[r+1]<<8&65280)+(255&t[r+2])));return i.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e);let r=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function o(t){setTimeout(()=>{throw t})}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t},complete(){}},l=Array.isArray||(t=>t&&"number"==typeof t.length);function h(t){return null!=t&&"object"==typeof t}const c={e:{}};let u;function d(){try{return u.apply(this,arguments)}catch(t){return c.e=t,c}}function p(t){return u=t,d}class f extends Error{constructor(t){super(t?`${t.length} errors occurred during unsubscription:\n  ${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:""),this.errors=t,this.name="UnsubscriptionError",Object.setPrototypeOf(this,f.prototype)}}class m{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:r,_unsubscribe:s,_subscriptions:o}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let a=-1,u=r?r.length:0;for(;n;)n.remove(this),n=++a<u&&r[a]||null;if(i(s)&&p(s).call(this)===c&&(e=!0,t=t||(c.e instanceof f?g(c.e.errors):[c.e])),l(o))for(a=-1,u=o.length;++a<u;){const n=o[a];if(h(n)&&p(n.unsubscribe).call(n)===c){e=!0,t=t||[];let n=c.e;n instanceof f?t=t.concat(g(n.errors)):t.push(n)}}if(e)throw new f(t)}add(t){if(!t||t===m.EMPTY)return m.EMPTY;if(t===this)return this;let e=t;switch(typeof t){case"function":e=new m(t);case"object":if(e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if("function"!=typeof e._addParent){const t=e;(e=new m)._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(e),e._addParent(this),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t}}function g(t){return t.reduce((t,e)=>t.concat(e instanceof f?e.errors:e),[])}m.EMPTY=function(t){return t.closed=!0,t}(new m);const _="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber";class y extends m{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){if(t instanceof y||"syncErrorThrowable"in t&&t[_]){const e=t[_]();this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)}else this.syncErrorThrowable=!0,this.destination=new v(this,t);break}default:this.syncErrorThrowable=!0,this.destination=new v(this,t,e,n)}}[_](){return this}static create(t,e,n){const i=new y(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class v extends y{constructor(t,e,n,r){let s;super(),this._parentSubscriber=t;let o=this;i(e)?s=e:e&&(s=e.next,n=e.error,r=e.complete,e!==a&&(i((o=Object.create(e)).unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw t;o(t)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(o(e),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const b="function"==typeof Symbol&&Symbol.observable||"@@observable";function w(){}function C(...t){return E(t)}function E(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:w}class S{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const e=new S;return e.source=this,e.operator=t,e}subscribe(t,e,n){const{operator:i}=this,r=function(t,e,n){if(t){if(t instanceof y)return t;if(t[_])return t[_]()}return t||e||n?new y(t,e,n):new y(a)}(t,e,n);if(i?i.call(r,this.source):r.add(this.source||s.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),s.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),t.error(e)}}forEach(t,e){return new(e=x(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(t){n(t),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[b](){return this}pipe(...t){return 0===t.length?this:E(t)(this)}toPromise(t){return new(t=x(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}function x(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}S.create=(t=>new S(t));class T extends Error{constructor(){super("object unsubscribed"),this.name="ObjectUnsubscribedError",Object.setPrototypeOf(this,T.prototype)}}class k extends m{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class O extends y{constructor(t){super(t),this.destination=t}}class I extends S{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[_](){return new O(this)}lift(t){const e=new A(this,this);return e.operator=t,e}next(t){if(this.closed)throw new T;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new T;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new T;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new T;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new T;return this.hasError?(t.error(this.thrownError),m.EMPTY):this.isStopped?(t.complete(),m.EMPTY):(this.observers.push(t),new k(this,t))}asObservable(){const t=new S;return t.source=this,t}}I.create=((t,e)=>new A(t,e));class A extends I{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):m.EMPTY}}function R(t){return t&&"function"==typeof t.schedule}class D extends y{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const P=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()},M=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e),N=function(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),L=t=>e=>{const n=t[N]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e},F=t=>e=>{const n=t[b]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)},j=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function V(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const B=t=>{if(t instanceof S)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[b])return F(t);if(j(t))return P(t);if(V(t))return M(t);if(t&&"function"==typeof t[N])return L(t);{const e=`You provided ${h(t)?"an invalid object":`'${t}'`} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(e)}};function U(t,e,n,i){const r=new D(t,n,i);return B(e)(r)}class z extends y{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function H(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new W(t,e))}}class W{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new $(t,this.project,this.thisArg))}}class $ extends y{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)}}function q(t,e){return new S(e?n=>{const i=new m;let r=0;return i.add(e.schedule(function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()})),i}:P(t))}function G(t,e){if(!e)return t instanceof S?t:new S(B(t));if(null!=t){if(function(t){return t&&"function"==typeof t[b]}(t))return function(t,e){return new S(e?n=>{const i=new m;return i.add(e.schedule(()=>{const r=t[b]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i}:F(t))}(t,e);if(V(t))return function(t,e){return new S(e?n=>{const i=new m;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i}:M(t))}(t,e);if(j(t))return q(t,e);if(function(t){return t&&"function"==typeof t[N]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new S(e?n=>{const i=new m;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[N](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}))})),i}:L(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function Y(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(Y((n,i)=>G(t(n,i)).pipe(H((t,r)=>e(n,t,i,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new K(t,n)))}class K{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Q(t,this.project,this.concurrent))}}class Q extends z{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){this.add(U(this,t,e,n))}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()}notifyNext(t,e,n,i,r){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function X(t){return t}function Z(t=Number.POSITIVE_INFINITY){return Y(X,t)}function J(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return R(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof S?t[0]:Z(e)(q(t,n))}function tt(){return function(t){return t.lift(new et(t))}}class et{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new nt(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class nt extends y{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}const it=class extends S{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new m).add(this.source.subscribe(new class extends O{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}(this.getSubject(),this))),t.closed?(this._connection=null,t=m.EMPTY):this._connection=t),t}refCount(){return tt()(this)}}.prototype,rt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:it._subscribe},_isComplete:{value:it._isComplete,writable:!0},getSubject:{value:it.getSubject},connect:{value:it.connect},refCount:{value:it.refCount}};function st(){return new I}function ot(){return t=>tt()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,rt);return i.source=e,i.subjectFactory=n,i}}(st)(t))}function at(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}class lt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?at({providedIn:e.providedIn||"root",factory:e.factory}):void 0}toString(){return`InjectionToken ${this._desc}`}}const ht="__parameters__";function ct(t,e,n){const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty(ht)?t[ht]:Object.defineProperty(t,ht,{value:[]})[ht];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}const ut=new lt("AnalyzeForEntryComponents"),dt=Function;function pt(t){return"function"==typeof t}const ft="undefined"!=typeof window&&window,mt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,gt="undefined"!=typeof global&&global||ft||mt,_t=Promise.resolve(0);let yt=null;function vt(){if(!yt){const t=gt.Symbol;if(t&&t.iterator)yt=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(yt=n)}}}return yt}function bt(t){"undefined"==typeof Zone?_t.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function wt(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Ct(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(Ct).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const Et=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,St=/^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{/,xt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{[\s\S]*constructor\s*\(/;function Tt(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function kt(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}function Ot(t){return t.__forward_ref__=Ot,t.toString=function(){return Ct(this())},t}function It(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===Ot?t():t}const At=ct("Inject",t=>({token:t})),Rt=ct("Optional"),Dt=ct("Self"),Pt=ct("SkipSelf"),Mt="__source",Nt=new Object,Lt=Nt,Ft=new lt("INJECTOR");class jt{static create(t,e){return Array.isArray(t)?new Qt(t,e):new Qt(t.providers,t.parent,t.name||null)}}jt.THROW_IF_NOT_FOUND=Nt,jt.NULL=new class{get(t,e=Nt){if(e===Nt)throw new Error(`NullInjectorError: No provider for ${Ct(t)}!`);return e}},jt.ngInjectableDef=at({providedIn:"any",factory:()=>ne(Ft)});const Vt=function(t){return t},Bt=[],Ut=Vt,zt=function(){return Array.prototype.slice.call(arguments)},Ht={},Wt=function(t){for(let e in t)if(t[e]===Ht)return e;throw Error("!prop")}({provide:String,useValue:Ht}),$t="ngTokenPath",qt="ngTempTokenPath",Gt=jt.NULL,Yt=/\n/gm,Kt="\u0275";class Qt{constructor(t,e=Gt,n=null){this.parent=e,this.source=n;const i=this._records=new Map;i.set(jt,{token:jt,fn:Vt,deps:Bt,value:this,useNew:!1}),i.set(Ft,{token:Ft,fn:Vt,deps:Bt,value:this,useNew:!1}),function t(e,n){if(n)if((n=It(n))instanceof Array)for(let i=0;i<n.length;i++)t(e,n[i]);else{if("function"==typeof n)throw Jt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Jt("Unexpected provider",n);{let t=It(n.provide);const i=function(t){const e=function(t){let e=Bt;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let i=6,r=It(n[t]);if(r instanceof Array)for(let t=0,e=r;t<e.length;t++){const n=e[t];n instanceof Rt||n==Rt?i|=1:n instanceof Pt||n==Pt?i&=-3:n instanceof Dt||n==Dt?i&=-5:r=n instanceof At?n.token:It(n)}e.push({token:r,options:i})}}else if(t.useExisting)e=[{token:It(t.useExisting),options:6}];else if(!(n||Wt in t))throw Jt("'deps' required",t);return e}(t);let n=Vt,i=Bt,r=!1,s=It(t.provide);if(Wt in t)i=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)r=!0,n=It(t.useClass);else{if("function"!=typeof s)throw Jt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);r=!0,n=s}return{deps:e,fn:n,useNew:r,value:i}}(n);if(!0===n.multi){let i=e.get(t);if(i){if(i.fn!==zt)throw Xt(t)}else e.set(t,i={token:n.provide,deps:[],useNew:!1,fn:zt,value:Bt});i.deps.push({token:t=n,options:6})}const r=e.get(t);if(r&&r.fn==zt)throw Xt(t);e.set(t,i)}}}(i,t)}get(t,e,n=0){const i=this._records.get(t);try{return function t(e,n,i,r,s,o){try{return function(e,n,i,r,s,o){let a;if(!n||4&o)2&o||(a=r.get(e,s,0));else{if((a=n.value)==Ut)throw Error(Kt+"Circular dependency");if(a===Bt){n.value=Ut;let e=void 0,s=n.useNew,o=n.fn,l=n.deps,h=Bt;if(l.length){h=[];for(let e=0;e<l.length;e++){const n=l[e],s=n.options,o=2&s?i.get(n.token):void 0;h.push(t(n.token,o,i,o||4&s?r:Gt,1&s?null:jt.THROW_IF_NOT_FOUND,0))}}n.value=a=s?new o(...h):o.apply(e,h)}}return a}(e,n,i,r,s,o)}catch(t){throw t instanceof Error||(t=new Error(t)),(t[qt]=t[qt]||[]).unshift(e),n&&n.value==Ut&&(n.value=Bt),t}}(t,i,this._records,this.parent,e,n)}catch(e){const n=e[qt];throw t[Mt]&&n.unshift(t[Mt]),e.message=Zt("\n"+e.message,n,this.source),e[$t]=n,e[qt]=null,e}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(Ct(n))),`StaticInjector[${t.join(", ")}]`}}function Xt(t){return Jt("Cannot mix multi providers and regular providers",t)}function Zt(t,e,n=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Kt?t.substr(2):t;let i=Ct(e);if(e instanceof Array)i=e.map(Ct).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):Ct(i)))}i=`{${t.join(", ")}}`}return`StaticInjectorError${n?"("+n+")":""}[${i}]: ${t.replace(Yt,"\n  ")}`}function Jt(t,e){return new Error(Zt(t,e))}let te=void 0;function ee(t){const e=te;return te=t,e}function ne(t,e=0){if(void 0===te)throw new Error("inject() must be called from an injection context");if(null===te){const n=t.ngInjectableDef;if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(8&e)return null;throw new Error(`Injector: NOT_FOUND [${Ct(t)}]`)}return te.get(t,8&e?null:void 0,e)}String;const ie=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),re=new class{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}("6.1.2"),se="ngDebugContext",oe="ngOriginalError",ae="ngErrorLogger";function le(t){return t[se]}function he(t){return t[oe]}function ce(t,...e){t.error(...e)}class ue{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t[ae]||ce}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?le(t)?le(t):this._findContext(he(t)):null}_findOriginalError(t){let e=he(t);for(;e&&he(e);)e=he(e);return e}}function de(t){return t.length>1?" ("+function(t){const e=[];for(let n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(t=>Ct(t.token)).join(" -> ")+")":""}function pe(t,e,n,i){const r=[e],s=n(r),o=i?function(t,e){const n=`${s} caused by: ${e instanceof Error?e.message:e}`,i=Error(n);return i[oe]=e,i}(0,i):Error(s);return o.addKey=fe,o.keys=r,o.injectors=[t],o.constructResolvingMessage=n,o[oe]=i,o}function fe(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function me(t,e){const n=[];for(let i=0,r=e.length;i<r;i++){const t=e[i];n.push(t&&0!=t.length?t.map(Ct).join(" "):"?")}return Error("Cannot resolve all parameters for '"+Ct(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+Ct(t)+"' is decorated with Injectable.")}function ge(t,e){return Error(`Cannot mix multi providers and regular providers, got: ${t} ${e}`)}class _e{constructor(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=Ct(this.token)}static get(t){return ye.get(It(t))}static get numberOfKeys(){return ye.numberOfKeys}}const ye=new class{constructor(){this._allKeys=new Map}get(t){if(t instanceof _e)return t;if(this._allKeys.has(t))return this._allKeys.get(t);const e=new _e(t,_e.numberOfKeys);return this._allKeys.set(t,e),e}get numberOfKeys(){return this._allKeys.size}},ve=new class{constructor(t){this.reflectionCapabilities=t}updateCapabilities(t){this.reflectionCapabilities=t}factory(t){return this.reflectionCapabilities.factory(t)}parameters(t){return this.reflectionCapabilities.parameters(t)}annotations(t){return this.reflectionCapabilities.annotations(t)}propMetadata(t){return this.reflectionCapabilities.propMetadata(t)}hasLifecycleHook(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)}getter(t){return this.reflectionCapabilities.getter(t)}setter(t){return this.reflectionCapabilities.setter(t)}method(t){return this.reflectionCapabilities.method(t)}importUri(t){return this.reflectionCapabilities.importUri(t)}resourceUri(t){return this.reflectionCapabilities.resourceUri(t)}resolveIdentifier(t,e,n,i){return this.reflectionCapabilities.resolveIdentifier(t,e,n,i)}resolveEnum(t,e){return this.reflectionCapabilities.resolveEnum(t,e)}}(new class{constructor(t){this._reflect=t||gt.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=void 0===t?new Array(e.length):new Array(t.length);for(let i=0;i<n.length;i++)n[i]=void 0===t?[]:t[i]!=Object?[t[i]]:[],e&&null!=e[i]&&(n[i]=n[i].concat(e[i]));return n}_ownParameters(t,e){const n=t.toString();if(Et.exec(n)||St.exec(n)&&!xt.exec(n))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const i=t.ctorParameters;if(i&&i!==e.ctorParameters){const t="function"==typeof i?i():i,e=t.map(t=>t&&t.type),n=t.map(t=>t&&Tt(t.decorators));return this._zipTypesAndAnnotations(e,n)}const r=t.hasOwnProperty(ht)&&t[ht],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return s||r?this._zipTypesAndAnnotations(s,r):new Array(t.length).fill(void 0)}parameters(t){if(!pt(t))return[];const e=kt(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?Tt(t.decorators):t.hasOwnProperty("__annotations__")?t.__annotations__:null}annotations(t){if(!pt(t))return[];const e=kt(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=Tt(e[t])}),n}return t.hasOwnProperty("__prop__metadata__")?t.__prop__metadata__:null}propMetadata(t){if(!pt(t))return{};const e=kt(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const i=this._ownPropMetadata(t,e);return i&&Object.keys(i).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...i[t]),n[t]=e}),n}hasLifecycleHook(t,e){return t instanceof dt&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){const e=`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`;return new Function("o","args",e)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${Ct(t)}`}resourceUri(t){return`./${Ct(t)}`}resolveIdentifier(t,e,n,i){return i}resolveEnum(t,e){return t[e]}});class be{constructor(t,e,n){this.key=t,this.optional=e,this.visibility=n}static fromKey(t){return new be(t,!1,null)}}const we=[];class Ce{constructor(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class Ee{constructor(t,e){this.factory=t,this.dependencies=e}}function Se(t){return new Ce(_e.get(t.provide),[function(t){let e,n;if(t.useClass){const i=It(t.useClass);e=ve.factory(i),n=xe(i)}else t.useExisting?(e=(t=>t),n=[be.fromKey(_e.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){const n=e.map(t=>[t]);return e.map(e=>Te(t,e,n))}return xe(t)}(t.useFactory,t.deps)):(e=(()=>t.useValue),n=we);return new Ee(e,n)}(t)],t.multi||!1)}function xe(t){const e=ve.parameters(t);if(!e)return[];if(e.some(t=>null==t))throw me(t,e);return e.map(n=>Te(t,n,e))}function Te(t,e,n){let i=null,r=!1;if(!Array.isArray(e))return ke(e instanceof At?e.token:e,r,null);let s=null;for(let o=0;o<e.length;++o){const t=e[o];t instanceof dt?i=t:t instanceof At?i=t.token:t instanceof Rt?r=!0:t instanceof Dt||t instanceof Pt?s=t:t instanceof lt&&(i=t)}if(null!=(i=It(i)))return ke(i,r,s);throw me(t,n)}function ke(t,e,n){return new be(_e.get(t),e,n)}const Oe=new Object;class Ie{static resolve(t){return function(t){const e=function(t,e){for(let n=0;n<t.length;n++){const i=t[n],r=e.get(i.key.id);if(r){if(i.multiProvider!==r.multiProvider)throw ge(r,i);if(i.multiProvider)for(let t=0;t<i.resolvedFactories.length;t++)r.resolvedFactories.push(i.resolvedFactories[t]);else e.set(i.key.id,i)}else{let t;t=i.multiProvider?new Ce(i.key,i.resolvedFactories.slice(),i.multiProvider):i,e.set(i.key.id,t)}}return e}(function t(e,n){return e.forEach(e=>{if(e instanceof dt)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`);t(e,n)}}),n}(t,[]).map(Se),new Map);return Array.from(e.values())}(t)}static resolveAndCreate(t,e){const n=Ie.resolve(t);return Ie.fromResolvedProviders(n,e)}static fromResolvedProviders(t,e){return new Ae(t,e)}}class Ae{constructor(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;const n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(let i=0;i<n;i++)this.keyIds[i]=t[i].key.id,this.objs[i]=Oe}get(t,e=Lt){return this._getByKey(_e.get(t),null,e)}resolveAndCreateChild(t){const e=Ie.resolve(t);return this.createChildFromResolved(e)}createChildFromResolved(t){const e=new Ae(t);return e.parent=this,e}resolveAndInstantiate(t){return this.instantiateResolved(Ie.resolve([t])[0])}instantiateResolved(t){return this._instantiateProvider(t)}getProviderAtIndex(t){if(t<0||t>=this._providers.length)throw function(t){return Error(`Index ${t} is out-of-bounds.`)}(t);return this._providers[t]}_new(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function(e,n){return pe(e,t.key,function(t){return`Cannot instantiate cyclic dependency!${de(t)}`})}(this);return this._instantiateProvider(t)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(t){if(t.multiProvider){const e=new Array(t.resolvedFactories.length);for(let n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])}_instantiate(t,e){const n=e.factory;let i,r;try{i=e.dependencies.map(t=>this._getByReflectiveDependency(t))}catch(e){throw e.addKey&&e.addKey(this,t.key),e}try{r=n(...i)}catch(e){throw function(e,n,i,r){return pe(e,t.key,function(t){const e=Ct(t[0].token);return`${n.message}: Error during instantiation of ${e}!${de(t)}.`},n)}(this,e)}return r}_getByReflectiveDependency(t){return this._getByKey(t.key,t.visibility,t.optional?null:Lt)}_getByKey(t,e,n){return t===Ae.INJECTOR_KEY?this:e instanceof Dt?this._getByKeySelf(t,n):this._getByKeyDefault(t,n,e)}_getObjByKeyId(t){for(let e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===Oe&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return Oe}_throwOrNull(t,e){if(e!==Lt)return e;throw function(t,e){return pe(t,e,function(t){return`No provider for ${Ct(t[0].token)}!${de(t)}`})}(this,t)}_getByKeySelf(t,e){const n=this._getObjByKeyId(t.id);return n!==Oe?n:this._throwOrNull(t,e)}_getByKeyDefault(t,e,n){let i;for(i=n instanceof Pt?this.parent:this;i instanceof Ae;){const e=i,n=e._getObjByKeyId(t.id);if(n!==Oe)return n;i=e.parent}return null!==i?i.get(t.token,e):this._throwOrNull(t,e)}get displayName(){return`ReflectiveInjector(providers: [${function(t,e){const n=new Array(t._providers.length);for(let i=0;i<t._providers.length;++i)n[i]=e(t.getProviderAtIndex(i));return n}(this,t=>' "'+t.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}Ae.INJECTOR_KEY=_e.get(jt);const Re=new lt("The presence of this token marks an injector as being the root injector.");function De(t){return!!t&&"function"==typeof t.then}function Pe(t){return!!t&&"function"==typeof t.subscribe}const Me=new lt("Application Initializer");class Ne{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();De(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const Le=new lt("AppId");function Fe(){return`${je()}${je()}${je()}`}function je(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ve=new lt("Platform Initializer"),Be=new lt("Platform ID"),Ue=new lt("appBootstrapListener");class ze{log(t){console.log(t)}warn(t){console.warn(t)}}function He(){throw new Error("Runtime compiler is not loaded")}class We{compileModuleSync(t){throw He()}compileModuleAsync(t){throw He()}compileModuleAndAllComponentsSync(t){throw He()}compileModuleAndAllComponentsAsync(t){throw He()}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class $e{}class qe{}class Ge{}function Ye(t){const e=Error(`No component factory found for ${Ct(t)}. Did you add it to @NgModule.entryComponents?`);return e[Ke]=t,e}const Ke="ngComponent";class Qe{}Qe.NULL=new class{resolveComponentFactory(t){throw Ye(t)}};class Xe{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let i=0;i<t.length;i++){const e=t[i];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Ye(t);return new Ze(e,this._ngModule)}}class Ze extends Ge{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,i){return this.factory.create(t,e,n,i||this.ngModule)}}class Je{}class tn{}let en,nn;const rn=function(){const t=gt.wtf;return!(!t||!(en=t.trace)||(nn=en.events,0))}(),sn=rn?function(t,e=null){return nn.createScope(t,e)}:(t,e)=>(function(t,e){return null}),on=rn?function(t,e){return en.leaveScope(t,e),e}:(t,e)=>e;class an extends I{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,r=t=>null,s=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(r=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(i,r,s);return t instanceof m&&t.add(o),o}}class ln{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new an(!1),this.onMicrotaskEmpty=new an(!1),this.onStable=new an(!1),this.onError=new an(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),function(t){t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,i,r,s,o)=>{try{return dn(t),e.invokeTask(i,r,s,o)}finally{pn(t)}},onInvoke:(e,n,i,r,s,o,a)=>{try{return dn(t),e.invoke(i,r,s,o,a)}finally{pn(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t.hasPendingMicrotasks=r.microTask,un(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ln.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ln.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,cn,hn,hn);try{return r.runTask(s,e,n)}finally{r.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function hn(){}const cn={};function un(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dn(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pn(t){t._nesting--,un(t)}class fn{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new an,this.onMicrotaskEmpty=new an,this.onStable=new an,this.onError=new an}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class mn{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ln.assertNotInAngularZone(),bt(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bt(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,isPeriodic:t.data.isPeriodic,delay:t.data.delay,creationLocation:t.creationLocation,xhr:t.data.target})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class gn{constructor(){this._applications=new Map,yn.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return yn.findTestabilityInTree(this,t,e)}}gn.ctorParameters=(()=>[]);let _n,yn=new class{addToWindow(t){}findTestabilityInTree(t,e,n){return null}},vn=!0,bn=!1;const wn=new lt("AllowMultipleToken");function Cn(){return bn=!0,vn}class En{constructor(t,e){this.name=t,this.token=e}}function Sn(t,e,n=[]){const i=`Platform: ${e}`,r=new lt(i);return(e=[])=>{let s=xn();if(!s||s.injector.get(wn,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0});!function(t){if(_n&&!_n.destroyed&&!_n.injector.get(wn,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_n=t.get(Tn);const e=t.get(Ve,null);e&&e.forEach(t=>t())}(jt.create({providers:t,name:i}))}return function(t){const e=xn();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function xn(){return _n&&!_n.destroyed?_n:null}class Tn{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t){return"noop"===t?new fn:("zone.js"===t?void 0:t)||new ln({enableLongStackTrace:Cn()})}(e?e.ngZone:void 0),i=[{provide:ln,useValue:n}];return n.run(()=>{const e=jt.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(ue,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>In(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const i=n();return De(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}(s,n,()=>{const t=r.injector.get(Ne);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=this.injector.get($e),i=kn({},e);return n.createCompiler([i]).compileModuleAsync(t).then(t=>this.bootstrapModuleFactory(t,i))}_moduleDoBootstrap(t){const e=t.injector.get(On);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${Ct(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function kn(t,e){return Array.isArray(e)?e.reduce(kn,t):Object.assign({},t,e)}class On{constructor(t,e,n,i,r,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Cn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new S(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new S(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{ln.assertNotInAngularZone(),bt(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ln.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=J(o,a.pipe(ot()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ge?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n instanceof Ze?null:this._injector.get(Je),r=n.create(jt.NULL,[],e||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const s=r.injector.get(mn,null);return s&&r.injector.get(gn).registerApplication(r.location.nativeElement,s),this._loadComponent(r),Cn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=On._tickScope();try{this._runningTick=!0,this._views.forEach(t=>t.detectChanges()),this._enforceNoNewChanges&&this._views.forEach(t=>t.checkNoChanges())}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1,on(t)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;In(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ue,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),In(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}function In(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}On._tickScope=sn("ApplicationRef#tick()");class An{}const Rn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();class Dn{}class Pn{constructor(t){this.nativeElement=t}}class Mn{}class Nn{constructor(){this.dirty=!0,this._results=[],this.changes=new an,this.length=0}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}[vt()](){return this._results[vt()]()}toString(){return this._results.toString()}reset(t){this._results=function t(e){return e.reduce((e,n)=>{const i=Array.isArray(n)?t(n):n;return e.concat(i)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Ln="#",Fn="NgFactory";class jn{}const Vn={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Bn{constructor(t,e){this._compiler=t,this._config=e||Vn}load(t){return this._compiler instanceof We?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split(Ln);return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>Un(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split(Ln),r=Fn;return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>Un(t,e,i))}}function Un(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class zn{}class Hn{}class Wn{}class $n{constructor(t,e){this.name=t,this.callback=e}}class qn{constructor(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof Gn?e.addChild(this):this.parent=null,this.listeners=[]}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Gn extends qn{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(t=>{t.parent&&t.parent.removeChild(t),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,i){e.childNodes.forEach(e=>{e instanceof Gn&&(n(e)&&i.push(e),t(e,n,i))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,i){e instanceof Gn&&e.childNodes.forEach(e=>{n(e)&&i.push(e),e instanceof Gn&&t(e,n,i)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof Gn)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const Yn=new Map;function Kn(t){return Yn.get(t)||null}function Qn(t){Yn.set(t.nativeNode,t)}function Xn(t,e){const n=ti(t),i=ti(e);return n&&i?function(t,e,n){const i=t[vt()](),r=e[vt()]();for(;;){const t=i.next(),e=r.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Xn):!(n||!t||"object"!=typeof t&&"function"!=typeof t||i||!e||"object"!=typeof e&&"function"!=typeof e)||wt(t,e)}class Zn{constructor(t){this.wrapped=t}static wrap(t){return new Zn(t)}static unwrap(t){return Zn.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Zn}}class Jn{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ti(t){return!!ei(t)&&(Array.isArray(t)||!(t instanceof Map)&&vt()in t)}function ei(t){return null!==t&&("function"==typeof t||"object"==typeof t)}class ni{constructor(){}supports(t){return ti(t)}create(t){return new ri(t)}}const ii=(t,e)=>e;class ri{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ii}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const s=!n||e&&e.currentIndex<li(n,i,r)?e:n,o=li(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{r||(r=[]);const t=o-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;e<=s&&s<t&&(r[n]=i+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ti(t))throw new Error(`Error trying to diff '${Ct(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)i=this._trackByFn(e,n=t[e]),null!==r&&wt(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,e)),wt(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[vt()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&wt(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,t,i,e)),wt(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(wt(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(wt(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new si(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ai),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ai),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class si{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oi{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&wt(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ai{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new oi,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function li(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class hi{constructor(t){this.factories=t}static create(t,e){if(null!=e){const n=e.factories.slice();t=t.concat(n)}return new hi(t)}static extend(t){return{provide:hi,useFactory:e=>{if(!e)throw new Error("Cannot extend IterableDiffers without a parent injector");return hi.create(t,e)},deps:[[hi,new Pt,new Rt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${t.name||typeof t}'`)}}hi.ngInjectableDef=at({providedIn:"root",factory:()=>new hi([new ni])});class ci{constructor(t){this.factories=t}static create(t,e){if(e){const n=e.factories.slice();t=t.concat(n)}return new ci(t)}static extend(t){return{provide:ci,useFactory:e=>{if(!e)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return ci.create(t,e)},deps:[[ci,new Pt,new Rt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}const ui=[new class{constructor(){}supports(t){return t instanceof Map||ei(t)}create(){return new class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ei(t)))throw new Error(`Error trying to diff '${Ct(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){wt(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}}}],di=new hi([new ni]),pi=new ci(ui),fi=Sn(null,"core",[{provide:Be,useValue:"unknown"},{provide:Tn,deps:[jt]},{provide:gn,deps:[]},{provide:ze,deps:[]}]),mi=new lt("LocaleId");function gi(){return di}function _i(){return pi}function yi(t){return t||"en-US"}class vi{constructor(t){}}class bi{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(t){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(null);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(t){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const wi=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ci=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ei(t){return(t=String(t)).match(wi)||t.match(Ci)?t:(Cn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Si(t){return(t=String(t)).split(",").map(t=>Ei(t.trim())).join(", ")}function xi(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Ti(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ki=xi("area,br,col,hr,img,wbr"),Oi=xi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ii=xi("rp,rt"),Ai=Ti(Ii,Oi),Ri=Ti(ki,Ti(Oi,xi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ti(Ii,xi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ai),Di=xi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Pi=xi("srcset"),Mi=Ti(Di,Pi,xi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"));class Ni{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Ri.hasOwnProperty(e))return void(this.sanitizedSomething=!0);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,r=e.toLowerCase();if(!Mi.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let s=t.value;Di[r]&&(s=Ei(s)),Pi[r]&&(s=Si(s)),this.buf.push(" ",e,'="',ji(s),'"')}this.buf.push(">")}endElement(t){const e=t.nodeName.toLowerCase();Ri.hasOwnProperty(e)&&!ki.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ji(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Li=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fi=/([^\#-~ |!])/g;function ji(t){return t.replace(/&/g,"&amp;").replace(Li,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Fi,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Vi;function Bi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Ui=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),zi=/^url\(([^)]+)\)$/,Hi=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class Wi{}function $i(t,e,n){const i=t.state,r=1792&i;return r===e?(t.state=-1793&i|n,t.initIndex=-1,!0):r===n}function qi(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Gi(t,e){return t.nodes[e]}function Yi(t,e){return t.nodes[e]}function Ki(t,e){return t.nodes[e]}function Qi(t,e){return t.nodes[e]}function Xi(t,e){return t.nodes[e]}const Zi={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function Ji(t,e,n,i){let r=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return tr(n,e),n}(r,t)}function tr(t,e){t[se]=e,t[ae]=e.logError.bind(e)}function er(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}const nr=()=>{},ir=new Map;function rr(t){let e=ir.get(t);return e||(e=Ct(t)+"_"+ir.size,ir.set(t,e)),e}function sr(t,e,n,i){if(Zn.isWrapped(i)){i=Zn.unwrap(i);const r=t.def.nodes[e].bindingIndex+n,s=Zn.unwrap(t.oldValues[r]);t.oldValues[r]=new Zn(s)}return i}const or="$$undefined",ar="$$empty";function lr(t){return{id:or,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let hr=0;function cr(t,e,n,i){return!(!(2&t.state)&&wt(t.oldValues[e.bindingIndex+n],i))}function ur(t,e,n,i){return!!cr(t,e,n,i)&&(t.oldValues[e.bindingIndex+n]=i,!0)}function dr(t,e,n,i){const r=t.oldValues[e.bindingIndex+n];if(1&t.state||!Xn(r,i)){const s=e.bindings[n].name;throw Ji(Zi.createDebugContext(t,e.nodeIndex),`${s}: ${r}`,`${s}: ${i}`,0!=(1&t.state))}}function pr(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function fr(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function mr(t,e,n,i){try{return pr(33554432&t.def.nodes[e].flags?Yi(t,e).componentView:t),Zi.handleEvent(t,e,n,i)}catch(e){t.root.errorHandler.handleError(e)}}function gr(t){return t.parent?Yi(t.parent,t.parentNodeDef.nodeIndex):null}function _r(t){return t.parent?t.parentNodeDef.parent:null}function yr(t,e){switch(201347067&e.flags){case 1:return Yi(t,e.nodeIndex).renderElement;case 2:return Gi(t,e.nodeIndex).renderText}}function vr(t,e){return t?`${t}:${e}`:e}function br(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function wr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Cr(t){return 1<<t%32}function Er(t){const e={};let n=0;const i={};return t&&t.forEach(([t,r])=>{"number"==typeof t?(e[t]=r,n|=Cr(t)):i[t]=r}),{matchedQueries:e,references:i,matchedQueryIds:n}}function Sr(t,e){return t.map(t=>{let n,i;return Array.isArray(t)?[i,n]=t:(i=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,Mt,{value:e,configurable:!0}),{flags:i,token:n,tokenKey:rr(n)}})}function xr(t,e,n){let i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===ie.Native?Yi(t,n.renderParent.nodeIndex).renderElement:void 0:e}const Tr=new WeakMap;function kr(t){let e=Tr.get(t);return e||((e=t(()=>nr)).factory=t,Tr.set(t,e)),e}function Or(t,e,n,i,r){3===e&&(n=t.renderer.parentNode(yr(t,t.def.lastRenderRootNode))),Ir(t,e,0,t.def.nodes.length-1,n,i,r)}function Ir(t,e,n,i,r,s,o){for(let a=n;a<=i;a++){const n=t.def.nodes[a];11&n.flags&&Rr(t,n,e,r,s,o),a+=n.childCount}}function Ar(t,e,n,i,r,s){let o=t;for(;o&&!br(o);)o=o.parent;const a=o.parent,l=_r(o),h=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=h;c++){const t=a.def.nodes[c];t.ngContentIndex===e&&Rr(a,t,n,i,r,s),c+=t.childCount}if(!a.parent){const o=t.root.projectableNodes[e];if(o)for(let e=0;e<o.length;e++)Dr(t,o[e],n,i,r,s)}}function Rr(t,e,n,i,r,s){if(8&e.flags)Ar(t,e.ngContent.index,n,i,r,s);else{const o=yr(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Dr(t,o,n,i,r,s),32&e.bindingFlags&&Dr(Yi(t,e.nodeIndex).componentView,o,n,i,r,s)):Dr(t,o,n,i,r,s),16777216&e.flags){const o=Yi(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<o.length;t++)Or(o[t],n,i,r,s)}1&e.flags&&!e.element.name&&Ir(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,i,r,s)}}function Dr(t,e,n,i,r,s){const o=t.renderer;switch(n){case 1:o.appendChild(i,e);break;case 2:o.insertBefore(i,e,r);break;case 3:o.removeChild(i,e);break;case 0:s.push(e)}}const Pr=/^:([^:]+):(.+)$/;function Mr(t){if(":"===t[0]){const e=t.match(Pr);return[e[1],e[2]]}return["",t]}function Nr(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function Lr(t,e,n,i,r,s){t|=1;const{matchedQueries:o,references:a,matchedQueryIds:l}=Er(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?kr(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||nr},provider:null,text:null,query:null,ngContent:null}}function Fr(t,e,n,i,r,s,o=[],a,l,h,c,u){h||(h=nr);const{matchedQueries:d,references:p,matchedQueryIds:f}=Er(n);let m=null,g=null;s&&([m,g]=Mr(s)),a=a||[];const _=new Array(a.length);for(let b=0;b<a.length;b++){const[t,e,n]=a[b],[i,r]=Mr(e);let s=void 0,o=void 0;switch(15&t){case 4:o=n;break;case 1:case 8:s=n}_[b]={flags:t,ns:i,name:r,nonMinifiedName:r,securityContext:s,suffix:o}}l=l||[];const y=new Array(l.length);for(let b=0;b<l.length;b++){const[t,e]=l[b];y[b]={type:0,target:t,eventName:e,propName:null}}const v=(o=o||[]).map(([t,e])=>{const[n,i]=Mr(t);return[n,i,e]});return u=function(t){if(t&&t.id===or){const e=null!=t.encapsulation&&t.encapsulation!==ie.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${hr++}`:ar}return t&&t.id===ar&&(t=null),t||null}(u),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:i,childCount:r,bindings:_,bindingFlags:Nr(_),outputs:y,element:{ns:m,name:g,attrs:v,template:null,componentProvider:null,componentView:c||null,componentRendererType:u,publicProviders:null,allProviders:null,handleEvent:h||nr},provider:null,text:null,query:null,ngContent:null}}function jr(t,e,n){const i=n.element,r=t.root.selectorOrNode,s=t.renderer;let o;if(t.parent||!r){o=i.name?s.createElement(i.name,i.ns):s.createComment("");const r=xr(t,e,n);r&&s.appendChild(r,o)}else o=s.selectRootElement(r);if(i.attrs)for(let a=0;a<i.attrs.length;a++){const[t,e,n]=i.attrs[a];s.setAttribute(o,e,n,t)}return o}function Vr(t,e,n,i){for(let r=0;r<n.outputs.length;r++){const s=n.outputs[r],o=Br(t,n.nodeIndex,vr(s.target,s.eventName));let a=s.target,l=t;"component"===s.target&&(a=null,l=e);const h=l.renderer.listen(a||i,s.eventName,o);t.disposables[n.outputIndex+r]=h}}function Br(t,e,n){return i=>mr(t,e,n,i)}function Ur(t,e,n,i){if(!ur(t,e,n,i))return!1;const r=e.bindings[n],s=Yi(t,e.nodeIndex),o=s.renderElement,a=r.name;switch(15&r.flags){case 1:!function(t,e,n,i,r,s){const o=e.securityContext;let a=o?t.root.sanitizer.sanitize(o,s):s;a=null!=a?a.toString():null;const l=t.renderer;null!=s?l.setAttribute(n,r,a,i):l.removeAttribute(n,r,i)}(t,r,o,r.ns,a,i);break;case 2:!function(t,e,n,i){const r=t.renderer;i?r.addClass(e,n):r.removeClass(e,n)}(t,o,a,i);break;case 4:!function(t,e,n,i,r){let s=t.root.sanitizer.sanitize(Hi.STYLE,r);if(null!=s){s=s.toString();const t=e.suffix;null!=t&&(s+=t)}else s=null;const o=t.renderer;null!=s?o.setStyle(n,i,s):o.removeStyle(n,i)}(t,r,o,a,i);break;case 8:!function(t,e,n,i,r){const s=e.securityContext;let o=s?t.root.sanitizer.sanitize(s,r):r;t.renderer.setProperty(n,i,o)}(33554432&e.flags&&32&r.flags?s.componentView:t,r,o,a,i)}return!0}const zr=new Object,Hr=rr(jt),Wr=rr(Ft),$r=rr(Je);function qr(t,e,n,i){return n=It(n),{index:-1,deps:Sr(i,Ct(e)),flags:t,token:e,value:n}}function Gr(t,e,n=jt.THROW_IF_NOT_FOUND){const i=ee(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const r=e.tokenKey;switch(r){case Hr:case Wr:case $r:return t}const s=t._def.providersByKey[r];if(s){let e=t._providers[s.index];return void 0===e&&(e=t._providers[s.index]=Yr(t,s)),e===zr?void 0:e}if(e.token.ngInjectableDef&&function(t,e){return null!=e.providedIn&&(function(t,n){return t._def.modules.indexOf(e.providedIn)>-1}(t)||"root"===e.providedIn&&t._def.isRoot)}(t,e.token.ngInjectableDef)){const n=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:e.token.ngInjectableDef.factory,deps:[],index:n,token:e.token},t._providers[n]=zr,t._providers[n]=Yr(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{ee(i)}}function Yr(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const i=n.length;switch(i){case 0:return new e;case 1:return new e(Gr(t,n[0]));case 2:return new e(Gr(t,n[0]),Gr(t,n[1]));case 3:return new e(Gr(t,n[0]),Gr(t,n[1]),Gr(t,n[2]));default:const r=new Array(i);for(let e=0;e<i;e++)r[e]=Gr(t,n[e]);return new e(...r)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const i=n.length;switch(i){case 0:return e();case 1:return e(Gr(t,n[0]));case 2:return e(Gr(t,n[0]),Gr(t,n[1]));case 3:return e(Gr(t,n[0]),Gr(t,n[1]),Gr(t,n[2]));default:const r=Array(i);for(let e=0;e<i;e++)r[e]=Gr(t,n[e]);return e(...r)}}(t,e.value,e.deps);break;case 2048:n=Gr(t,e.deps[0]);break;case 256:n=e.value}return n===zr||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?zr:n}function Kr(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const i=n[e];return i.viewContainerParent=null,Jr(n,e),Zi.dirtyParentQueries(i),Xr(i),i}function Qr(t,e,n){const i=e?yr(e,e.def.lastRenderRootNode):t.renderElement;Or(n,2,n.renderer.parentNode(i),n.renderer.nextSibling(i),void 0)}function Xr(t){Or(t,3,null,null,void 0)}function Zr(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jr(t,e){e>=t.length-1?t.pop():t.splice(e,1)}const ts=new Object;function es(t,e,n,i,r,s){return new ns(t,e,n,i,r,s)}class ns extends Ge{constructor(t,e,n,i,r,s){super(),this.selector=t,this.componentType=e,this._inputs=i,this._outputs=r,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,i){if(!i)throw new Error("ngModule should be provided");const r=kr(this.viewDefFactory),s=r.nodes[0].element.componentProvider.nodeIndex,o=Zi.createRootView(t,e||[],n,r,i,ts),a=Ki(o,s).instance;return n&&o.renderer.setAttribute(Yi(o,0).renderElement,"ng-version",re.full),new is(o,new as(o),a)}}class is extends qe{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new Pn(Yi(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new us(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function rs(t,e,n){return new ss(t,e,n)}class ss{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new Pn(this._data.renderElement)}get injector(){return new us(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=_r(t),t=t.parent;return t?new us(t,e):new us(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Kr(this._data,t);Zi.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new as(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const s=n||this.parentInjector;r||t instanceof Ze||(r=s.get(Je));const o=t.create(s,i,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,i){let r=e.viewContainer._embeddedViews;null!==n&&void 0!==n||(n=r.length),i.viewContainerParent=t,Zr(r,n,i),function(t,e){const n=gr(e);if(!n||n===t||16&e.state)return;e.state|=16;let i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,i),Zi.dirtyParentQueries(i),Qr(e,n>0?r[n-1]:null,i)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,i){const r=t.viewContainer._embeddedViews,s=r[n];Jr(r,n),null==i&&(i=r.length),Zr(r,i,s),Zi.dirtyParentQueries(s),Xr(s),Qr(t,i>0?r[i-1]:null,s)}(this._data,0,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Kr(this._data,t);e&&Zi.destroyView(e)}detach(t){const e=Kr(this._data,t);return e?new as(e):null}}function os(t){return new as(t)}class as{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Or(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){pr(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{Zi.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){Zi.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Zi.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Xr(this._view),Zi.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function ls(t,e){return new hs(t,e)}class hs extends zn{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new as(Zi.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new Pn(Yi(this._parentView,this._def.nodeIndex).renderElement)}}function cs(t,e){return new us(t,e)}class us{constructor(t,e){this.view=t,this.elDef=e}get(t,e=jt.THROW_IF_NOT_FOUND){return Zi.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:rr(t)},e)}}function ds(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=Yi(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return Gi(t,n.nodeIndex).renderText;if(20240&n.flags)return Ki(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function ps(t){return new fs(t.renderer)}class fs{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,i]=Mr(e),r=this.delegate.createElement(i,n);return t&&this.delegate.appendChild(t,r),r}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),i=this.delegate.nextSibling(t);for(let r=0;r<e.length;r++)this.delegate.insertBefore(n,e[r],i)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[i,r]=Mr(e);null!=n?this.delegate.setAttribute(t,r,n,i):this.delegate.removeAttribute(t,r,i)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function ms(t,e,n,i){return new gs(t,e,n,i)}class gs{constructor(t,e,n,i){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let i=0;i<e.providers.length;i++){const r=e.providers[i];4096&r.flags||void 0===n[i]&&(n[i]=Yr(t,r))}}(this)}get(t,e=jt.THROW_IF_NOT_FOUND,n=0){let i=0;return 4&n?i|=1:2&n&&(i|=4),Gr(this,{token:t,tokenKey:rr(t),flags:i},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Qe)}destroy(){if(this._destroyed)throw new Error(`The ng module ${Ct(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,i=new Set;for(let r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){const e=t._providers[r];if(e&&e!==zr){const t=e.ngOnDestroy;"function"!=typeof t||i.has(e)||(t.apply(e),i.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const _s=rr(class{}),ys=rr(Dn),vs=rr(Pn),bs=rr(Hn),ws=rr(zn),Cs=rr(Wn),Es=rr(jt),Ss=rr(Ft);function xs(t,e,n,i,r,s,o,a){const l=[];if(o)for(let c in o){const[t,e]=o[c];l[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const h=[];if(a)for(let c in a)h.push({type:1,propName:c,target:null,eventName:a[c]});return Os(t,e|=16384,n,i,r,r,s,l,h)}function Ts(t,e,n){return Os(-1,t|=16,null,0,e,e,n)}function ks(t,e,n,i,r){return Os(-1,t,e,0,n,i,r)}function Os(t,e,n,i,r,s,o,a,l){const{matchedQueries:h,references:c,matchedQueryIds:u}=Er(n);l||(l=[]),a||(a=[]),s=It(s);const d=Sr(o,Ct(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:h,matchedQueryIds:u,references:c,ngContentIndex:-1,childCount:i,bindings:a,bindingFlags:Nr(a),outputs:l,element:null,provider:{token:r,value:s,deps:d},text:null,query:null,ngContent:null}}function Is(t,e){return Ps(t,e)}function As(t,e){let n=t;for(;n.parent&&!br(n);)n=n.parent;return Ms(n.parent,_r(n),!0,e.provider.value,e.provider.deps)}function Rs(t,e){const n=Ms(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let i=0;i<e.outputs.length;i++){const r=e.outputs[i],s=n[r.propName].subscribe(Ds(t,e.parent.nodeIndex,r.eventName));t.disposables[e.outputIndex+i]=s.unsubscribe.bind(s)}return n}function Ds(t,e,n){return i=>mr(t,e,n,i)}function Ps(t,e){const n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return Ms(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,r){const s=r.length;switch(s){case 0:return i();case 1:return i(Ls(t,e,n,r[0]));case 2:return i(Ls(t,e,n,r[0]),Ls(t,e,n,r[1]));case 3:return i(Ls(t,e,n,r[0]),Ls(t,e,n,r[1]),Ls(t,e,n,r[2]));default:const o=Array(s);for(let i=0;i<s;i++)o[i]=Ls(t,e,n,r[i]);return i(...o)}}(t,e.parent,n,i.value,i.deps);case 2048:return Ls(t,e.parent,n,i.deps[0]);case 256:return i.value}}function Ms(t,e,n,i,r){const s=r.length;switch(s){case 0:return new i;case 1:return new i(Ls(t,e,n,r[0]));case 2:return new i(Ls(t,e,n,r[0]),Ls(t,e,n,r[1]));case 3:return new i(Ls(t,e,n,r[0]),Ls(t,e,n,r[1]),Ls(t,e,n,r[2]));default:const o=new Array(s);for(let i=0;i<s;i++)o[i]=Ls(t,e,n,r[i]);return new i(...o)}}const Ns={};function Ls(t,e,n,i,r=jt.THROW_IF_NOT_FOUND){if(8&i.flags)return i.token;const s=t;2&i.flags&&(r=null);const o=i.tokenKey;o===Cs&&(n=!(!e||!e.element.componentView)),e&&1&i.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(o){case _s:return ps(Fs(a,e,n));case ys:return Fs(a,e,n).renderer;case vs:return new Pn(Yi(a,e.nodeIndex).renderElement);case bs:return Yi(a,e.nodeIndex).viewContainer;case ws:if(e.element.template)return Yi(a,e.nodeIndex).template;break;case Cs:return os(Fs(a,e,n));case Es:case Ss:return cs(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[o];if(t){let e=Ki(a,t.nodeIndex);return e||(e={instance:Ps(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=br(a),e=_r(a),a=a.parent,4&i.flags&&(a=null)}const l=s.root.injector.get(i.token,Ns);return l!==Ns||r===Ns?l:s.root.ngModule.injector.get(i.token,r)}function Fs(t,e,n){let i;if(n)i=Yi(t,e.nodeIndex).componentView;else for(i=t;i.parent&&!br(i);)i=i.parent;return i}function js(t,e,n,i,r,s){if(32768&n.flags){const e=Yi(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[i].name]=r,524288&n.flags){s=s||{};const e=Zn.unwrap(t.oldValues[n.bindingIndex+i]);s[n.bindings[i].nonMinifiedName]=new Jn(e,r,0!=(2&t.state))}return t.oldValues[n.bindingIndex+i]=r,s}function Vs(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let i=0;for(let r=0;r<n.length;r++){const s=n[r];let o=s.parent;for(!o&&s.flags&e&&Us(t,r,s.flags&e,i++),0==(s.childFlags&e)&&(r+=s.childCount);o&&1&o.flags&&r===o.nodeIndex+o.childCount;)o.directChildFlags&e&&(i=Bs(t,o,e,i)),o=o.parent}}function Bs(t,e,n,i){for(let r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){const e=t.def.nodes[r];e.flags&n&&Us(t,r,e.flags&n,i++),r+=e.childCount}return i}function Us(t,e,n,i){const r=Ki(t,e);if(!r)return;const s=r.instance;s&&(Zi.setCurrentNode(t,e),1048576&n&&qi(t,512,i)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&qi(t,768,i)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}function zs(t,e,n){let i=[];for(let r in n)i.push({propName:r,bindingType:n[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Cr(e),bindings:i},ngContent:null}}function Hs(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&wr(t);){let n=t.parentNodeDef;t=t.parent;const i=n.nodeIndex+n.childCount;for(let r=0;r<=i;r++){const i=t.def.nodes[r];67108864&i.flags&&536870912&i.flags&&(i.query.filterId&e)===i.query.filterId&&Xi(t,r).setDirty(),!(1&i.flags&&r+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(r+=i.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&Xi(t,n).setDirty(),n+=e.childCount}}function Ws(t,e){const n=Xi(t,e.nodeIndex);if(!n.dirty)return;let i,r=void 0;if(67108864&e.flags){const n=e.parent.parent;r=$s(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),i=Ki(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(r=$s(t,0,t.def.nodes.length-1,e.query,[]),i=t.component);n.reset(r);const s=e.query.bindings;let o=!1;for(let a=0;a<s.length;a++){const t=s[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,o=!0}i[t.propName]=e}o&&n.notifyOnChanges()}function $s(t,e,n,i,r){for(let s=e;s<=n;s++){const e=t.def.nodes[s],n=e.matchedQueries[i.id];if(null!=n&&r.push(qs(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&i.filterId)===i.filterId){const n=Yi(t,s);if((e.childMatchedQueries&i.filterId)===i.filterId&&($s(t,s+1,s+e.childCount,i,r),s+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const s=t[e],o=gr(s);o&&o===n&&$s(s,0,s.def.nodes.length-1,i,r)}}const o=n.template._projectedViews;if(o)for(let t=0;t<o.length;t++){const e=o[t];$s(e,0,e.def.nodes.length-1,i,r)}}(e.childMatchedQueries&i.filterId)!==i.filterId&&(s+=e.childCount)}return r}function qs(t,e,n){if(null!=n)switch(n){case 1:return Yi(t,e.nodeIndex).renderElement;case 0:return new Pn(Yi(t,e.nodeIndex).renderElement);case 2:return Yi(t,e.nodeIndex).template;case 3:return Yi(t,e.nodeIndex).viewContainer;case 4:return Ki(t,e.nodeIndex).instance}}function Gs(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Ys(t,e,n){const i=xr(t,e,n);i&&Ar(t,n.ngContent.index,1,i,null,void 0)}function Ks(t,e,n){const i=new Array(n.length);for(let r=0;r<n.length;r++){const t=n[r];i[r]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:Nr(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Qs(t,e,n){const i=new Array(n.length-1);for(let r=1;r<n.length;r++)i[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Xs(t,e,n){let i;const r=t.renderer;i=r.createText(n.text.prefix);const s=xr(t,e,n);return s&&r.appendChild(s,i),{renderText:i}}function Zs(t,e){return(null!=t?t.toString():"")+e.suffix}function Js(t,e,n,i){let r=0,s=0,o=0,a=0,l=0,h=null,c=null,u=!1,d=!1,p=null;for(let f=0;f<e.length;f++){const t=e[f];if(t.nodeIndex=f,t.parent=h,t.bindingIndex=r,t.outputIndex=s,t.renderParent=c,o|=t.flags,l|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=h?h.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,u=!1,d=!1,t.element.template&&(l|=t.element.template.nodeMatchedQueries)}if(eo(h,t,e.length),r+=t.bindings.length,s+=t.outputs.length,!c&&3&t.flags&&(p=t),20224&t.flags){u||(u=!0,h.element.publicProviders=Object.create(h.element.publicProviders),h.element.allProviders=h.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?h.element.publicProviders[rr(t.provider.token)]=t:(d||(d=!0,h.element.allProviders=Object.create(h.element.publicProviders)),h.element.allProviders[rr(t.provider.token)]=t),e&&(h.element.componentProvider=t)}if(h?(h.childFlags|=t.flags,h.directChildFlags|=t.flags,h.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(h.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)h=t,to(t)||(c=t);else for(;h&&f===h.nodeIndex+h.childCount;){const t=h.parent;t&&(t.childFlags|=h.childFlags,t.childMatchedQueries|=h.childMatchedQueries),c=(h=t)&&to(h)?h.renderParent:h}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||nr,updateRenderer:i||nr,handleEvent:(t,n,i,r)=>e[n].element.handleEvent(t,i,r),bindingCount:r,outputCount:s,lastRenderRootNode:p}}function to(t){return 0!=(1&t.flags)&&null===t.element.name}function eo(t,e,n){const i=e.element&&e.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function no(t,e,n,i){const r=so(t.root,t.renderer,t,e,n);return oo(r,t.component,i),ao(r),r}function io(t,e,n){const i=so(t,t.renderer,null,null,e);return oo(i,n,n),ao(i),i}function ro(t,e,n,i){const r=e.element.componentRendererType;let s;return s=r?t.root.rendererFactory.createRenderer(i,r):t.root.renderer,so(t.root,s,t,e.element.componentProvider,n)}function so(t,e,n,i,r){const s=new Array(r.nodes.length),o=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:s,state:13,root:t,renderer:e,oldValues:new Array(r.bindingCount),disposables:o,initIndex:-1}}function oo(t,e,n){t.component=e,t.context=n}function ao(t){let e;br(t)&&(e=Yi(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,i=t.nodes;for(let r=0;r<n.nodes.length;r++){const s=n.nodes[r];let o;switch(Zi.setCurrentNode(t,r),201347067&s.flags){case 1:const n=jr(t,e,s);let a=void 0;if(33554432&s.flags){const e=kr(s.element.componentView);a=Zi.createComponentView(t,s,e,n)}Vr(t,a,s,n),o={renderElement:n,componentView:a,viewContainer:null,template:s.element.template?ls(t,s):void 0},16777216&s.flags&&(o.viewContainer=rs(t,s,o));break;case 2:o=Xs(t,e,s);break;case 512:case 1024:case 2048:case 256:(o=i[r])||4096&s.flags||(o={instance:Is(t,s)});break;case 16:o={instance:As(t,s)};break;case 16384:(o=i[r])||(o={instance:Rs(t,s)}),32768&s.flags&&oo(Yi(t,s.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new Nn;break;case 8:Ys(t,e,s),o=void 0}i[r]=o}_o(t,go.CreateViewNodes),wo(t,201326592,268435456,0)}function lo(t){uo(t),Zi.updateDirectives(t,1),yo(t,go.CheckNoChanges),Zi.updateRenderer(t,1),_o(t,go.CheckNoChanges),t.state&=-97}function ho(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,$i(t,0,256),uo(t),Zi.updateDirectives(t,0),yo(t,go.CheckAndUpdate),wo(t,67108864,536870912,0);let e=$i(t,256,512);Vs(t,2097152|(e?1048576:0)),Zi.updateRenderer(t,0),_o(t,go.CheckAndUpdate),wo(t,134217728,536870912,0),Vs(t,8388608|((e=$i(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,$i(t,768,1024)}function co(t,e,n,i,r,s,o,a,l,h,c,u,d){return 0===n?function(t,e,n,i,r,s,o,a,l,h,c,u){switch(201347067&e.flags){case 1:return function(t,e,n,i,r,s,o,a,l,h,c,u){const d=e.bindings.length;let p=!1;return d>0&&Ur(t,e,0,n)&&(p=!0),d>1&&Ur(t,e,1,i)&&(p=!0),d>2&&Ur(t,e,2,r)&&(p=!0),d>3&&Ur(t,e,3,s)&&(p=!0),d>4&&Ur(t,e,4,o)&&(p=!0),d>5&&Ur(t,e,5,a)&&(p=!0),d>6&&Ur(t,e,6,l)&&(p=!0),d>7&&Ur(t,e,7,h)&&(p=!0),d>8&&Ur(t,e,8,c)&&(p=!0),d>9&&Ur(t,e,9,u)&&(p=!0),p}(t,e,n,i,r,s,o,a,l,h,c,u);case 2:return function(t,e,n,i,r,s,o,a,l,h,c,u){let d=!1;const p=e.bindings,f=p.length;if(f>0&&ur(t,e,0,n)&&(d=!0),f>1&&ur(t,e,1,i)&&(d=!0),f>2&&ur(t,e,2,r)&&(d=!0),f>3&&ur(t,e,3,s)&&(d=!0),f>4&&ur(t,e,4,o)&&(d=!0),f>5&&ur(t,e,5,a)&&(d=!0),f>6&&ur(t,e,6,l)&&(d=!0),f>7&&ur(t,e,7,h)&&(d=!0),f>8&&ur(t,e,8,c)&&(d=!0),f>9&&ur(t,e,9,u)&&(d=!0),d){let d=e.text.prefix;f>0&&(d+=Zs(n,p[0])),f>1&&(d+=Zs(i,p[1])),f>2&&(d+=Zs(r,p[2])),f>3&&(d+=Zs(s,p[3])),f>4&&(d+=Zs(o,p[4])),f>5&&(d+=Zs(a,p[5])),f>6&&(d+=Zs(l,p[6])),f>7&&(d+=Zs(h,p[7])),f>8&&(d+=Zs(c,p[8])),f>9&&(d+=Zs(u,p[9]));const m=Gi(t,e.nodeIndex).renderText;t.renderer.setValue(m,d)}return d}(t,e,n,i,r,s,o,a,l,h,c,u);case 16384:return function(t,e,n,i,r,s,o,a,l,h,c,u){const d=Ki(t,e.nodeIndex),p=d.instance;let f=!1,m=void 0;const g=e.bindings.length;return g>0&&cr(t,e,0,n)&&(f=!0,m=js(t,d,e,0,n,m)),g>1&&cr(t,e,1,i)&&(f=!0,m=js(t,d,e,1,i,m)),g>2&&cr(t,e,2,r)&&(f=!0,m=js(t,d,e,2,r,m)),g>3&&cr(t,e,3,s)&&(f=!0,m=js(t,d,e,3,s,m)),g>4&&cr(t,e,4,o)&&(f=!0,m=js(t,d,e,4,o,m)),g>5&&cr(t,e,5,a)&&(f=!0,m=js(t,d,e,5,a,m)),g>6&&cr(t,e,6,l)&&(f=!0,m=js(t,d,e,6,l,m)),g>7&&cr(t,e,7,h)&&(f=!0,m=js(t,d,e,7,h,m)),g>8&&cr(t,e,8,c)&&(f=!0,m=js(t,d,e,8,c,m)),g>9&&cr(t,e,9,u)&&(f=!0,m=js(t,d,e,9,u,m)),m&&p.ngOnChanges(m),65536&e.flags&&qi(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,n,i,r,s,o,a,l,h,c,u);case 32:case 64:case 128:return function(t,e,n,i,r,s,o,a,l,h,c,u){const d=e.bindings;let p=!1;const f=d.length;if(f>0&&ur(t,e,0,n)&&(p=!0),f>1&&ur(t,e,1,i)&&(p=!0),f>2&&ur(t,e,2,r)&&(p=!0),f>3&&ur(t,e,3,s)&&(p=!0),f>4&&ur(t,e,4,o)&&(p=!0),f>5&&ur(t,e,5,a)&&(p=!0),f>6&&ur(t,e,6,l)&&(p=!0),f>7&&ur(t,e,7,h)&&(p=!0),f>8&&ur(t,e,8,c)&&(p=!0),f>9&&ur(t,e,9,u)&&(p=!0),p){const p=Qi(t,e.nodeIndex);let m;switch(201347067&e.flags){case 32:m=new Array(d.length),f>0&&(m[0]=n),f>1&&(m[1]=i),f>2&&(m[2]=r),f>3&&(m[3]=s),f>4&&(m[4]=o),f>5&&(m[5]=a),f>6&&(m[6]=l),f>7&&(m[7]=h),f>8&&(m[8]=c),f>9&&(m[9]=u);break;case 64:m={},f>0&&(m[d[0].name]=n),f>1&&(m[d[1].name]=i),f>2&&(m[d[2].name]=r),f>3&&(m[d[3].name]=s),f>4&&(m[d[4].name]=o),f>5&&(m[d[5].name]=a),f>6&&(m[d[6].name]=l),f>7&&(m[d[7].name]=h),f>8&&(m[d[8].name]=c),f>9&&(m[d[9].name]=u);break;case 128:const t=n;switch(f){case 1:m=t.transform(n);break;case 2:m=t.transform(i);break;case 3:m=t.transform(i,r);break;case 4:m=t.transform(i,r,s);break;case 5:m=t.transform(i,r,s,o);break;case 6:m=t.transform(i,r,s,o,a);break;case 7:m=t.transform(i,r,s,o,a,l);break;case 8:m=t.transform(i,r,s,o,a,l,h);break;case 9:m=t.transform(i,r,s,o,a,l,h,c);break;case 10:m=t.transform(i,r,s,o,a,l,h,c,u)}}p.value=m}return p}(t,e,n,i,r,s,o,a,l,h,c,u);default:throw"unreachable"}}(t,e,i,r,s,o,a,l,h,c,u,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let i=!1;for(let r=0;r<n.length;r++)Ur(t,e,r,n[r])&&(i=!0);return i}(t,e,n);case 2:return function(t,e,n){const i=e.bindings;let r=!1;for(let s=0;s<n.length;s++)ur(t,e,s,n[s])&&(r=!0);if(r){let r="";for(let t=0;t<n.length;t++)r+=Zs(n[t],i[t]);r=e.text.prefix+r;const s=Gi(t,e.nodeIndex).renderText;t.renderer.setValue(s,r)}return r}(t,e,n);case 16384:return function(t,e,n){const i=Ki(t,e.nodeIndex),r=i.instance;let s=!1,o=void 0;for(let a=0;a<n.length;a++)cr(t,e,a,n[a])&&(s=!0,o=js(t,i,e,a,n[a],o));return o&&r.ngOnChanges(o),65536&e.flags&&qi(t,256,e.nodeIndex)&&r.ngOnInit(),262144&e.flags&&r.ngDoCheck(),s}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const i=e.bindings;let r=!1;for(let s=0;s<n.length;s++)ur(t,e,s,n[s])&&(r=!0);if(r){const r=Qi(t,e.nodeIndex);let s;switch(201347067&e.flags){case 32:s=n;break;case 64:s={};for(let e=0;e<n.length;e++)s[i[e].name]=n[e];break;case 128:const t=n[0],r=n.slice(1);s=t.transform(...r)}r.value=s}return r}(t,e,n);default:throw"unreachable"}}(t,e,i)}function uo(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const i=e.nodes[n];if(4&i.flags){const e=Yi(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const i=e[n];i.state|=32,fr(i,t)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function po(t,e,n,i,r,s,o,a,l,h,c,u,d){return 0===n?function(t,e,n,i,r,s,o,a,l,h,c,u){const d=e.bindings.length;d>0&&dr(t,e,0,n),d>1&&dr(t,e,1,i),d>2&&dr(t,e,2,r),d>3&&dr(t,e,3,s),d>4&&dr(t,e,4,o),d>5&&dr(t,e,5,a),d>6&&dr(t,e,6,l),d>7&&dr(t,e,7,h),d>8&&dr(t,e,8,c),d>9&&dr(t,e,9,u)}(t,e,i,r,s,o,a,l,h,c,u,d):function(t,e,n){for(let i=0;i<n.length;i++)dr(t,e,i,n[i])}(t,e,i),!1}function fo(t,e){if(Xi(t,e.nodeIndex).dirty)throw Ji(Zi.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function mo(t){if(!(128&t.state)){if(yo(t,go.Destroy),_o(t,go.Destroy),Vs(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=gr(t);if(e){const n=e.template._projectedViews;n&&(Jr(n,n.indexOf(t)),Zi.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(Yi(t,n).renderElement):2&e.flags?t.renderer.destroyNode(Gi(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&Xi(t,n).destroy()}}(t),br(t)&&t.renderer.destroy(),t.state|=128}}const go=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function _o(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];33554432&r.flags?vo(Yi(t,i).componentView,e):0==(33554432&r.childFlags)&&(i+=r.childCount)}}function yo(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];if(16777216&r.flags){const n=Yi(t,i).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)vo(n[t],e)}else 0==(16777216&r.childFlags)&&(i+=r.childCount)}}function vo(t,e){const n=t.state;switch(e){case go.CheckNoChanges:0==(128&n)&&(12==(12&n)?lo(t):64&n&&bo(t,go.CheckNoChangesProjectedViews));break;case go.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?lo(t):64&n&&bo(t,e));break;case go.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ho(t):64&n&&bo(t,go.CheckAndUpdateProjectedViews));break;case go.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ho(t):64&n&&bo(t,e));break;case go.Destroy:mo(t);break;case go.CreateViewNodes:ao(t)}}function bo(t,e){yo(t,e),_o(t,e)}function wo(t,e,n,i){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const r=t.def.nodes.length;for(let s=0;s<r;s++){const r=t.def.nodes[s];if(r.flags&e&&r.flags&n)switch(Zi.setCurrentNode(t,r.nodeIndex),i){case 0:Ws(t,r);break;case 1:fo(t,r)}r.childFlags&e&&r.childFlags&n||(s+=r.childCount)}}let Co=!1;function Eo(t,e,n,i,r,s){return io(xo(t,r,r.injector.get(An),e,n),i,s)}function So(t,e,n,i,r,s){const o=r.injector.get(An),a=xo(t,r,new oa(o),e,n),l=No(i);return ra(Uo.create,io,null,[a,l,s])}function xo(t,e,n,i,r){const s=e.injector.get(Wi),o=e.injector.get(ue);return{ngModule:e,injector:t,projectableNodes:i,selectorOrNode:r,sanitizer:s,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:o}}function To(t,e,n,i){const r=No(n);return ra(Uo.create,no,null,[t,e,r,i])}function ko(t,e,n,i){return n=Ro.get(e.element.componentProvider.provider.token)||No(n),ra(Uo.create,ro,null,[t,e,n,i])}function Oo(t,e,n,i){return ms(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===Io.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const i=Io.get(t.token);3840&t.flags&&i&&(e=!0,n=n||i.deprecatedBehavior)}),t.modules.forEach(t=>{Ao.forEach((i,r)=>{r.ngInjectableDef.providedIn===t&&(e=!0,n=n||i.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const i=t.providers[e];n&&(i.flags|=4096);const r=Io.get(i.token);r&&(i.flags=-3841&i.flags|r.flags,i.deps=Sr(r.deps),i.value=r.value)}if(Ao.size>0){let e=new Set(t.modules);Ao.forEach((i,r)=>{if(e.has(r.ngInjectableDef.providedIn)){let e={token:r,flags:i.flags|(n?4096:0),deps:Sr(i.deps),value:i.value,index:t.providers.length};t.providers.push(e),t.providersByKey[rr(r)]=e}})}}(t=t.factory(()=>nr)),t):t}(i))}const Io=new Map,Ao=new Map,Ro=new Map;function Do(t){Io.set(t.token,t),"function"==typeof t.token&&t.token.ngInjectableDef&&"function"==typeof t.token.ngInjectableDef.providedIn&&Ao.set(t.token,t)}function Po(t,e){const n=kr(kr(e.viewDefFactory).nodes[0].element.componentView);Ro.set(t,n)}function Mo(){Io.clear(),Ao.clear(),Ro.clear()}function No(t){if(0===Io.size)return t;const e=function(t){const e=[];let n=null;for(let i=0;i<t.nodes.length;i++){const r=t.nodes[i];1&r.flags&&(n=r),n&&3840&r.flags&&Io.has(r.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>nr);for(let i=0;i<e.length;i++)n(t,e[i]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=Io.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=Sr(n.deps),t.value=n.value)}}}}function Lo(t,e,n,i,r,s,o,a,l,h,c,u,d){const p=t.def.nodes[e];return co(t,p,n,i,r,s,o,a,l,h,c,u,d),224&p.flags?Qi(t,e).value:void 0}function Fo(t,e,n,i,r,s,o,a,l,h,c,u,d){const p=t.def.nodes[e];return po(t,p,n,i,r,s,o,a,l,h,c,u,d),224&p.flags?Qi(t,e).value:void 0}function jo(t){return ra(Uo.detectChanges,ho,null,[t])}function Vo(t){return ra(Uo.checkNoChanges,lo,null,[t])}function Bo(t){return ra(Uo.destroy,mo,null,[t])}const Uo=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let zo,Ho,Wo;function $o(t,e){Ho=t,Wo=e}function qo(t,e,n,i){return $o(t,e),ra(Uo.handleEvent,t.def.handleEvent,null,[t,e,n,i])}function Go(t,e){if(128&t.state)throw er(Uo[zo]);return $o(t,ta(t,0)),t.def.updateDirectives(function(t,n,i,...r){const s=t.def.nodes[n];return 0===e?Ko(t,s,i,r):Qo(t,s,i,r),16384&s.flags&&$o(t,ta(t,n)),224&s.flags?Qi(t,s.nodeIndex).value:void 0},t)}function Yo(t,e){if(128&t.state)throw er(Uo[zo]);return $o(t,ea(t,0)),t.def.updateRenderer(function(t,n,i,...r){const s=t.def.nodes[n];return 0===e?Ko(t,s,i,r):Qo(t,s,i,r),3&s.flags&&$o(t,ea(t,n)),224&s.flags?Qi(t,s.nodeIndex).value:void 0},t)}function Ko(t,e,n,i){if(co(t,e,n,...i)){const r=1===n?i[0]:i;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const i=e.bindings[t],s=r[t];8&i.flags&&(n[Xo(i.nonMinifiedName)]=Jo(s))}const i=e.parent,s=Yi(t,i.nodeIndex).renderElement;if(i.element.name)for(let e in n){const i=n[e];null!=i?t.renderer.setAttribute(s,e,i):t.renderer.removeAttribute(s,e)}else t.renderer.setValue(s,`bindings=${JSON.stringify(n,null,2)}`)}}}function Qo(t,e,n,i){po(t,e,n,...i)}function Xo(t){return`ng-reflect-${t=t.replace(/[$@]/g,"_").replace(Zo,(...t)=>"-"+t[1].toLowerCase())}`}const Zo=/([A-Z])/g;function Jo(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function ta(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function ea(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class na{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,i=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=_r(i),i=i.parent;this.elDef=n,this.elView=i}get elOrCompView(){return Yi(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return cs(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){ia(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&ia(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!br(t);)t=t.parent;return t.parent?Yi(t.parent,_r(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?yr(this.view,this.nodeDef):yr(this.elView,this.elDef)}logError(t,...e){let n,i;2&this.nodeDef.flags?(n=this.view.def,i=this.nodeDef.nodeIndex):(n=this.elView.def,i=this.elDef.nodeIndex);const r=function(t,e){let n=-1;for(let i=0;i<=e;i++)3&t.nodes[i].flags&&n++;return n}(n,i);let s=-1;n.factory(()=>++s===r?t.error.bind(t,...e):nr),s<r&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function ia(t,e,n){for(let i in e.references)n[i]=qs(t,e,e.references[i])}function ra(t,e,n,i){const r=zo,s=Ho,o=Wo;try{zo=t;const a=e.apply(n,i);return Ho=s,Wo=o,zo=r,a}catch(t){if(le(t)||!Ho)throw t;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),tr(t,e),t}(t,sa())}}function sa(){return Ho?new na(Ho,Wo):null}class oa{constructor(t){this.delegate=t}createRenderer(t,e){return new aa(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class aa{constructor(t){this.delegate=t,this.data=this.delegate.data}destroyNode(t){!function(t){Yn.delete(t.nativeNode)}(Kn(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),i=sa();if(i){const e=new Gn(n,null,i);e.name=t,Qn(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=sa();return n&&Qn(new qn(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=sa();return n&&Qn(new qn(e,null,n)),e}appendChild(t,e){const n=Kn(t),i=Kn(e);n&&i&&n instanceof Gn&&n.addChild(i),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const i=Kn(t),r=Kn(e),s=Kn(n);i&&r&&i instanceof Gn&&i.insertBefore(s,r),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=Kn(t),i=Kn(e);n&&i&&n instanceof Gn&&n.removeChild(i),this.delegate.removeChild(t,e)}selectRootElement(t){const e=this.delegate.selectRootElement(t),n=sa();return n&&Qn(new Gn(e,null,n)),e}setAttribute(t,e,n,i){const r=Kn(t);r&&r instanceof Gn&&(r.attributes[i?i+":"+e:e]=n),this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){const i=Kn(t);i&&i instanceof Gn&&(i.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=Kn(t);n&&n instanceof Gn&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=Kn(t);n&&n instanceof Gn&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,i){const r=Kn(t);r&&r instanceof Gn&&(r.styles[e]=n),this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){const i=Kn(t);i&&i instanceof Gn&&(i.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const i=Kn(t);i&&i instanceof Gn&&(i.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const i=Kn(t);i&&i.listeners.push(new $n(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}"undefined"==typeof ngDevMode&&("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||"undefined"!=typeof global&&global);const la=Element.prototype,ha=la.matches||la.matchesSelector||la.mozMatchesSelector||la.msMatchesSelector||la.oMatchesSelector||la.webkitMatchesSelector,ca={schedule(t,e){const n=setTimeout(t,e);return()=>clearTimeout(n)},scheduleBeforeRender(t){if("undefined"==typeof window)return ca.schedule(t,0);if(void 0===window.requestAnimationFrame)return ca.schedule(t,16);const e=window.requestAnimationFrame(t);return()=>window.cancelAnimationFrame(e)}};function ua(t,e,n){let i=n;return function(t){return t.nodeType===Node.ELEMENT_NODE}(t)&&e.some((e,n)=>!("*"===e||!function(e,n){return ha.call(t,n)}(0,e)||(i=n,0))),i}const da=10;class pa{constructor(t,e){this.component=t,this.injector=e,this.componentFactory=e.get(Qe).resolveComponentFactory(t)}create(t){return new fa(this.componentFactory,t)}}class fa{constructor(t,e){this.componentFactory=t,this.injector=e,this.inputChanges=null,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.uninitializedInputs=new Set}connect(t){if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);this.componentRef||this.initializeComponent(t)}disconnect(){this.componentRef&&null===this.scheduledDestroyFn&&(this.scheduledDestroyFn=ca.schedule(()=>{this.componentRef&&(this.componentRef.destroy(),this.componentRef=null)},da))}getInputValue(t){return this.componentRef?this.componentRef.instance[t]:this.initialInputValues.get(t)}setInputValue(t,e){(function(t,e){return t===e||t!=t&&e!=e})(e,this.getInputValue(t))||(this.componentRef?(this.recordInputChange(t,e),this.componentRef.instance[t]=e,this.scheduleDetectChanges()):this.initialInputValues.set(t,e))}initializeComponent(t){const e=jt.create({providers:[],parent:this.injector}),n=function(e,n){const i=t.childNodes,r=n.map(()=>[]);let s=-1;n.some((t,e)=>"*"===t&&(s=e,!0));for(let t=0,o=i.length;t<o;++t){const e=i[t],o=ua(e,n,s);-1!==o&&r[o].push(e)}return r}(0,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,n,t),this.implementsOnChanges=function(t){return"function"==typeof t}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(),this.detectChanges(),this.injector.get(On).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:t})=>{const e=this.initialInputValues.get(t);e?this.setInputValue(t,e):this.uninitializedInputs.add(t)}),this.initialInputValues.clear()}initializeOutputs(){const t=this.componentFactory.outputs.map(({propName:t,templateName:e})=>this.componentRef.instance[t].pipe(H(t=>({name:e,value:t}))));this.events=J(...t)}callNgOnChanges(){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,this.componentRef.instance.ngOnChanges(t)}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=ca.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(t,e){if(this.componentRef&&!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const n=this.inputChanges[t];if(n)return void(n.currentValue=e);const i=this.uninitializedInputs.has(t);this.uninitializedInputs.delete(t);const r=i?void 0:this.getInputValue(t);this.inputChanges[t]=new Jn(r,e,i)}detectChanges(){this.componentRef&&(this.callNgOnChanges(),this.componentRef.changeDetectorRef.detectChanges())}}class ma extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}const ga=!1;class _a{constructor(t,e){this.childPermissions=null,this.path=t?t.slice():[],this.capabilities=e?new Set(e):new Set}setCapabilities(t,e){null===t?(this.capabilities.clear(),e.forEach(t=>{this.capabilities.add(t)})):this.getPermissions(t).setCapabilities(null,e)}getPermissions(t){const e=[],n=Math.min(this.path.length,t.length);for(let r=0;r<n&&this.path[r]===t[r];r++)e.push(t[r]);const i=()=>{const t=this.path,n=this.capabilities,i=this.childPermissions;this.path=e,this.capabilities=new Set,this.childPermissions=null,this.addPermissions(t,n,i)};if(e.length<n)return i(),this.getPermissions(t);if(this.path.length===t.length)return this;if(this.path.length>t.length)return i(),this;if(this.childPermissions){const e=this.childPermissions.get(t[n]);if(e)return e.getPermissions(t)}return this.addPermissions(t)}addPermissions(t,e,n){const i=new _a(t,e);return n&&(i.childPermissions=n),this.childPermissions||(this.childPermissions=new Map),this.childPermissions.set(t[this.path.length],i),i}hasCapability(t,e){if(ga&&console.log("-- Permissions.hasCapability - capabilityName",e,this.capabilities,t),this.path.length>t.length)return ga&&console.log("Permissions.hasCapability - this.path.length > path.length",this.path,t),!1;for(let n=0;n<this.path.length;n++)if(this.path[n]!==t[n])return ga&&console.log("Permissions.hasCapability - this.path[index] !== path[index]",n,this.path,t),!1;if(this.capabilities.has(e))return!0;if(this.path.length===t.length)return ga&&console.log("Permissions.hasCapability - this.path.length === path.length",this.path,t),!1;if(this.childPermissions){ga&&console.log("Permissions.hasCapability - childPermissions",this.childPermissions);const n=this.childPermissions.get(t[this.path.length]);if(n)return n.hasCapability(t,e)}return!1}objectify(){const t=[];this.capabilities.forEach(e=>{t.push(e)});const e=Object.create(null);if(e.path=this.path,e.capabilities=t,this.childPermissions){const t=Object.create(null);this.childPermissions.forEach((e,n)=>{t[n]=e.objectify()}),e.childPermissions=t}return e}}_a.CanAdd="CanAdd",_a.CanRemove="CanRemove",_a.CanUpdate="CanUpdate";class ya{constructor(){this.permissions=new _a}setCapabilities(t,e){this.permissions.setCapabilities(t,e)}hasCapability(t,e){return this.permissions.hasCapability(t,e)}updateableProperties(t,e){if(!t)return;let n;e||(e=[]);const i=(t,e)=>{e&&(n||(n={}),n[t]=e)};return Object.keys(t).forEach(n=>{const r=t[n];e.push(n);try{if("object"!=typeof r)return void(this.hasCapability(e,_a.CanUpdate)?i(n,r):console.warn("cannot update publication capability",e));i(n,this.updateableProperties(r,e))}catch(t){console.error("failure occurred processing branch path="+e.join("/"),t)}finally{e.pop()}}),n}objectify(){const t=Object.create(null);return t.permissions=this.permissions.objectify(),t}log(t){t?console.log(t,this.objectify()):console.log(this.objectify())}getClassRef(){return this.constructor.name}}class va{static getModuleId(t,e){return"string"==typeof t?t.replace("app/tns_modules/@mbd/stack/",""):e.length?"app/"+e+"/":"app/"}setAppTitle(t){this.appTitle=t}getAppTitle(){return this.appTitle}}class ba{}class wa{constructor(t,e){this.message=t,this.parameter=e}}class Ca{constructor(){this.errorsSubject=new I,this.errors=this.errorsSubject.asObservable()}handleError(t,e){this.errorsSubject.next([new wa(t,e)]),this.hasError=!0,e?console.error(t,e):console.error(t)}handleErrors(t){}resetErrors(){this.hasError=!1,this.errorsSubject.next()}getHasError(){return this.hasError}}class Ea{}const Sa=new S(t=>t.complete());function xa(t){return t?function(t){return new S(e=>t.schedule(()=>e.complete()))}(t):Sa}function Ta(t){const e=new S(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function ka(...t){let e=t[t.length-1];switch(R(e)?t.pop():e=void 0,t.length){case 0:return xa(e);case 1:return e?q(t,e):Ta(t[0]);default:return q(t,e)}}class Oa extends m{constructor(t,e){super()}schedule(t,e=0){return this}}class Ia extends Oa{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(t){n=!0,i=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class Aa{constructor(t,e=Aa.now){this.SchedulerAction=t,this.now=e}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}Aa.now=(()=>Date.now());class Ra extends Aa{constructor(t,e=Aa.now){super(t,()=>Ra.delegate&&Ra.delegate!==this?Ra.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Ra.delegate&&Ra.delegate!==this?Ra.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const Da=new class extends Ra{}(class extends Ia{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}});function Pa(t,e){return new S(e?n=>e.schedule(Ma,0,{error:t,subscriber:n}):e=>e.error(t))}function Ma({error:t,subscriber:e}){e.error(t)}class Na{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return ka(this.value);case"E":return Pa(this.error);case"C":return xa()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new Na("N",t):Na.undefinedValueNotification}static createError(t){return new Na("E",void 0,t)}static createComplete(){return Na.completeNotification}}Na.completeNotification=new Na("C"),Na.undefinedValueNotification=new Na("N",void 0);class La extends y{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.add(this.scheduler.schedule(La.dispatch,this.delay,new Fa(t,this.destination)))}_next(t){this.scheduleMessage(Na.createNext(t))}_error(t){this.scheduleMessage(Na.createError(t))}_complete(){this.scheduleMessage(Na.createComplete())}}class Fa{constructor(t,e){this.notification=t,this.destination=e}}class ja extends I{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new Va(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let s;if(this.closed)throw new T;if(this.isStopped||this.hasError?s=m.EMPTY:(this.observers.push(t),s=new k(this,t)),i&&t.add(t=new La(t,i)),e)for(let o=0;o<r&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<r&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Da).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(t-i[s].time<n);)s++;return r>e&&(s=Math.max(s,r-e)),s>0&&i.splice(0,s),i}}class Va{constructor(t,e){this.time=t,this.value=e}}const Ba=!1;class Ua{constructor(t){this.entityName=t}getEntitySource(t,e){if(Ba&&console.log(this.getClassRef()+".getEntitySource",{subscriber:t,componentType:t.componentType,entityProvider:e,container:this.container,entityParams:this.entityParams,router:this.router}),2===t.componentType){if(!this.container)throw new Error(this.getClassRef()+".getEntitySource - container not set: "+t.getClassRef());return this.container.selectedEntity}if(!this.entityName)throw new Error(this.getClassRef()+".getEntitySource - entityName not set: "+t.getClassRef());return this.entitySource||(this.entitySource=this.createEntitySource(t,e)),this.entitySource}initEntity(t,e){return Ba&&console.log(this.getClassRef()+".initEntity",{subscriber:t,entity:e}),!0}createEntitySource(t,e){if(this.entityParams)return this.providedEntitySource(t,e);const n=this.resolveEntityRoute(t);if(n)return this.routeEntitySource(t,n);throw new Error(this.getClassRef()+".createEntitySource - entityParams|route unavailable, entityName="+this.entityName)}routeEntitySource(t,e){if(!e)throw new Error(this.getClassRef()+".routeEntitySource - entity '"+this.entityName+"' route not found: "+t.getClassRef());Ba&&console.log(this.getClassRef()+".routeEntitySource",{entityName:this.entityName,subscriber:t});const n=this.createEntitySubject();return e.data.subscribe(t=>{Ba&&console.log(this.getClassRef()+".routeEntitySource - data",{entityName:this.entityName,data:t,dataEntry:t[this.entityName]}),n.next(t[this.entityName])},t=>{console.error(this.getClassRef()+".routeEntitySource - subscription failure",t)}),n.asObservable()}providedEntitySource(t,e){if(!e)throw new Error(this.getClassRef()+".providedEntitySource - entity '"+this.entityName+"' entityProvider not found: "+t.getClassRef());return Ba&&console.log(this.getClassRef()+".providedEntitySource",{entityName:this.entityName,subscriber:t,container:this.container,containerEntity:this.container?this.container.containerEntity:void 0}),ka(e.getEntity(this.getProvidedParams()))}getProvidedParams(){const t=this.entityParams?this.entityParams:{};return this.container&&(t.parent=this.container.containerEntity),t.entityData&&(t.entityData.meta.created=12345),t}createEntitySubject(){return new ja(1)}resolveEntityRoute(t){let e=t.route;for(;e;){if(e.snapshot.data[this.entityName])return e;e=e.parent}}resolveRouteData(t,e){for(;t;){const n=t.data[e];if(n)return n;t=t.parent}}getRouteSegments(){return"/"===this.router.url?[]:this.router.url.substring(1).split("/")}getClassRef(){return this.constructor.name}}const za=!1;class Ha extends Ua{constructor(t,e,n){super("selected-"+e.entityName),this.selectedComponent=t,this.proxiedContext=e,this.routeDataName=n,this.router=e.router,this.container=e.container,za&&console.log(this.getClassRef()+".constructor",{selectedComponent:t,proxiedContext:e})}getEntitySource(t,e){return za&&console.log(this.getClassRef()+".getEntitySource",{subscriber:t,selectedComponent:this.selectedComponent,container:this.container,containerEntity:this.container?this.container.containerEntity:void 0,proxiedContext:this.proxiedContext}),this.proxiedContext.container.selectedEntity}get route(){return this.selectedComponent.route}get routeName(){return this.routeDataName?this.routeDataName:this.proxiedContext.entityName}get selectedEntity(){return this.selectedComponent.selectedEntity}}class Wa extends Error{constructor(){super("no elements in sequence"),this.name="EmptyError",Object.setPrototypeOf(this,Wa.prototype)}}function $a(t,e){return function(n){return n.lift(new qa(t,e))}}class qa{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ga(t,this.predicate,this.thisArg))}}class Ga extends y{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)}}class Ya extends Error{constructor(){super("argument out of range"),this.name="ArgumentOutOfRangeError",Object.setPrototypeOf(this,Ya.prototype)}}function Ka(t){return e=>0===t?xa():e.lift(new Qa(t))}class Qa{constructor(t){if(this.total=t,this.total<0)throw new Ya}call(t,e){return e.subscribe(new Xa(t,this.total))}}class Xa extends y{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Za(t=null){return e=>e.lift(new Ja(t))}class Ja{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new tl(t,this.defaultValue))}}class tl extends y{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function el(t,e,n){return function(i){return i.lift(new nl(t,e,n))}}class nl{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new il(t,this.nextOrObserver,this.error,this.complete))}}class il extends y{constructor(t,e,n,r){super(t),this._tapNext=w,this._tapError=w,this._tapComplete=w,this._tapError=n||w,this._tapComplete=r||w,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||w,this._tapError=e.error||w,this._tapComplete=e.complete||w)}_next(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const rl=(t=function(){return new Wa})=>el({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function sl(t,e){const n=arguments.length>=2;return i=>i.pipe(t?$a((e,n)=>t(e,n,i)):X,Ka(1),n?Za(e):rl(()=>new Wa))}const ol=!1;class al extends Ua{initEntity(t,e){return!!super.initEntity(t,e)&&(e.ready.pipe(sl()).subscribe(n=>{n&&this.handleNavigation(t,e)}),!0)}handleNavigation(t,e){const n=this.getRouteSegments(),i=e.getPath(!0,!0).split("/");ol&&console.log(this.getClassRef()+".handleNavigation",{subscriber:t,entity:e,routeSegments:n,pathSegments:i}),n.length<=i.length?e.selectedChildId?this.navigateToChild(t,e,n,e.selectedChildId):this.navigateToTopChild(t,e,n):(ol&&console.log(this.getClassRef()+".handleNavigation",{selectedChildId:n[i.length]}),e.data.meta.selected=n[i.length])}navigateToTopChild(t,e,n){ol&&console.log(this.getClassRef()+".navigateToTopChild",{pathSegments:n});const i=e.getNumChildren()-1;if(-1!==i){const r=e.getChildAtIndex(i).id;ol&&console.log(this.getClassRef()+".navigateToTopChild",{selectedChildId:r}),e.data.meta.selected=r,this.navigateToChild(t,e,n,r)}}navigateToChild(t,e,n,i){if(ol&&console.log(this.getClassRef()+".navigateToChild",{pathSegments:n.join("/"),entityPath:e.getPath(!0),childId:i}),n.join("/")===e.getPath(!0)){const t=n.slice();t.push(i),this.router.navigate(t,{skipLocationChange:!0})}}}class ll{constructor(t){this.router=t}resolve(t,e){throw new Error(this.getClassRef()+" - resolve method unimplmented")}getClassRef(){return this.constructor.name}}class hl{}class cl{constructor(t,e){this.entity=t,this.type=e}set state(t){this.entityState=t,this.player&&(t.player=this.getPlayerState(t),this.player.updateState(t))}get state(){return this.entityState}get selected(){return!this.entity.parent||this.entity.parent.selectedChildId===this.entity.id}getPlayerState(t){return t.player?t.player:{currentTime:0,duration:-1,autoPlay:!0}}getClassRef(){return this.constructor.name}}class ul{constructor(t){this.parentProvider=t,this.contentComponentTypes=new Map,this.contentFactories=new Map}setContentComponentType(t,e){e?this.contentComponentTypes.set(t,e):this.contentComponentTypes.delete(t)}getComponentType(t){let e=this.contentComponentTypes.get(t);return!e&&this.parentProvider&&(e=this.parentProvider.getComponentType(t)),e}setContentFactory(t,e){this.contentFactories.set(t,e)}getEntityContent(t,e){let n=e;for(;n;){const i=this.getContentFactory(n);if(i)return i(t,e);n=this.loosenContentType(n)}}getContentFactory(t){const e=this.contentFactories.get(t);return e||(!e&&this.parentProvider?this.parentProvider.getContentFactory(t):e)}loosenContentType(t){t.endsWith("/*")&&(t=t.slice(0,t.length-2));const e=t.lastIndexOf("/");if(-1!==e)return t.substring(0,e+1)+"*"}getClassRef(){return this.constructor.name}}class dl extends ul{constructor(){super()}}function pl(){throw Error("Host already has a portal attached")}class fl{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&pl(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ml extends fl{constructor(t,e,n){super(),this.component=t,this.viewContainerRef=e,this.injector=n}}class gl extends fl{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class _l{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&pl(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof ml?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof gl?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class yl extends _l{constructor(t,e,n,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i}attachComponentPortal(t){let e,n=this._componentFactoryResolver.resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.parentInjector),this.setDisposeFn(()=>e.destroy())):(e=n.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn(()=>{this._appRef.detachView(e.hostView),e.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(e)),e}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class vl extends gl{constructor(t,e){super(t,e)}}class bl extends _l{constructor(t,e){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new an}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=this._componentFactoryResolver.resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.parentInjector);return super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}}class wl{}class Cl{constructor(t,e){this._parentInjector=t,this._customTokens=e}get(t,e){const n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)}}const El=!1;class Sl{constructor(t,e){this.contentProvider=t,this.route=e,El&&console.log(this.getClassRef()+".constructor",{contentProvider:t,route:e})}ngOnInit(){if(!this.entity)return void console.error(this.getClassRef()+".ngOnInit - entity not set");if(!this.entityActions)return void console.error(this.getClassRef()+".ngOnInit - entityActions not set");let t;this.entity.content?this.content=this.entity.content:(t=this.getEntityContentType())&&(this.content=this.contentProvider.getEntityContent(this.entity,t),this.content?(this.entity.content=this.content,this.content.state=this.entity.data.state):console.warn(this.getClassRef()+".ngOnInit - entity content not found for contentType: "+t));const e=this.getComponentContentType();let n;e&&((n=this.contentProvider.getComponentType(e))?this.componentPortal=new ml(n):console.warn(this.getClassRef()+".ngOnInit - component type not found for contentType: "+e)),El&&console.log(this.getClassRef()+".ngOnInit",{entity:this.entity,entityActions:this.entityActions,entityContentType:t,content:this.content,contentState:this.content?this.content.state:void 0,componentContentType:e,componentType:n,componentPortal:this.componentPortal})}componentAttached(t){El&&console.log(this.getClassRef()+".componentAttached",{componentRef:t,instance:t.instance}),t.instance.content=this.content,t.instance.actions=this.entityActions}getEntityContentType(){return this.entity.data.meta.contentType}getComponentContentType(){return this.entity.data.meta.contentType}getClassRef(){return this.constructor.name}}class xl{}function Tl(t){return null!=t&&"false"!==`${t}`}function kl(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Ol(t){return Array.isArray(t)?t:[t]}function Il(t){return null==t?"":"string"==typeof t?t:`${t}px`}class Al{}const Rl=new lt("Location Initialized");class Dl{}const Pl=new lt("appBaseHref");class Ml{constructor(t){this._subject=new an,this._platformStrategy=t;const e=this._platformStrategy.getBaseHref();this._baseHref=Ml.stripTrailingSlash(Nl(e)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Ml.normalizeQueryParams(e))}normalize(t){return Ml.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Nl(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function Nl(t){return t.replace(/\/index.html$/,"")}class Ll extends Dl{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Ml.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+Ml.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+Ml.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class Fl extends Dl{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ml.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Ml.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+Ml.normalizeQueryParams(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+Ml.normalizeQueryParams(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}var jl=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];const Vl={},Bl=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),Ul=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,zl=new lt("UseV4Plurals");class Hl{}class Wl extends Hl{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){const e=t.toLowerCase().replace(/_/g,"-");let n=Vl[e];if(n)return n;const i=e.split("-")[0];if(n=Vl[i])return n;if("en"===i)return jl;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[18]}(e||this.locale)(t)){case Bl.Zero:return"zero";case Bl.One:return"one";case Bl.Two:return"two";case Bl.Few:return"few";case Bl.Many:return"many";default:return"other"}}}class $l{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._initialClasses=[]}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(ti(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ct(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}class ql{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Gl{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Cn()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${t}' of type '${t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ql(null,this._ngForOf,-1,-1),i),r=new Yl(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(n);else{const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new Yl(t,r);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}}class Yl{constructor(t,e){this.record=t,this.view=e}}class Kl{constructor(t,e){this._viewContainer=t,this._context=new Ql,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Xl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Xl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class Ql{constructor(){this.$implicit=null,this.ngIf=null}}function Xl(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ct(e)}'.`)}class Zl{constructor(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}}function Jl(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Ct(t)}'`)}const th=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,eh={yMMMdjms:uh(ch([lh("year",1),hh("month",3),lh("day",1),lh("hour",1),lh("minute",1),lh("second",1)])),yMdjm:uh(ch([lh("year",1),lh("month",1),lh("day",1),lh("hour",1),lh("minute",1)])),yMMMMEEEEd:uh(ch([lh("year",1),hh("month",4),hh("weekday",4),lh("day",1)])),yMMMMd:uh(ch([lh("year",1),hh("month",4),lh("day",1)])),yMMMd:uh(ch([lh("year",1),hh("month",3),lh("day",1)])),yMd:uh(ch([lh("year",1),lh("month",1),lh("day",1)])),jms:uh(ch([lh("hour",1),lh("second",1),lh("minute",1)])),jm:uh(ch([lh("hour",1),lh("minute",1)]))},nh={yyyy:uh(lh("year",4)),yy:uh(lh("year",2)),y:uh(lh("year",1)),MMMM:uh(hh("month",4)),MMM:uh(hh("month",3)),MM:uh(lh("month",2)),M:uh(lh("month",1)),LLLL:uh(hh("month",4)),L:uh(hh("month",1)),dd:uh(lh("day",2)),d:uh(lh("day",1)),HH:ih(rh(uh(ah(lh("hour",2),!1)))),H:rh(uh(ah(lh("hour",1),!1))),hh:ih(rh(uh(ah(lh("hour",2),!0)))),h:rh(uh(ah(lh("hour",1),!0))),jj:uh(lh("hour",2)),j:uh(lh("hour",1)),mm:ih(uh(lh("minute",2))),m:uh(lh("minute",1)),ss:ih(uh(lh("second",2))),s:uh(lh("second",1)),sss:uh(lh("second",3)),EEEE:uh(hh("weekday",4)),EEE:uh(hh("weekday",3)),EE:uh(hh("weekday",2)),E:uh(hh("weekday",1)),a:function(t){return function(e,n){return t(e,n).split(" ")[1]}}(uh(ah(lh("hour",1),!0))),Z:oh("short"),z:oh("long"),ww:uh({}),w:uh({}),G:uh(hh("era",1)),GG:uh(hh("era",2)),GGG:uh(hh("era",3)),GGGG:uh(hh("era",4))};function ih(t){return function(e,n){const i=t(e,n);return 1==i.length?"0"+i:i}}function rh(t){return function(e,n){return t(e,n).split(" ")[0]}}function sh(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function oh(t){const e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){const i=sh(t,n,e);return i?i.substring(3):""}}function ah(t,e){return t.hour12=e,t}function lh(t,e){const n={};return n[t]=2===e?"2-digit":"numeric",n}function hh(t,e){const n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function ch(t){return t.reduce((t,e)=>Object.assign({},t,e),{})}function uh(t){return(e,n)=>sh(e,n,t)}const dh=new Map;class ph{static format(t,e,n){return function(t,e,n){const i=eh[t];if(i)return i(e,n);const r=t;let s=dh.get(r);if(!s){let e;s=[],th.exec(t);let n=t;for(;n;)(e=th.exec(n))?n=(s=s.concat(e.slice(1))).pop():(s.push(n),n=null);dh.set(r,s)}return s.reduce((t,i)=>{const r=nh[i];return t+(r?r(e,n):function(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(i))},"")}(n,t,e)}}class fh{constructor(t){this._locale=t}transform(t,e="mediumDate"){if(null==t||""===t||t!=t)return null;let n;if("string"==typeof t&&(t=t.trim()),mh(t))n=t;else if(isNaN(t-parseFloat(t)))if("string"==typeof t&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,i,r]=t.split("-").map(t=>parseInt(t,10));n=new Date(e,i-1,r)}else n=new Date(t);else n=new Date(parseFloat(t));if(!mh(n)){let e;if("string"!=typeof t||!(e=t.match(Ul)))throw Jl(fh,t);n=function(t){const e=new Date(0);let n=0,i=0;const r=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-i,l=Number(t[6]||0),h=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,l,h),e}(e)}return ph.format(n,this._locale,fh._ALIASES[e]||e)}}function mh(t){return t instanceof Date&&!isNaN(t.valueOf())}fh._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"};const gh=new class{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}},_h=new class{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}};class yh{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Zn.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(t){if(De(t))return gh;if(Pe(t))return _h;throw Jl(yh,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}class vh{}const bh=new lt("DocumentToken"),wh="browser",Ch="server";function Eh(t){return t===wh}function Sh(t){return t===Ch}class xh{}xh.ngInjectableDef=at({providedIn:"root",factory:()=>new class{constructor(t,e){this.document=t,this.window=e,this.offset=(()=>[0,0])}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}(ne(bh),window)});const Th="undefined"!=typeof Intl&&Intl.v8BreakIterator;class kh{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Eh(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Th)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}let Oh;function Ih(){if(null==Oh&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Oh=!0}))}finally{Oh=Oh||!1}return Oh}kh.ngInjectableDef=at({factory:function(){return new kh(ne(Be,8))},token:kh,providedIn:"root"});class Ah{}function Rh(t,e,n,r){return i(n)&&(r=n,n=void 0),r?Rh(t,e,n).pipe(H(t=>l(t)?r(...t):r(t))):new S(i=>{!function t(e,n,i,r,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,i,s),o=(()=>t.removeEventListener(n,i,s))}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,i),o=(()=>t.off(n,i))}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,i),o=(()=>t.removeListener(n,i))}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,i,r,s)}r.add(o)}(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}Object;const Dh=new Ra(Ia);class Ph{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Mh(t,this.durationSelector))}}class Mh extends z{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){const e=p(this.durationSelector)(t);if(e===c)this.destination.error(c.e);else{const t=U(this,e);!t||t.closed?this.clearThrottle():this.add(this.throttled=t)}}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Nh(t){return!l(t)&&t-parseFloat(t)+1>=0}function Lh(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function Fh(t,e=Dh){return function(t){return function(e){return e.lift(new Ph(t))}}(()=>(function(t=0,e,n){let i=-1;return Nh(e)?i=Number(e)<1?1:Number(e):R(e)&&(n=e),R(n)||(n=Dh),new S(e=>{const r=Nh(t)?t:+t-n.now();return n.schedule(Lh,r,{index:0,period:i,subscriber:e})})})(t,e))}const jh=20;class Vh{constructor(t,e){this._ngZone=t,this._platform=e,this._scrolled=new I,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(t){const e=t.elementScrolled().subscribe(()=>this._scrolled.next(t));this.scrollContainers.set(t,e)}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=jh){return this._platform.isBrowser?S.create(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Fh(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ka()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe($a(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_scrollableContainsElement(t,e){let n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Rh(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}Vh.ngInjectableDef=at({factory:function(){return new Vh(ne(ln),ne(kh))},token:Vh,providedIn:"root"});const Bh=20;class Uh{constructor(t,e){this._platform=t,this._change=t.isBrowser?e.runOutsideAngular(()=>J(Rh(window,"resize"),Rh(window,"orientationchange"))):ka(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=document.documentElement.getBoundingClientRect();return{top:-t.top||document.body.scrollTop||window.scrollY||document.documentElement.scrollTop||0,left:-t.left||document.body.scrollLeft||window.scrollX||document.documentElement.scrollLeft||0}}change(t=Bh){return t>0?this._change.pipe(Fh(t)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}Uh.ngInjectableDef=at({factory:function(){return new Uh(ne(kh),ne(ln))},token:Uh,providedIn:"root"});class zh{}function Hh(t){return e=>e.lift(new Wh(t))}class Wh{constructor(t){this.notifier=t}call(t,e){const n=new $h(t),i=U(n,this.notifier);return i&&!i.closed?(n.add(i),e.subscribe(n)):n}}class $h extends z{constructor(t){super(t)}notifyNext(t,e,n,i,r){this.complete()}notifyComplete(){}}const qh=27,Gh=33,Yh=34,Kh=35,Qh=36,Xh=37,Zh=38,Jh=39,tc=40;class ec{enable(){}disable(){}attach(){}}class nc{constructor(t){this.scrollStrategy=new ec,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",t&&Object.keys(t).filter(e=>void 0!==t[e]).forEach(e=>this[e]=t[e])}}class ic{constructor(t,e,n,i){this.offsetX=n,this.offsetY=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class rc{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function sc(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function oc(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}class ac{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Il(-this._previousScrollPosition.left),t.style.top=Il(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=this._document.body,n=t.style.scrollBehavior||"",i=e.style.scrollBehavior||"";this._isEnabled=!1,t.style.left=this._previousHTMLStyles.left,t.style.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),t.style.scrollBehavior=e.style.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t.style.scrollBehavior=n,e.style.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function lc(){return Error("Scroll strategy has already been attached.")}class hc{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=(()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())})}attach(t){if(this._overlayRef)throw lc();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}}function cc(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function uc(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class dc{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw lc();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();cc(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}}class pc{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=(()=>new ec),this.close=(t=>new hc(this._scrollDispatcher,this._ngZone,this._viewportRuler,t)),this.block=(()=>new ac(this._viewportRuler,this._document)),this.reposition=(t=>new dc(this._scrollDispatcher,this._viewportRuler,this._ngZone,t)),this._document=i}}pc.ngInjectableDef=at({factory:function(){return new pc(ne(Vh),ne(Uh),ne(ln),ne(bh))},token:pc,providedIn:"root"});class fc{constructor(t){this._attachedOverlays=[],this._keydownListener=(t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEventSubscriptions>0){e[n]._keydownEvents.next(t);break}}),this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener,!0),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener,!0),this._isAttached=!1)}}fc.ngInjectableDef=at({factory:function(){return new fc(ne(bh))},token:fc,providedIn:"root"});class mc{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}mc.ngInjectableDef=at({factory:function(){return new mc(ne(bh))},token:mc,providedIn:"root"});class gc{constructor(t,e,n,i,r,s,o){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=s,this._document=o,this._backdropElement=null,this._backdropClick=new I,this._attachments=new I,this._detachments=new I,this._keydownEventsObservable=S.create(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new I,this._keydownEventSubscriptions=0,i.scrollStrategy&&i.scrollStrategy.attach(this)}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return this._config.positionStrategy&&this._config.positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._config.scrollStrategy&&this._config.scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Ka(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._config.positionStrategy&&this._config.positionStrategy.detach&&this._config.positionStrategy.detach(),this._config.scrollStrategy&&this._config.scrollStrategy.disable(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1);const t=this._portalOutlet.detach();this._detachments.next(),this._keyboardDispatcher.remove(this);const e=this._ngZone.onStable.asObservable().pipe(Hh(J(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())});return t}dispose(){const t=this.hasAttached();this._config.positionStrategy&&this._config.positionStrategy.dispose(),this._config.scrollStrategy&&this._config.scrollStrategy.disable(),this.detachBackdrop(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._config.positionStrategy&&this._config.positionStrategy.apply()}updateSize(t){this._config=Object.assign({},this._config,t),this._updateElementSize()}setDirection(t){this._config=Object.assign({},this._config,{direction:t}),this._updateElementDirection()}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){const t=this._pane.style;t.width=Il(this._config.width),t.height=Il(this._config.height),t.minWidth=Il(this._config.minWidth),t.minHeight=Il(this._config.minHeight),t.maxWidth=Il(this._config.maxWidth),t.maxHeight=Il(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",t=>this._backdropClick.next(t)),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){let e,n=()=>{t&&t.parentNode&&t.parentNode.removeChild(t),this._backdropElement==t&&(this._backdropElement=null),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",n)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}}_toggleClasses(t,e,n){const i=t.classList;Ol(e).forEach(t=>{n?i.add(t):i.remove(t)})}}class _c{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._isInitialRender=!0,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this.scrollables=[],this._preferredPositions=[],this._positionChanges=new I,this._resizeSubscription=m.EMPTY,this._offsetX=0,this._offsetY=0,this._positionChangeSubscriptions=0,this.positionChanges=S.create(t=>{const e=this._positionChanges.subscribe(t);return this._positionChangeSubscriptions++,()=>{e.unsubscribe(),this._positionChangeSubscriptions--}}),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>this.apply())}apply(){if(this._isDisposed||this._platform&&!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._origin.getBoundingClientRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),l=this._getOverlayFit(a,e,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?i.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!r||r.overlayFit.visibleArea<l.visibleArea)&&(r={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this.detach(),this._boundingBox=null,this._positionChanges.complete(),this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._origin.getBoundingClientRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){this.scrollables=t}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t instanceof Pn?t.nativeElement:t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return{x:n,y:i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,{x:t.x+i,y:t.y+(r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height)}}_getOverlayFit(t,e,n,i){let{x:r,y:s}=t,o=this._getOffset(i,"x"),a=this._getOffset(i,"y");o&&(r+=o),a&&(s+=a);let l=0-s,h=s+e.height-n.height,c=this._subtractOverflows(e.width,0-r,r+e.width-n.width),u=this._subtractOverflows(e.height,l,h),d=c*u;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:u===e.height,fitsInViewportHorizontally:c==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,s=this._overlayRef.getConfig().minHeight,o=this._overlayRef.getConfig().minWidth;return(t.fitsInViewportVertically||null!=s&&s<=i)&&(t.fitsInViewportHorizontally||null!=o&&o<=r)}}_pushOverlayOnScreen(t,e){const n=this._viewportRect,i=Math.max(t.x+e.width-n.right,0),r=Math.max(t.y+e.height-n.bottom,0),s=Math.max(n.top-t.y,0),o=Math.max(n.left-t.x,0);let a,l=0;return{x:t.x+(a=e.width<=n.width?o||-i:n.left-t.x),y:t.y+(l=e.height<=n.height?s||-r:n.top-t.y)}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),this._lastPosition=t,this._positionChangeSubscriptions>0){const e=this._getScrollVisibility(),n=new rc(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,s,o,a,l,h;if("top"===e.overlayY)s=t.y,r=n.bottom-t.y;else if("bottom"===e.overlayY)r=n.height-(o=n.height-t.y+2*this._viewportMargin)+this._viewportMargin;else{const e=Math.min(n.bottom-t.y,t.y-n.left),i=this._lastBoundingBoxSize.height;s=t.y-e,(r=2*e)>i&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)h=n.right-t.x+this._viewportMargin,a=t.x-n.left;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x,t.x-n.top),i=this._lastBoundingBoxSize.width;l=t.x-e,(a=2*e)>i&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-i/2)}return{top:s,left:l,bottom:o,right:h,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=Il(n.height),i.top=Il(n.top),i.bottom=Il(n.bottom),i.width=Il(n.width),i.left=Il(n.left),i.right=Il(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=Il(t)),r&&(i.maxWidth=Il(r))}this._lastBoundingBoxSize=n,yc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){yc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){yc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:""})}_setOverlayElementStyles(t,e){const n={};this._hasExactPosition()?(yc(n,this._getExactOverlayY(e,t)),yc(n,this._getExactOverlayX(e,t))):n.position="static";let i="",r=this._getOffset(e,"x"),s=this._getOffset(e,"y");r&&(i+=`translateX(${r}px) `),s&&(i+=`translateY(${s}px)`),n.transform=i.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),yc(this._pane.style,n)}_getExactOverlayY(t,e){let n={top:null,bottom:null},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect));let r=this._overlayContainer?this._overlayContainer.getContainerElement().getBoundingClientRect().top:0;return i.y-=r,"bottom"===t.overlayY?n.bottom=`${this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)}px`:n.top=Il(i.y),n}_getExactOverlayX(t,e){let n,i={left:null,right:null},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect)),"right"==(n=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?i.right=`${this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)}px`:i.left=Il(r.x),i}_getScrollVisibility(){const t=this._origin.getBoundingClientRect(),e=this._pane.getBoundingClientRect(),n=this.scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:uc(t,n),isOriginOutsideView:cc(t,n),isOverlayClipped:uc(e,n),isOverlayOutsideView:cc(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{oc("originX",t.originX),sc("originY",t.originY),oc("overlayX",t.overlayX),sc("overlayY",t.overlayY)})}}function yc(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}class vc{constructor(t,e,n,i,r,s){this._preferredPositions=[],this._positionStrategy=new _c(n,i,r,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new ic(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class bc{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper")}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===n.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}dispose(){}}class wc{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new bc}connectedTo(t,e,n){return new vc(e,n,t,this._viewportRuler,this._document)}flexibleConnectedTo(t){return new _c(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}wc.ngInjectableDef=at({factory:function(){return new wc(ne(Uh),ne(bh),ne(kh,8),ne(mc,8))},token:wc,providedIn:"root"});let Cc=0;class Ec{constructor(t,e,n,i,r,s,o,a,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new nc(t);return r.direction=r.direction||this._directionality.value,new gc(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${Cc++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(On)),new yl(t,this._componentFactoryResolver,this._appRef,this._injector)}}const Sc=new lt("cdk-connected-overlay-scroll-strategy");function xc(t){return()=>t.scrollStrategies.reposition()}class Tc{}const kc=!1;class Oc{constructor(t,e){this.elementRef=t,this.overlay=e,this.viewportMargin=10,this.overlayVisible=!0}ngOnInit(){this.overlayVisible&&this.openOverlay()}ngOnDestroy(){this.positionChangedSub&&this.positionChangedSub.unsubscribe()}ngOnChanges(t){const e=t.overlayVisible;e&&!e.firstChange&&(kc&&console.log("ContentOverlayComponent.ngOnChanges",{activeChange:e,overlayVisible:this.overlayVisible}),e.currentValue?this.openOverlay():this.closeOverlay())}openOverlay(){if(this.overlayRef)return;const t=this.preparePositionStrategy(this.overlay.position().flexibleConnectedTo(this.getConnectedElement())),e=this.createOverlayConfig(t);this.overlayRef=this.overlay.create(e),this.positionChangedSub=t.positionChanges.subscribe(t=>{this.handlePositionChange(t)}),this.overlayRef.attach(this.overlayContent),kc&&console.log("ContentOverlayComponent.openOverlay",{elementRef:this.elementRef,overlayContent:this.overlayContent,positionStrategy:t,overlayConfig:e,overlayRef:this.overlayRef,overlayVisible:this.overlayVisible})}closeOverlay(){kc&&console.log("ContentOverlayComponent.closeOverlay",{elementRef:this.elementRef,overlayContent:this.overlayContent,overlayRef:this.overlayRef,overlayVisible:this.overlayVisible}),this.positionChangedSub&&(this.positionChangedSub.unsubscribe(),this.positionChangedSub=null),this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}getConnectedElement(){if(this.connectedTo){const t=this.elementRef.nativeElement.ownerDocument.querySelector(this.connectedTo);return kc&&console.log("ContentOverlayComponent.getConnectedElement - connectedTo",{connectedTo:this.connectedTo,element:t}),t?new Pn(t):void 0}if(this.connectedToAncestor){const t=this.elementRef.nativeElement.closest(this.connectedToAncestor);return kc&&console.log("ContentOverlayComponent.getConnectedElement - connectedToAncestor",{connectedTo:this.connectedToAncestor,element:t}),t?new Pn(t):void 0}const t=this.elementRef.nativeElement.parent;return kc&&console.log("ContentOverlayComponent.getConnectedElement - connectedTo & connectedToAncestor unset",{ancestor:t}),new Pn(t)}preparePositionStrategy(t){const e={originX:this.originX,originY:this.originY,overlayX:this.overlayX,overlayY:this.overlayY};return this.offsetX&&(e.offsetX=this.offsetX),this.offsetY&&(e.offsetY=this.offsetY),this.viewportMargin&&(t=t.withViewportMargin(this.viewportMargin)),t.withFlexibleDimensions(!1).withPush(!0).withPositions([e])}createOverlayConfig(t){const e=new nc({positionStrategy:t});return this.overlayWidth&&(e.width=this.overlayWidth),this.overlayHeight&&(e.height=this.overlayHeight),e}handlePositionChange(t){kc&&console.log("ContentOverlayComponent.handlePositionChange",t)}}class Ic{}const Ac={IDLE:"IDLE",LOADING:"LOADING",LOADED:"LOADED",PLAYING:"PLAYING",PAUSED:"PAUSED",STOPPED:"STOPPED",ERROR:"ERROR"};class Rc{isLocal(){return!0}getDefaultVolume(){return 1}getStateMessage(t){return null}}const Dc=1e3;class Pc{constructor(t){this.entityContent=t,this.target=null,this.currentTime=0,this.fullscreen=!1,this.incrementMediaTimeHandler=(()=>{this.incrementMediaTime()})}updateState(t){this.entityState=t,this.onUpdateState&&(this.onUpdateState(),this.onUpdateState=null)}get state(){return this.entityState.player}setTarget(t){this.target=t}hasTarget(){return null!==this.target}isLocal(){return this.target.isLocal()}activate(t){this.entityState?this.selectContent(t):this.onUpdateState=(()=>{this.selectContent(t)})}deactivate(){this.stop(),this.playbackState=Ac.IDLE,this.target&&this.target.unload()}selectContent(t){if(!this.entityState)throw new Error("AbstractEntityContentPlayer.selectContent - entityState not set");this.load(t)}load(t){this.playbackState=Ac.LOADING,this.target.load(t).then(()=>{this.loaded(t)},t=>{console.error("AbstractEntityContentPlayer.load - player failed to load content",t)}),this.updateStateMessage()}loaded(t){this.playbackState=Ac.LOADED,this.currentTime>0&&this.seekTo(this.currentTime),t&&this.play(),this.startProgressTimer(),this.updateStateMessage()}hasLoaded(){return this.playbackState===Ac.PLAYING||this.playbackState===Ac.PAUSED||this.playbackState===Ac.STOPPED||this.playbackState===Ac.LOADED}play(){this.isPlaying()||(this.hasLoaded()?(this.playbackState===Ac.STOPPED&&this.startProgressTimer(),this.target.play(),this.playbackState=Ac.PLAYING,this.updateStateMessage()):this.load(!0))}pause(){this.isPlaying()&&(this.target.pause(),this.playbackState=Ac.PAUSED,this.updateStateMessage())}stop(){this.playbackState!==Ac.STOPPED&&(this.stopProgressTimer(),this.pause(),this.playbackState=Ac.STOPPED,this.updateStateMessage())}canPlay(){return this.playbackState===Ac.LOADED||this.playbackState===Ac.PAUSED||this.playbackState===Ac.STOPPED}isPlaying(){return this.playbackState===Ac.PLAYING}seekTo(t){this.target.seekTo(t),this.updateStateMessage()}get contentDuration(){return void 0===this.duration&&(this.duration=this.target.getDuration()),this.duration}setMuted(t){t!==this.muted&&(this.muted=t,t?this.target.mute():this.target.unMute())}isMuted(){return void 0===this.muted&&(this.muted=!1),this.muted}setVolume(t){t!==this.volume&&(this.volume=t,this.target.setVolume(t))}getVolume(){return void 0===this.volume&&(this.volume=this.target.getDefaultVolume()),this.volume}setFullscreen(t){this.fullscreen=t,this.target.setFullscreen(t)}isFullscreen(){return this.fullscreen}updateStateMessage(){this.stateMessage=this.target.getStateMessage(this.entityState)}incrementMediaTime(){this.currentTime=this.target.getCurrentTime(),this.playbackState===Ac.PLAYING&&(this.currentTime<this.contentDuration?this.currentTime+=1:this.endPlayback())}endPlayback(){this.stop()}startProgressTimer(){this.stopProgressTimer(),this.timer=setInterval(this.incrementMediaTimeHandler,Dc)}stopProgressTimer(){this.timer&&(clearInterval(this.timer),this.timer=null)}getClassRef(){return this.constructor.name}}const Mc=!1;class Nc{constructor(t){this.entityContainer=t}prepareContext(t){}selectChild(t,e){const n=t.getChild(e);n?(Mc&&console.log("ConfiguredActor.selectChild",{parent:t,child:n,entityContainer:this.entityContainer}),t.selectedChildId=e):console.error("ConfiguredActor.selectChild - child not found, id="+e)}cleanup(){}}const Lc=!1;class Fc{constructor(t){this.entityContainer=t}prepareContext(t){if(Lc&&console.log("RoutedActor.prepareContext",{entityContainer:this.entityContainer,selectedContext:t}),this.unsubRouteData(),!this.entityContainer.containerEntity)return;const e=this.getRouteData(t);e?this.routeDataSub=e.subscribe(e=>{Lc&&console.log("RoutedActor.prepareContext - data",{entityContainer:this.entityContainer,selectedContext:t,data:e,selectedEntity:e[t.routeName]});const n=e[t.routeName];n?n.id!==n.parent.selectedChildId&&(n.parent.selectedChildId=n.id):console.error("RoutedActor.prepareContext - selected entity not found")},t=>{console.error("RoutedActor.prepareContext - routeData subscription failure",t)}):console.error("RoutedActor.prepareContext - routeData not found",{entityContainer:this.entityContainer,selectedContext:t})}selectChild(t,e){this.entityContainer.childContext.router.navigate(t.provider.getChildCommands(t,e))}cleanup(){this.unsubRouteData()}getRouteData(t){const e=t.routeName;let n=t.route;for(;n;){if(n.snapshot.data[e])return n.data;n=n.parent}}unsubRouteData(){this.routeDataSub&&(this.routeDataSub.unsubscribe(),this.routeDataSub=null)}}const jc=!1;class Vc{setEntityContainer(t){this.entityContainer&&this.cleanupActions(),this.entityContainer=t,t&&this.prepareActions(),jc&&console.log(this.getClassRef()+".setEntityContainer",{entityContainer:t,actor:this.actor})}prepareContext(t){jc&&console.log(this.getClassRef()+".prepareContext",{entityContainer:this.entityContainer,actor:this.actor,selectedContext:this.selectedContext}),this.selectedContext=t,this.actor.prepareContext(t)}selectChild(t){jc&&console.log(this.getClassRef()+".selectChild",{entityContainer:this.entityContainer,selectedContext:this.selectedContext,childId:t}),this.actor.selectChild(this.selectedContext.selectedEntity,t)}selectPreviousChild(){const t=this.getSelectedChildIndex(),e=this.selectedContext.selectedEntity;jc&&console.log(this.getClassRef()+".selectPreviousChild",{entityContainer:this.entityContainer,selectedContext:this.selectedContext,entity:e,childIndex:t}),"number"==typeof t&&t<e.getNumChildren()-1&&this.selectChild(e.getChildAtIndex(t+1).id)}canSelectPreviousChild(){const t=this.selectedContext.selectedEntity.getNumChildren();return t&&this.getSelectedChildIndex()!==t-1}selectNextChild(){const t=this.getSelectedChildIndex();jc&&console.log(this.getClassRef()+".selectPreviousChild",{entityContainer:this.entityContainer,selectedContext:this.selectedContext,entity:this.selectedContext.selectedEntity,childIndex:t}),"number"==typeof t&&t>0&&this.selectChild(this.selectedContext.selectedEntity.getChildAtIndex(t-1).id)}canSelectNextChild(){return this.selectedContext.selectedEntity.getNumChildren()&&0!==this.getSelectedChildIndex()}addChild(t){const e=this.selectedContext.selectedEntity,n=e.provider.addChild(e,t);n&&n.then(t=>{this.selectChild(t.getKey())},t=>{this.handleError("Add failed",t)})}canAddChild(){return!0}removeChild(t){if(t||(t=this.getSelectedChildId()),!t)return;const e=this.selectedContext.selectedEntity;let n=e.getChildIndex(t);const i=e.provider.removeChild(e,t);i&&i.then(()=>{n&&n--;const t=e.getChildAtIndex(n).id;this.selectChild(t)},t=>{this.handleError("Remove failed",t)})}canRemoveChild(){return!0}prepareActions(){this.actor=this.entityContainer.childContext.entityParams?new Nc(this.entityContainer):new Fc(this.entityContainer)}cleanupActions(){this.actor.cleanup(),this.actor=null}getSelectedChildIndex(){const t=this.selectedContext.selectedEntity;return t.getChildIndex(t.selectedChildId)}getSelectedChildId(){return this.selectedContext.selectedEntity.selectedChildId}handleError(t,e){this.errorService?this.errorService.handleError("["+this.getClassRef()+"] "+t,e):console.error("["+this.getClassRef()+"] "+t,e)}getClassRef(){return this.constructor.name}}class Bc{}const Uc=!1;class zc extends ya{constructor(t,e,n,i){super(),this.provider=t,this.parent=e,this.id=n,this.data=i,this.childMap=new Map,this.childIndices=new Map,this.prepared=!1,this.childrenPrepared=!1,this.selectedChildSubject=new ja(1),this.readySubject=new ja(1),this.ready=this.readySubject.asObservable(),this.subscriptions=new Map}get name(){if(this.data)return this.data.meta&&this.data.meta.name?this.data.meta.name:this.data.$key}clearChildren(){this.childIndices.clear(),this.childMap.clear()}getNumChildren(){return this.childIndices.size}addChild(t,e){Uc&&console.log(this.getClassRef()+".addChild",{entity:t,childIndex:e}),this.childMap.set(e,t),this.childIndices.set(t.id,e)}removeChild(t){Uc&&console.log(this.getClassRef()+".removeChild",t),this.childMap.delete(this.childIndices.get(t)),this.childIndices.delete(t)}getChildIndex(t){return this.childIndices.get(t)}getChild(t){return this.childMap.get(this.childIndices.get(t))}getChildAtIndex(t){return this.childMap.get(t)}get selectedChildId(){if(this.data&&this.data.meta)return this.data.meta.selected}set selectedChildId(t){if(!this.data)throw new Error(this.getClassRef()+".set selectedChildId - data not set, childId="+t);if(!this.data.meta)throw new Error(this.getClassRef()+".set selectedChildId - metadata not set, childId="+t);Uc&&console.log(this.getClassRef()+".selectedChildId",{entity:this,childId:t,currentlySelected:this.data.meta.selected}),this.data.meta.selected!==t&&(this.data.meta.selected=t,Uc&&console.log(this.getClassRef()+".selectedChildId",{selected:t}),this.getUserId()&&this.provider.getEntityMetadata(this).update({selected:t}).catch(t=>{console.error(this.getClassRef()+".selectedChildId - could not persist to db",t)}),this.selectedChildSubject.next(this.getChild(t)))}getSelectedChild(){return this.selectedChildSubject.asObservable()}getPath(t,e){return this.provider.getPath(this,t,e)}getResourcePath(){return this.provider.getResourcePath(this)}setPrepared(){this.prepared=!0,this.isEntityReady()&&this.notifyReady()}setChildrenPrepared(){this.childrenPrepared=!0;const t=this.selectedChildId;t&&this.selectedChildSubject.next(this.getChild(t)),this.isEntityReady()&&this.notifyReady()}isEntityReady(){return this.prepared}notifyReady(){Uc&&console.log(this.getClassRef()+".setReady",this.id),this.readySubject.next(!0)}getUserId(){if(this.parent)return this.parent.getUserId()}getUserOwned(){if(this.parent)return!1;let t=this,e=this.parent;for(;e.parent;)t=e,e=e.parent;return e.name===t.id.split("/")[0]}getRetry(){if(this.parent)return this.parent.getRetry()}getState(){return this.data.state}}zc.Selected=["state","selected"];class Hc{constructor(t){this.dataService=t}getEntityData(t,e){if(!t)throw new Error(this.getClassRef()+" - getEntityData: entityPath not set");return this.dataService.object(t,"Entity Data",e)}getEntityMetadata(t,e){if(!t)throw new Error(this.getClassRef()+" - getEntityMetadata: entityPath not set");return this.dataService.object(t+"/meta","Entity Metadata",e)}getEntityDataList(t,e){if(!t)throw new Error(this.getClassRef()+" - getEntityDataList: listPath not set");return this.dataService.list(t,"Child Entities",e)}getClassRef(){return this.constructor.name}}class Wc{constructor(t){this.subject=new ja(1),this.subject.next(t)}properties(){return this.subject.asObservable()}set(t){throw new Error("Object is immutable")}update(t){throw new Error("Object is immutable")}remove(){throw new Error("Object is immutable")}}class $c{constructor(t){this.subject=new ja(1),this.subject.next(t)}items(){return this.subject.asObservable()}push(t){throw new Error("List is immutable")}update(t,e){throw new Error("List is immutable")}remove(t){throw new Error("List is immutable")}}const qc=!1;class Gc{constructor(t,e){this.localStorage=t,this.selector=e}valueChanges(){return this.localStorage.getItem(this.selector)}set(t){return qc&&console.log("LocalDataStoreObject.set",this.selector,t),this.localStorage.setItem(this.selector,t).toPromise()}update(t){return new Promise((e,n)=>{this.localStorage.getItem(this.selector).subscribe(i=>{qc&&console.log("LocalDataStoreObject.update - item",this.selector,i),i||(i={}),Object.keys(t).forEach(e=>i[e]=t[e]),this.localStorage.setItem(this.selector,i).subscribe(t=>{e(i)},t=>{n(t)})},t=>{n(t)})})}remove(){return qc&&console.log("LocalDataStoreObject.remove",this.selector),this.localStorage.removeItem(this.selector).toPromise()}}class Yc{constructor(t,e){this.localStorage=t,this.selector=e}valueChanges(){return this.localStorage.getItem(this.selector).pipe(H(t=>this.flattenDataArray(t)))}snapshotChanges(t){throw new Error("LocalDataStoreList.snapshotChanges not implemented")}push(t){return new Promise((e,n)=>{this.localStorage.getItem(this.selector).subscribe(i=>{qc&&console.log("LocalDataStoreList.push - item",this.selector,i,t),i.items.push(t),this.localStorage.setItem(this.selector,i).subscribe(n=>{e(t)},t=>{n(t)})},t=>{n(t)})})}update(t,e){return new Promise((n,i)=>{this.localStorage.getItem(this.selector).subscribe(r=>{qc&&console.log("LocalDataStoreObject.update - item",this.selector,t,e,r),this.updateDataItem(r,t,e),this.localStorage.setItem(this.selector,r).subscribe(t=>{n(e)},t=>{i(t)})},t=>{i(t)})})}remove(t){return qc&&console.log("LocalDataStoreList.remove",this.selector,t),this.localStorage.removeItem(this.selector).toPromise()}updateDataItem(t,e,n){t.items[e]=n}createDataArray(t){return{items:t}}flattenDataArray(t){return t?t.items:[]}}class Kc{constructor(t){this.localStorage=t}object(t){return qc&&console.log("LocalDatabaseService.object",t),new Gc(this.localStorage,t)}list(t){return qc&&console.log("LocalDatabaseService.list",t),new Yc(this.localStorage,t)}}function Qc(t){return void 0===t||null===t}function Xc(t){return"function"==typeof t.set}function Zc(t,e){return Xc(e)?e:t.ref(e)}function Jc(t,e){if("string"==typeof t)return e.stringCase();if(Xc(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}class tu{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new eu(t,this.delay,this.scheduler))}}class eu extends y{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,r=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.add(t.schedule(eu.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new nu(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Na.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t)}_complete(){this.scheduleNotification(Na.createComplete())}}class nu{constructor(t,e){this.time=t,this.notification=e}}function iu(t,e,n="on"){return new S(i=>{const r=t[n](e,(t,e)=>{i.next({snapshot:t,prevKey:e}),"once"==n&&i.complete()},i.error.bind(i));return"on"==n?{unsubscribe(){t.off(e,r)}}:{unsubscribe(){}}}).pipe(H(t=>{const{snapshot:n,prevKey:i}=t;let r=null;return n.exists()&&(r=n.key),{type:e,payload:n,prevKey:i,key:r}}),function(t,e=Dh){const n=0 instanceof Date&&!isNaN(0)?0-e.now():Math.abs(0);return t=>t.lift(new tu(n,e))}(),ot())}function ru(t,e){return"function"==typeof e?n=>n.pipe(ru((n,i)=>G(t(n,i)).pipe(H((t,r)=>e(n,t,i,r))))):e=>e.lift(new su(t))}class su{constructor(t){this.project=t}call(t,e){return e.subscribe(new ou(t,this.project))}}class ou extends z{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)}_innerSub(t,e,n){const i=this.innerSubscription;i&&i.unsubscribe(),this.add(this.innerSubscription=U(this,t,e,n))}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,i,r){this.destination.next(e)}}function au(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new lu(t,e,n))}}class lu{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new hu(t,this.accumulator,this.seed,this.hasSeed))}}class hu extends y{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(t){this.destination.error(t)}this.seed=n,this.destination.next(n)}}class cu{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new uu(t,this.compare,this.keySelector))}}class uu extends y{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e=t;if(this.keySelector&&(e=p(this.keySelector)(t))===c)return this.destination.error(c.e);let n=!1;if(this.hasKey){if((n=p(this.compare)(this.key,e))===c)return this.destination.error(c.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=e,this.destination.next(t))}}function du(t,e){const n=t.length;for(let i=0;i<n;i++)if(t[i].payload.key===e)return i;return-1}function pu(t,e){const{payload:n,type:i,prevKey:r,key:s}=e,o=du(t,s),a=function(t,e){if(Qc(e))return 0;{const n=du(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const i={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,i],!1})}return t;case"child_added":if(o>-1){const i=t[o-1];(i&&i.key||null)!=r&&(t=t.filter(t=>t.payload.key!==n.key)).splice(a,0,e)}else{if(null==r)return[e,...t];(t=t.slice()).splice(a,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===s?e:t);case"child_moved":if(o>-1){const e=t.splice(o,1)[0];return(t=t.slice()).splice(a,0,e),t}return t;default:return t}}function fu(t){return(Qc(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function mu(t,e){return function(t,e){return iu(t,"value","once").pipe(ru(n=>{const i=[ka(n)];return e.forEach(e=>i.push(iu(t,e))),J(...i).pipe(au(pu,[]))}),t=>t.lift(new cu(void 0,void 0)))}(t,e=fu(e))}function gu(t,e){return J(...(e=fu(e)).map(e=>iu(t,e)))}class _u{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new yu(t,this.observables,this.project))}}class yu extends z{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const i=e.length;this.values=new Array(i);for(let r=0;r<i;r++)this.toRespond.push(r);for(let r=0;r<i;r++){let t=e[r];this.add(U(this,t,t,r))}}notifyNext(t,e,n,i,r){this.values[n]=e;const s=this.toRespond;if(s.length>0){const t=s.indexOf(n);-1!==t&&s.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)}}class vu{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new bu(t,this.predicate))}}class bu extends y{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}}}function wu(t,e){return function(n,i){return Jc(n,{stringCase:()=>t.child(n)[e](i),firebaseCase:()=>n[e](i),snapshotCase:()=>n.ref[e](i)})}}function Cu(t){return function(){return iu(t,"value")}}const Eu=new lt("angularfire2.realtimeDatabaseURL");class Su{constructor(t,e){this.zone=t,this.platformId=e}schedule(...t){return this.zone.runGuarded(function(){return Da.schedule.apply(Da,t)})}keepUnstableUntilFirst(t){return Sh(this.platformId)?new S(e=>{const n=()=>{},i=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);return t.pipe(sl()).subscribe(()=>this.zone.runOutsideAngular(()=>i.invoke())),t.subscribe(e)}):t}runOutsideAngular(t){return new S(e=>this.zone.runOutsideAngular(()=>t.subscribe(t=>this.zone.run(()=>e.next(t)),t=>this.zone.run(()=>e.error(t)),()=>this.zone.run(()=>e.complete()))))}}var xu=n("f8Mv");const Tu=new lt("angularfire2.app.options"),ku=new lt("angularfire2.app.nameOrConfig");class Ou{}function Iu(t,e){const n="object"==typeof e&&e||{};return n.name=n.name||"string"==typeof e&&e||"[DEFAULT]",xu.apps.filter(t=>t&&t.name===n.name)[0]||xu.initializeApp(t,n)}new Rt;class Au{static initializeApp(t,e){return{ngModule:Au,providers:[{provide:Tu,useValue:t},{provide:ku,useValue:e}]}}}class Ru{constructor(t,e,n,i,r){this.scheduler=new Su(r,i),this.database=r.runOutsideAngular(()=>Iu(t,e).database(n||void 0))}list(t,e){const n=Zc(this.database,t);let i=n;return e&&(i=e(n)),function(t,e){return{query:t,update:wu(t.ref,"update"),set:wu(t.ref,"set"),push:e=>t.ref.push(e),remove:function(t){return function(e){return e?Jc(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}(t.ref),snapshotChanges(n){const i=mu(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(i))},stateChanges(n){const i=gu(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(i))},auditTrail(n){const i=function(t,e){return function(t,e){return function(t){return iu(t,"value").pipe(H(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new _u(t,n))}}(e),H(([t,e])=>({actions:e,lastKeyToLoad:t.lastKeyToLoad,loadedKeys:e.map(t=>t.key)})),function(t){return e=>e.lift(new vu(t))}(t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad)),H(t=>t.actions))}(t,gu(t,e).pipe(au((t,e)=>[...t,e],[])))}(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(i))},valueChanges(n){const i=mu(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(i)).pipe(H(t=>t.map(t=>t.payload.val())))}}}(i,this)}object(t){return function(t,e){return{query:t,snapshotChanges(){const n=Cu(t)();return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(n))},update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges(){const n=Cu(t)();return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(n)).pipe(H(t=>t.payload.exists()?t.payload.val():null))}}}(Zc(this.database,t),this)}createPushId(){return this.database.ref().push().key}}n("WiLL");class Du{}const Pu=!1;class Mu{constructor(t,e,n,i){this.selector=e,this.description=n,this.retry=i,this.dsObject=t.object(e),Pu&&console.log("BasicDataObject",{selector:e,description:n})}properties(){return this.dsObject.valueChanges()}set(t){return Pu&&console.log("BasicDataObject.set",{selector:this.selector,data:t}),this.dsObject.set(t)}update(t){return Pu&&console.log("BasicDataObject.update",{selector:this.selector,data:t}),this.dsObject.update(t)}remove(){return Pu&&console.log("BasicDataObject.remove",{selector:this.selector}),this.dsObject.remove()}}class Nu{constructor(t,e,n,i){this.selector=e,this.description=n,this.retry=i,this.dsList=t.list(e),Pu&&(console.log("BasicDataList",{selector:e,description:n,dataStoreList:this.dsList}),this.monitor())}monitor(){this.dsList&&this.dsList.valueChanges().subscribe(t=>{console.log("BasicDataList.monitor",{selector:this.selector,items:t})},t=>{console.error("BasicDataList.monitor",{selector:this.selector,error:t})},()=>{console.log("BasicDataList.monitor - completed",{selector:this.selector})})}items(){Pu&&console.log("BasicDataList.items",{selector:this.selector});const t=new ja(1);return this.dsList.snapshotChanges(["child_added","child_removed"]).subscribe(e=>{const n=[];e.forEach(t=>{const e=t.payload.val();e.$key=t.key,n.push(e)}),t.next(n)},e=>{t.error(e)},()=>{t.complete()}),t.asObservable()}push(t){return Pu&&console.log("BasicDataList.push",{selector:this.selector,data:t}),this.dsList.push(t)}update(t,e){return Pu&&console.log("BasicDataList.update",{selector:this.selector,item:t,data:e}),this.dsList.update(t,e)}remove(t){return Pu&&console.log("BasicDataList.remove",{selector:this.selector,item:t}),this.dsList.remove(t)}}class Lu{constructor(t){this.dataStore=t}object(t,e,n){return new Mu(this.dataStore,t,e,n)}list(t,e,n){return new Nu(this.dataStore,t,e,n)}}class Fu extends Lu{constructor(){super({object:null,list:null})}}class ju extends Lu{constructor(t){super(t)}}class Vu extends Lu{constructor(t){super(t)}}class Bu{constructor(t,e,n){this.uid=t,this.displayName=e,this.photoURL=n}}const Uu=new Bu(null,"Guest",null);class zu{constructor(t,e,n,i){this.zone=i;const r=new Su(i,n);this.auth=i.runOutsideAngular(()=>Iu(t,e).auth()),this.authState=r.keepUnstableUntilFirst(r.runOutsideAngular(new S(t=>({unsubscribe:this.auth.onAuthStateChanged(t)})))),this.user=r.keepUnstableUntilFirst(r.runOutsideAngular(new S(t=>({unsubscribe:this.auth.onIdTokenChanged(t)})))),this.idToken=this.user.pipe(ru(t=>t?G(t.getIdToken()):ka(null))),this.idTokenResult=this.user.pipe(ru(t=>t?G(t.getIdTokenResult()):ka(null)))}}var Hu=n("eBTZ"),Wu=n.n(Hu);(function(){var t,e=e||{},n=this;function i(t){return"string"==typeof t}function r(t){return"boolean"==typeof t}function s(){}function o(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function a(t){return null===t}function l(t){return"array"==o(t)}function h(t){var e=o(t);return"array"==e||"object"==e&&"number"==typeof t.length}function c(t){return"function"==o(t)}function u(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function f(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:m).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var y=Date.now||function(){return+new Date};function v(t,e){function n(){}n.prototype=e.prototype,t.nb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ed=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function b(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function w(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function C(t){if(Error.captureStackTrace)Error.captureStackTrace(this,C);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function E(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");C.call(this,n+t[i])}function S(t,e){throw new E("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function x(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function T(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function k(){this.b=this.a=null}v(C,Error),C.prototype.name="CustomError",v(E,C),E.prototype.name="AssertionError",x.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var O=new x(function(){return new A},function(t){t.reset()});function I(){var t=dt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function A(){this.next=this.b=this.a=null}k.prototype.add=function(t,e){var n=O.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},A.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},A.prototype.reset=function(){this.next=this.b=this.a=null};var R=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(i(t))return i(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},D=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,s=i(t)?t.split(""):t,o=0;o<r;o++)o in s&&e.call(n,s[o],o,t)},P=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),s=i(t)?t.split(""):t,o=0;o<n;o++)o in s&&(r[o]=e.call(void 0,s[o],o,t));return r},M=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=i(t)?t.split(""):t,s=0;s<n;s++)if(s in r&&e.call(void 0,r[s],s,t))return!0;return!1};function N(t,e){return 0<=R(t,e)}function L(t,e){var n;return(n=0<=(e=R(t,e)))&&Array.prototype.splice.call(t,e,1),n}function F(t,e){!function(t,e){var n=t.length,r=i(t)?t.split(""):t;for(--n;0<=n;--n)n in r&&e.call(void 0,r[n],n,t)}(t,function(n,i){e.call(void 0,n,i,t)&&Array.prototype.splice.call(t,i,1)})}function j(t){return Array.prototype.concat.apply([],arguments)}function V(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function B(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}var U=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function z(t){return Q.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(W,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace($,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(q,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(G,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(Y,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(K,"&#0;")),t):t}var H,W=/&/g,$=/</g,q=/>/g,G=/"/g,Y=/'/g,K=/\x00/g,Q=/[\x00&<>"']/;function X(t,e){return-1!=t.indexOf(e)}function Z(t,e){return t<e?-1:t>e?1:0}t:{var J=n.navigator;if(J){var tt=J.userAgent;if(tt){H=tt;break t}}H=""}function et(t){return X(H,t)}function nt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function it(t){for(var e in t)return!1;return!0}function rt(t){var e,n={};for(e in t)n[e]=t[e];return n}var st,ot,at="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var s=0;s<at.length;s++)n=at[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function ht(t){n.setTimeout(function(){throw t},0)}function ct(t,e){ot||function(){if(n.Promise&&n.Promise.resolve){var t=n.Promise.resolve(void 0);ot=function(){t.then(pt)}}else ot=function(){var t=pt;!c(n.setImmediate)||n.Window&&n.Window.prototype&&!et("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(st||(st=function(){var t=n.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!et("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=g(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!et("Trident")&&!et("MSIE")){var e=new t,i={},r=i;return e.port1.onmessage=function(){if(void 0!==i.next){var t=(i=i.next).vb;i.vb=null,t()}},function(t){r.next={vb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}}()),st(t)):n.setImmediate(t)}}(),ut||(ot(),ut=!0),dt.add(t,e)}var ut=!1,dt=new k;function pt(){for(var t;t=I();){try{t.a.call(t.b)}catch(t){ht(t)}T(O,t)}ut=!1}function ft(t,e){if(this.a=mt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=s)try{var n=this;t.call(e,function(t){kt(n,gt,t)},function(t){if(!(t instanceof Mt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}kt(n,_t,t)})}catch(t){kt(this,_t,t)}}var mt=0,gt=2,_t=3;function yt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}yt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var vt=new x(function(){return new yt},function(t){t.reset()});function bt(t,e,n){var i=vt.get();return i.g=t,i.b=e,i.f=n,i}function wt(t){if(t instanceof ft)return t;var e=new ft(s);return kt(e,gt,t),e}function Ct(t){return new ft(function(e,n){n(t)})}function Et(t,e,n){Ot(t,e,n,null)||ct(_(e,t))}function St(t){return new ft(function(e){var n=t.length,i=[];if(n)for(var r=function(t,r,s){n--,i[t]=r?{Cb:!0,value:s}:{Cb:!1,reason:s},0==n&&e(i)},s=0;s<t.length;s++)Et(t[s],_(r,s,!0),_(r,s,!1));else e(i)})}function xt(t,e){t.b||t.a!=gt&&t.a!=_t||It(t),t.f?t.f.next=e:t.b=e,t.f=e}function Tt(t,e,n,i){var r=bt(null,null,null);return r.a=new ft(function(t,s){r.g=e?function(n){try{var r=e.call(i,n);t(r)}catch(t){s(t)}}:t,r.b=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof Mt?s(e):t(r)}catch(t){s(t)}}:s}),r.a.c=t,xt(t,r),r.a}function kt(t,e,n){t.a==mt&&(t===n&&(e=_t,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ot(n,t.Nc,t.Oc,t)||(t.i=n,t.a=e,t.c=null,It(t),e!=_t||n instanceof Mt||function(t,e){t.g=!0,ct(function(){t.g&&Pt.call(null,e)})}(t,n)))}function Ot(t,e,n,i){if(t instanceof ft)return xt(t,bt(e||s,n||null,i)),!0;if(w(t))return t.then(e,n,i),!0;if(u(t))try{var r=t.then;if(c(r))return function(t,e,n,i,r){function s(t){o||(o=!0,i.call(r,t))}var o=!1;try{e.call(t,function(t){o||(o=!0,n.call(r,t))},s)}catch(t){s(t)}}(t,r,e,n,i),!0}catch(t){return n.call(i,t),!0}return!1}function It(t){t.h||(t.h=!0,ct(t.Yb,t))}function At(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Rt(t,e,n,i){if(n==_t&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Dt(e,n,i);else try{e.c?e.g.call(e.f):Dt(e,n,i)}catch(t){Pt.call(null,t)}T(vt,e)}function Dt(t,e,n){e==gt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ft.prototype.then=function(t,e,n){return Tt(this,c(t)?t:null,c(e)?e:null,n)},b(ft),(t=ft.prototype).ia=function(t,e){return(t=bt(t,t,e)).c=!0,xt(this,t),this},t.s=function(t,e){return Tt(this,null,t,e)},t.cancel=function(t){this.a==mt&&ct(function(){!function t(e,n){if(e.a==mt)if(e.c){var i=e.c;if(i.b){for(var r=0,s=null,o=null,a=i.b;a&&(a.c||(r++,a.a==e&&(s=a),!(s&&1<r)));a=a.next)s||(o=a);s&&(i.a==mt&&1==r?t(i,n):(o?((r=o).next==i.f&&(i.f=r),r.next=r.next.next):At(i),Rt(i,s,_t,n)))}e.c=null}else kt(e,_t,n)}(this,new Mt(t))},this)},t.Nc=function(t){this.a=mt,kt(this,gt,t)},t.Oc=function(t){this.a=mt,kt(this,_t,t)},t.Yb=function(){for(var t;t=At(this);)Rt(this,t,this.a,this.i);this.h=!1};var Pt=ht;function Mt(t){C.call(this,t)}function Nt(){0!=Lt&&(Ft[this[d]||(this[d]=++p)]=this),this.pa=this.pa,this.ja=this.ja}v(Mt,C),Mt.prototype.name="cancel";var Lt=0,Ft={};function jt(t){if(!t.pa&&(t.pa=!0,t.ua(),0!=Lt)){var e=t[d]||(t[d]=++p);if(0!=Lt&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ft[e]}}function Vt(t){return Vt[" "](t),t}Nt.prototype.pa=!1,Nt.prototype.ua=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},Vt[" "]=s;var Bt,Ut=et("Opera"),zt=et("Trident")||et("MSIE"),Ht=et("Edge"),Wt=Ht||zt,$t=et("Gecko")&&!(X(H.toLowerCase(),"webkit")&&!et("Edge"))&&!(et("Trident")||et("MSIE"))&&!et("Edge"),qt=X(H.toLowerCase(),"webkit")&&!et("Edge");function Gt(){var t=n.document;return t?t.documentMode:void 0}t:{var Yt="",Kt=function(){var t=H;return $t?/rv:([^\);]+)(\)|;)/.exec(t):Ht?/Edge\/([\d\.]+)/.exec(t):zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):qt?/WebKit\/(\S+)/.exec(t):Ut?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Kt&&(Yt=Kt?Kt[1]:""),zt){var Qt=Gt();if(null!=Qt&&Qt>parseFloat(Yt)){Bt=String(Qt);break t}}Bt=Yt}var Xt,Zt={};function Jt(t){return function(t,e){var n=Zt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=U(String(Bt)).split("."),i=U(String(t)).split("."),r=Math.max(n.length,i.length),s=0;0==e&&s<r;s++){var o=n[s]||"",a=i[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Z(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Z(0==o[2].length,0==a[2].length)||Z(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var te=n.document;Xt=te&&zt?Gt()||("CSS1Compat"==te.compatMode?parseInt(Bt,10):5):void 0;var ee=Object.freeze||function(t){return t},ne=!zt||9<=Number(Xt),ie=zt&&!Jt("9"),re=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return n.addEventListener("test",s,e),n.removeEventListener("test",s,e),t}();function se(t,e){this.type=t,this.b=this.target=e,this.Jb=!0}function oe(t,e){if(se.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if($t){t:{try{Vt(e.nodeName);var s=!0;break t}catch(t){}s=!1}s||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=i(t.pointerType)?t.pointerType:ae[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}se.prototype.preventDefault=function(){this.Jb=!1},v(oe,se);var ae=ee({2:"touch",3:"pen",4:"mouse"});oe.prototype.preventDefault=function(){oe.nb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ie)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},oe.prototype.f=function(){return this.a};var le="closure_listenable_"+(1e6*Math.random()|0),he=0;function ce(t){t.na=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function ue(t){this.src=t,this.a={},this.b=0}function de(t,e){var n=e.type;n in t.a&&L(t.a[n],e)&&(ce(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function pe(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.na&&s.listener==e&&s.capture==!!n&&s.La==i)return r}return-1}ue.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=pe(t,e,i,r);return-1<o?(e=t[o],n||(e.Ia=!1)):((e=new function(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.La=r,this.key=++he,this.na=this.Ia=!1}(e,this.src,s,!!i,r)).Ia=n,t.push(e)),e};var fe="closure_lm_"+(1e6*Math.random()|0),me={};function ge(t,e,n,i,r){if(i&&i.once)ye(t,e,n,i,r);else if(l(e))for(var s=0;s<e.length;s++)ge(t,e[s],n,i,r);else n=ke(n),t&&t[le]?Ie(t,e,n,u(i)?!!i.capture:!!i,r):_e(t,e,n,!1,i,r)}function _e(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=u(r)?!!r.capture:!!r,a=xe(t);if(a||(t[fe]=a=new ue(t)),!(n=a.add(e,n,i,o,s)).proxy)if(i=function(){var t=Se,e=ne?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)re||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(we(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}}function ye(t,e,n,i,r){if(l(e))for(var s=0;s<e.length;s++)ye(t,e[s],n,i,r);else n=ke(n),t&&t[le]?Ae(t,e,n,u(i)?!!i.capture:!!i,r):_e(t,e,n,!0,i,r)}function ve(t,e,n,i,r){if(l(e))for(var s=0;s<e.length;s++)ve(t,e[s],n,i,r);else i=u(i)?!!i.capture:!!i,n=ke(n),t&&t[le]?(t=t.m,(e=String(e).toString())in t.a&&-1<(n=pe(s=t.a[e],n,i,r))&&(ce(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=xe(t))&&(e=t.a[e.toString()],t=-1,e&&(t=pe(e,n,i,r)),(n=-1<t?e[t]:null)&&be(n))}function be(t){if("number"!=typeof t&&t&&!t.na){var e=t.src;if(e&&e[le])de(e.m,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(we(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=xe(e))?(de(n,t),0==n.b&&(n.src=null,e[fe]=null)):ce(t)}}}function we(t){return t in me?me[t]:me[t]="on"+t}function Ce(t,e,n,i){var r=!0;if((t=xe(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var s=e[t];s&&s.capture==n&&!s.na&&(s=Ee(s,i),r=r&&!1!==s)}return r}function Ee(t,e){var n=t.listener,i=t.La||t.src;return t.Ia&&be(t),n.call(i,e)}function Se(t,e){if(t.na)return!0;if(!ne){if(!e)t:{e=["window","event"];for(var i=n,r=0;r<e.length;r++)if(null==(i=i[e[r]])){e=null;break t}e=i}if(e=new oe(r=e,this),i=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var s=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){s=!0}(s||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],s=e.b;s;s=s.parentNode)r.push(s);for(t=t.type,s=r.length-1;0<=s;s--){e.b=r[s];var o=Ce(r[s],t,!0,e);i=i&&o}for(s=0;s<r.length;s++)e.b=r[s],o=Ce(r[s],t,!1,e),i=i&&o}return i}return Ee(t,new oe(e,this))}function xe(t){return(t=t[fe])instanceof ue?t:null}var Te="__closure_events_fn_"+(1e9*Math.random()>>>0);function ke(t){return c(t)?t:(t[Te]||(t[Te]=function(e){return t.handleEvent(e)}),t[Te])}function Oe(){Nt.call(this),this.m=new ue(this),this.Rb=this,this.Ua=null}function Ie(t,e,n,i,r){t.m.add(String(e),n,!1,i,r)}function Ae(t,e,n,i,r){t.m.add(String(e),n,!0,i,r)}function Re(t,e,n,i){if(!(e=t.m.a[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.na&&o.capture==n){var a=o.listener,l=o.La||o.src;o.Ia&&de(t.m,o),r=!1!==a.call(l,i)&&r}}return r&&0!=i.Jb}function De(t,e,i){if(c(t))i&&(t=g(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:n.setTimeout(t,e||0)}function Pe(t){var e=null;return new ft(function(n,i){-1==(e=De(function(){n(void 0)},t))&&i(Error("Failed to schedule timer."))}).s(function(t){throw n.clearTimeout(e),t})}function Me(t){if(t.S&&"function"==typeof t.S)return t.S();if(i(t))return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Ne(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(h(t)||i(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Le(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Le)for(n=t.U(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Fe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];je(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)je(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function je(t,e){return Object.prototype.hasOwnProperty.call(t,e)}v(Oe,Nt),Oe.prototype[le]=!0,Oe.prototype.addEventListener=function(t,e,n,i){ge(this,t,e,n,i)},Oe.prototype.removeEventListener=function(t,e,n,i){ve(this,t,e,n,i)},Oe.prototype.dispatchEvent=function(t){var e,n=this.Ua;if(n)for(e=[];n;n=n.Ua)e.push(n);n=this.Rb;var r=t.type||t;if(i(t))t=new se(t,n);else if(t instanceof se)t.target=t.target||n;else{var s=t;lt(t=new se(r,n),s)}if(s=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];s=Re(a,r,!0,t)&&s}if(s=Re(a=t.b=n,r,!0,t)&&s,s=Re(a,r,!1,t)&&s,e)for(o=0;o<e.length;o++)s=Re(a=t.b=e[o],r,!1,t)&&s;return s},Oe.prototype.ua=function(){if(Oe.nb.ua.call(this),this.m){var t,e=this.m;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)ce(n[i]);delete e.a[t],e.b--}}this.Ua=null},(t=Le.prototype).S=function(){Fe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.U=function(){return Fe(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return je(this.b,t)?this.b[t]:e},t.set=function(t,e){je(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.U(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);t.call(e,s,r,this)}};var Ve=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Be(t,e){if(this.b=this.m=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof Be){this.f=void 0!==e?e:t.f,Ue(this,t.c),this.m=t.m,this.b=t.b,ze(this,t.i),this.g=t.g,e=t.a;var n=new nn;n.c=e.c,e.a&&(n.a=new Le(e.a),n.b=e.b),He(this,n),this.h=t.h}else t&&(n=String(t).match(Ve))?(this.f=!!e,Ue(this,n[1]||"",!0),this.m=Ye(n[2]||""),this.b=Ye(n[3]||"",!0),ze(this,n[4]),this.g=Ye(n[5]||"",!0),He(this,n[6]||"",!0),this.h=Ye(n[7]||"")):(this.f=!!e,this.a=new nn(null,this.f))}function Ue(t,e,n){t.c=n?Ye(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function ze(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function He(t,e,n){e instanceof nn?(t.a=e,function(t,e){e&&!t.f&&(rn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(on(this,e),ln(this,n,t))},t)),t.f=e}(t.a,t.f)):(n||(e=Ke(e,tn)),t.a=new nn(e,t.f))}function We(t,e,n){t.a.set(e,n)}function $e(t,e){return t.a.get(e)}function qe(t){return t instanceof Be?new Be(t):new Be(t,void 0)}function Ge(t,e){var n=new Be(null,void 0);return Ue(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function Ye(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ke(t,e,n){return i(t)?(t=encodeURI(t).replace(e,Qe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Qe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Be.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Ke(e,Xe,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.m)&&t.push(Ke(e,Xe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ke(n,"/"==n.charAt(0)?Je:Ze,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Ke(n,en)),t.join("")};var Xe=/[#\/\?@]/g,Ze=/[#\?:]/g,Je=/[#\?]/g,tn=/[#\?@]/g,en=/#/g;function nn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function rn(t){t.a||(t.a=new Le,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function sn(t){var e=Ne(t);if(void 0===e)throw Error("Keys are undefined");var n=new nn(null,void 0);t=Me(t);for(var i=0;i<e.length;i++){var r=e[i],s=t[i];l(s)?ln(n,r,s):n.add(r,s)}return n}function on(t,e){rn(t),e=hn(t,e),je(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,je((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Fe(t)))}function an(t,e){return rn(t),e=hn(t,e),je(t.a.b,e)}function ln(t,e,n){on(t,e),0<n.length&&(t.c=null,t.a.set(hn(t,e),V(n)),t.b+=n.length)}function hn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=nn.prototype).add=function(t,e){rn(this),this.c=null,t=hn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){rn(this),this.a.forEach(function(n,i){D(n,function(n){t.call(e,n,i,this)},this)},this)},t.U=function(){rn(this);for(var t=this.a.S(),e=this.a.U(),n=[],i=0;i<e.length;i++)for(var r=t[i],s=0;s<r.length;s++)n.push(e[i]);return n},t.S=function(t){rn(this);var e=[];if(i(t))an(this,t)&&(e=j(e,this.a.get(hn(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=j(e,t[n])}return e},t.set=function(t,e){return rn(this),this.c=null,an(this,t=hn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return 0<(t=t?this.S(t):[]).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.S(i);for(var s=0;s<i.length;s++){var o=r;""!==i[s]&&(o+="="+encodeURIComponent(String(i[s]))),t.push(o)}}return this.c=t.join("&")};var cn=!zt||9<=Number(Xt);function un(){this.a="",this.b=pn}function dn(t){return t instanceof un&&t.constructor===un&&t.b===pn?t.a:(S("expected object of type Const, got '"+t+"'"),"type_error:Const")}un.prototype.ma=!0,un.prototype.la=function(){return this.a},un.prototype.toString=function(){return"Const{"+this.a+"}"};var pn={};function fn(t){var e=new un;return e.a=t,e}function mn(){this.a="",this.b=bn}function gn(t){return t instanceof mn&&t.constructor===mn&&t.b===bn?t.a:(S("expected object of type TrustedResourceUrl, got '"+t+"' of type "+o(t)),"type_error:TrustedResourceUrl")}function _n(t,e){var n=dn(t);if(!vn.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=new mn;return e.a=t,e}(t=n.replace(yn,function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[i])instanceof un?dn(t):encodeURIComponent(String(t))}))}fn(""),mn.prototype.ma=!0,mn.prototype.la=function(){return this.a},mn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var yn=/%{(\w+)}/g,vn=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,bn={};function wn(){this.a="",this.b=xn}function Cn(t){return t instanceof wn&&t.constructor===wn&&t.b===xn?t.a:(S("expected object of type SafeUrl, got '"+t+"' of type "+o(t)),"type_error:SafeUrl")}wn.prototype.ma=!0,wn.prototype.la=function(){return this.a},wn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var En=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Sn(t){return t instanceof wn?t:(t=t.ma?t.la():String(t),En.test(t)||(t="about:invalid#zClosurez"),Tn(t))}var xn={};function Tn(t){var e=new wn;return e.a=t,e}function kn(){this.a="",this.b=On}Tn("about:blank"),kn.prototype.ma=!0,kn.prototype.la=function(){return this.a},kn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var On={};function In(t){var e=new kn;return e.a=t,e}function An(t){var e=document;return i(t)?e.getElementById(t):t}function Rn(t,e){nt(e,function(e,n){e&&e.ma&&(e=e.la()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Dn.hasOwnProperty(n)?t.setAttribute(Dn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}In("<!DOCTYPE html>"),In(""),In("<br>");var Dn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Pn(t){if(t&&"number"==typeof t.length){if(u(t))return"function"==typeof t.item||"string"==typeof t.item;if(c(t))return"function"==typeof t.item}return!1}function Mn(t){var e=[];return function t(e,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(l(n)){var r=n;n=r.length,i.push("[");for(var s="",o=0;o<n;o++)i.push(s),t(e,r[o],i),s=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(r in i.push("{"),s="",n)Object.prototype.hasOwnProperty.call(n,r)&&"function"!=typeof(o=n[r])&&(i.push(s),Fn(r,i),i.push(":"),t(e,o,i),s=",");return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":Fn(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new function(){},t,e),e.join("")}var Nn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ln=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Fn(t,e){e.push('"',t.replace(Ln,function(t){var e=Nn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Nn[t]=e),e}),'"')}function jn(){var t=ni();return zt&&!!Xt&&11==Xt||/Edge\/\d+/.test(t)}function Vn(){return n.window&&n.window.location.href||self&&self.location&&self.location.href||""}function Bn(t,e){e=e||n.window;var i="about:blank";t&&(i=Cn(Sn(t))),e.location.href=i}function Un(t){return!!((t=(t||ni()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function zn(t){t=t||n.window;try{t.close()}catch(t){}}function Hn(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,s=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<r?r:0,left:0<s?s:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=ni().toLowerCase(),i&&(e.target=i,X(n,"crios/")&&(e.target="_blank")),Jn(ni())==Xn&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof wn?n:Sn(void 0!==n.href?n.href:String(n)),n=t.target||n.target,r=[],t)switch(a){case"width":case"height":case"top":case"left":r.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(a+"="+(t[a]?1:0))}var a=r.join(",");if((et("iPhone")&&!et("iPod")&&!et("iPad")||et("iPad")||et("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(a=i.document.createElement("A"),e instanceof wn||e instanceof wn||(e=e.ma?e.la():String(e),En.test(e)||(e="about:invalid#zClosurez"),e=Tn(e)),a.href=Cn(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=i.open("",n,a),t=Cn(e),a&&(Wt&&X(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,fn("b/12014412, meta tag with sanitized URL"),t=In(t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+z(t)+'">'),a.document.write(function(t){return t instanceof kn&&t.constructor===kn&&t.b===On?t.a:(S("expected object of type SafeHtml, got '"+t+"' of type "+o(t)),"type_error:SafeHtml")}(t)),a.document.close())):(a=i.open(Cn(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var Wn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;function $n(){var t=null;return new ft(function(e){"complete"==n.document.readyState?e():(t=function(){e()},ye(window,"load",t))}).s(function(e){throw ve(window,"load",t),e})}function qn(t){return t=t||ni(),!("file:"!==ai()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gn(){var t=n.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Yn(){return"object"!=typeof n.window&&"function"==typeof n.importScripts}function Kn(){return Wu.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Wu.a.INTERNAL.hasOwnProperty("node")?"Node":Yn()?"Worker":"Browser"}function Qn(){var t=Kn();return"ReactNative"===t||"Node"===t}var Xn="Firefox",Zn="Chrome";function Jn(t){var e=t.toLowerCase();return X(e,"opera/")||X(e,"opr/")||X(e,"opios/")?"Opera":X(e,"iemobile")?"IEMobile":X(e,"msie")||X(e,"trident/")?"IE":X(e,"edge/")?"Edge":X(e,"firefox/")?Xn:X(e,"silk/")?"Silk":X(e,"blackberry")?"Blackberry":X(e,"webos")?"Webos":!X(e,"safari/")||X(e,"chrome/")||X(e,"crios/")||X(e,"android")?!X(e,"chrome/")&&!X(e,"crios/")||X(e,"edge/")?X(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Zn:"Safari"}var ti={Uc:"FirebaseCore-web",Wc:"FirebaseUI-web"};function ei(t,e){e=e||[];var n,i=[],r={};for(n in ti)r[ti[n]]=!0;for(n=0;n<e.length;n++)void 0!==r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=Kn())?i=Jn(r=ni()):"Worker"===i&&(i=Jn(r=ni())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function ni(){return n.navigator&&n.navigator.userAgent||""}function ii(t,e){t=t.split("."),e=e||n;for(var i=0;i<t.length&&"object"==typeof e&&null!=e;i++)e=e[t[i]];return i!=t.length&&(e=void 0),e}function ri(){try{var t=n.localStorage,e=di();if(t)return t.setItem(e,"1"),t.removeItem(e),!jn()||!!n.indexedDB}catch(t){return Yn()&&!!n.indexedDB}return!1}function si(){return(oi()||"chrome-extension:"===ai()||qn())&&!Qn()&&ri()&&!Yn()}function oi(){return"http:"===ai()||"https:"===ai()}function ai(){return n.location&&n.location.protocol||null}function li(t){return!Un(t=t||ni())&&Jn(t)!=Xn}function hi(t){return void 0===t?null:Mn(t)}function ci(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function ui(t){if(null!==t)return JSON.parse(t)}function di(t){return t||Math.floor(1e9*Math.random()).toString()}function pi(t){return"Safari"!=Jn(t=t||ni())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function fi(){var t=n.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var i=0;i<t.CP.length;i++)t.CP[i]=null}function mi(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=ni(),e=Kn(),this.b=Un(t)||"ReactNative"===e}function gi(){var t=n.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function _i(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function yi(){return!(!ii("fireauth.oauthhelper",n)&&!ii("fireauth.iframe",n))}mi.prototype.get=function(){var t=n.navigator;return!t||"boolean"!=typeof t.onLine||!oi()&&"chrome-extension:"!==ai()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var vi,bi={};function wi(t){bi[t]||(bi[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Ci={};Object.defineProperty(Ci,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ci,"abcd",{configurable:!0,enumerable:!0,value:2}),vi=2==Ci.abcd}catch(t){vi=!1}function Ei(t,e,n){vi?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Si(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Ei(t,n,e[n])}function xi(t){var e={};return Si(e,t),e}function Ti(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Ei(e,n,Ti(t[n]));return e}function ki(t,e){this.code=Ii+t,this.message=e||Ai[t]||""}function Oi(t){var e=t&&t.code;return e?new ki(e.substring(Ii.length),t.message):null}v(ki,Error),ki.prototype.D=function(){return{code:this.code,message:this.message}},ki.prototype.toJSON=function(){return this.D()};var Ii="auth/",Ai={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Ri(t){var e=t[Ni];if(void 0===e)throw new ki("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new ki("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Di];if(n&&"object"==typeof n){e=n[ji];var i=n[Li];if(n=n[Fi],"string"==typeof e&&e.length){if(this.a=e,void 0!==i&&"boolean"!=typeof i)throw new ki("argument-error",Li+" property must be a boolean when specified.");if(this.g=!!i,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new ki("argument-error",Fi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new ki("argument-error",ji+" property must be a non empty string when specified.");if(void 0!==i||void 0!==n)throw new ki("missing-android-pkg-name")}}else if(void 0!==n)throw new ki("argument-error",Di+" property must be a non null object when specified.");if(this.f=null,(e=t[Mi])&&"object"==typeof e){if("string"==typeof(e=e[Vi])&&e.length)this.f=e;else if(void 0!==e)throw new ki("argument-error",Vi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new ki("argument-error",Mi+" property must be a non null object when specified.");if(void 0!==(t=t[Pi])&&"boolean"!=typeof t)throw new ki("argument-error",Pi+" property must be a boolean when specified.");this.c=!!t}var Di="android",Pi="handleCodeInApp",Mi="iOS",Ni="url",Li="installApp",Fi="minimumVersion",ji="packageName",Vi="bundleId";function Bi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e)null===e[n]&&delete e[n];return e}var Ui=null,zi=null;function Hi(t){this.c=t.sub,y(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Wi(t){return(t=$i(t))&&t.sub&&t.iss&&t.aud&&t.exp?new Hi(t):null}function $i(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=zi[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={},zi={};for(var t=0;65>t;t++)Ui[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),zi[Ui[t]]=t,62<=t&&(zi["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var i=0;;){var r=n(-1),s=n(0),o=n(64),a=n(64);if(64===a&&-1===r)break;e(r<<2|s>>4),64!=o&&(e(s<<4&240|o>>2),64!=a&&e(o<<6&192|a))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(t){}return null}Hi.prototype.f=function(){return this.b};var qi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gi=["client_id","response_type","scope","redirect_uri","state"],Yi={Vc:{Ma:"locale",Ba:500,Aa:600,Na:"facebook.com",gb:Gi},Xc:{Ma:null,Ba:500,Aa:620,Na:"github.com",gb:Gi},Yc:{Ma:"hl",Ba:515,Aa:680,Na:"google.com",gb:Gi},dd:{Ma:"lang",Ba:485,Aa:705,Na:"twitter.com",gb:qi}};function Ki(t){for(var e in Yi)if(Yi[e].Na==t)return Yi[e];return null}function Qi(t){var e={};e["facebook.com"]=er,e["google.com"]=ir,e["github.com"]=nr,e["twitter.com"]=rr;var n=t&&t[Zi];try{if(n)return e[n]?new e[n](t):new tr(t);if(void 0!==t[Xi])return new Ji(t)}catch(t){}return null}var Xi="idToken",Zi="providerId";function Ji(t){var e=t[Zi];if(!e&&t[Xi]){var n=Wi(t[Xi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Ei(this,"providerId",e),Ei(this,"isNewUser",n)}function tr(t){Ji.call(this,t),Ei(this,"profile",Ti((t=ui(t.rawUserInfo||"{}"))||{}))}function er(t){if(tr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function nr(t){if(tr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ei(this,"username",this.profile&&this.profile.login||null)}function ir(t){if(tr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function rr(t){if(tr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ei(this,"username",t.screenName||null)}function sr(t){var e=qe(t),n=$e(e,"link"),i=$e(qe(n),"link");return $e(qe(e=$e(e,"deep_link_id")),"link")||e||i||n||t}function or(t,e){return t.then(function(t){if(t[Fs]){var n=Wi(t[Fs]);if(!n||e!=n.c)throw new ki("user-mismatch");return t}throw new ki("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==Ii+"user-not-found"?new ki("user-mismatch"):t})}function ar(t,e,n){if(e.idToken||e.accessToken)e.idToken&&Ei(this,"idToken",e.idToken),e.accessToken&&Ei(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new ki("internal-error","failed to construct a credential");Ei(this,"accessToken",e.oauthToken),Ei(this,"secret",e.oauthTokenSecret)}Ei(this,"providerId",t),Ei(this,"signInMethod",n)}function lr(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:sn(e).toString(),requestUri:"http://localhost"}}function hr(t,e){this.Dc=e||[],Si(this,{providerId:t,isOAuthProvider:!0}),this.xb={},this.bb=(Ki(t)||{}).Ma||null,this.Za=null}function cr(t){hr.call(this,t,Gi),this.a=[]}function ur(){cr.call(this,"facebook.com")}function dr(t){if(!t)throw new ki("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return u(t)&&(e=t.accessToken),(new ur).credential(null,e)}function pr(){cr.call(this,"github.com")}function fr(t){if(!t)throw new ki("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return u(t)&&(e=t.accessToken),(new pr).credential(null,e)}function mr(){cr.call(this,"google.com"),this.ta("profile")}function gr(t,e){var n=t;return u(t)&&(n=t.idToken,e=t.accessToken),(new mr).credential(n,e)}function _r(){hr.call(this,"twitter.com",qi)}function yr(t,e){var n=t;if(u(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new ki("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ar("twitter.com",n,"twitter.com")}function vr(t,e,n){this.a=t,this.b=e,Ei(this,"providerId","password"),Ei(this,"signInMethod",n===br.EMAIL_LINK_SIGN_IN_METHOD?br.EMAIL_LINK_SIGN_IN_METHOD:br.EMAIL_PASSWORD_SIGN_IN_METHOD)}function br(){Si(this,{providerId:"password",isOAuthProvider:!1})}function wr(t,e){if(!(e=Cr(e)))throw new ki("argument-error","Invalid email link!");return new vr(t,e,br.EMAIL_LINK_SIGN_IN_METHOD)}function Cr(t){var e=$e((t=new function(t){this.a=qe(t)}(t=sr(t))).a,"oobCode")||null;return"signIn"===($e(t.a,"mode")||null)&&e?e:null}function Er(t){if(!(t.Sa&&t.Ra||t.Fa&&t.$))throw new ki("internal-error");this.a=t,Ei(this,"providerId","phone"),Ei(this,"signInMethod","phone")}function Sr(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Sa,code:t.a.Ra}}function xr(t){try{this.a=t||Wu.a.auth()}catch(t){throw new ki("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Si(this,{providerId:"phone",isOAuthProvider:!1})}function Tr(t,e){if(!t)throw new ki("missing-verification-id");if(!e)throw new ki("missing-verification-code");return new Er({Sa:t,Ra:e})}function kr(t){if(t.temporaryProof&&t.phoneNumber)return new Er({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return gr(t,n);case"facebook.com":return dr(n);case"github.com":return fr(n);case"twitter.com":return yr(n,i);default:return new cr(e).credential(t,n)}}catch(t){return null}}function Or(t){if(!t.isOAuthProvider)throw new ki("invalid-oauth-provider")}function Ir(t,e,n,i,r){if(this.b=t,this.c=e||null,this.f=n||null,this.g=i||null,this.a=r||null,!this.f&&!this.a)throw new ki("invalid-auth-event");if(this.f&&this.a)throw new ki("invalid-auth-event");if(this.f&&!this.g)throw new ki("invalid-auth-event")}function Ar(t){return(t=t||{}).type?new Ir(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Oi(t.error)):null}function Rr(){this.b=null,this.a=[]}v(tr,Ji),v(er,tr),v(nr,tr),v(ir,tr),v(rr,tr),ar.prototype.ya=function(t){return to(t,lr(this))},ar.prototype.c=function(t,e){var n=lr(this);return n.idToken=e,eo(t,n)},ar.prototype.f=function(t,e){return or(no(t,lr(this)),e)},ar.prototype.D=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t},hr.prototype.Da=function(t){return this.xb=rt(t),this},v(cr,hr),cr.prototype.ta=function(t){return N(this.a,t)||this.a.push(t),this},cr.prototype.Db=function(){return V(this.a)},cr.prototype.credential=function(t,e){if(!t&&!e)throw new ki("argument-error","credential failed: must provide the ID token and/or the access token.");return new ar(this.providerId,{idToken:t||null,accessToken:e||null},this.providerId)},v(ur,cr),Ei(ur,"PROVIDER_ID","facebook.com"),Ei(ur,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),v(pr,cr),Ei(pr,"PROVIDER_ID","github.com"),Ei(pr,"GITHUB_SIGN_IN_METHOD","github.com"),v(mr,cr),Ei(mr,"PROVIDER_ID","google.com"),Ei(mr,"GOOGLE_SIGN_IN_METHOD","google.com"),v(_r,hr),Ei(_r,"PROVIDER_ID","twitter.com"),Ei(_r,"TWITTER_SIGN_IN_METHOD","twitter.com"),vr.prototype.ya=function(t){return this.signInMethod==br.EMAIL_LINK_SIGN_IN_METHOD?Do(t,co,{email:this.a,oobCode:this.b}):Do(t,Oo,{email:this.a,password:this.b})},vr.prototype.c=function(t,e){return this.signInMethod==br.EMAIL_LINK_SIGN_IN_METHOD?Do(t,uo,{idToken:e,email:this.a,oobCode:this.b}):Do(t,Co,{idToken:e,email:this.a,password:this.b})},vr.prototype.f=function(t,e){return or(this.ya(t),e)},vr.prototype.D=function(){return{email:this.a,password:this.b,signInMethod:this.signInMethod}},Si(br,{PROVIDER_ID:"password"}),Si(br,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Si(br,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Er.prototype.ya=function(t){return t.Ta(Sr(this))},Er.prototype.c=function(t,e){var n=Sr(this);return n.idToken=e,Do(t,Ao,n)},Er.prototype.f=function(t,e){var n=Sr(this);return n.operation="REAUTH",or(t=Do(t,Ro,n),e)},Er.prototype.D=function(){var t={providerId:"phone"};return this.a.Sa&&(t.verificationId=this.a.Sa),this.a.Ra&&(t.verificationCode=this.a.Ra),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},xr.prototype.Ta=function(t,e){var n=this.a.b;return wt(e.verify()).then(function(r){if(!i(r))throw new ki("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return Do(n,bo,e)}(0,{phoneNumber:t,recaptchaToken:r}).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new ki("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Si(xr,{PROVIDER_ID:"phone"}),Si(xr,{PHONE_SIGN_IN_METHOD:"phone"}),Ir.prototype.D=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.D()}};var Dr=null;function Pr(t){var e="unauthorized-domain",n=void 0,i=qe(t);t=i.b,"chrome-extension"==(i=i.c)?n=B("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=B("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",ki.call(this,e,n)}function Mr(t,e,n){ki.call(this,t,n),(t=e||{}).yb&&Ei(this,"email",t.yb),t.$&&Ei(this,"phoneNumber",t.$),t.credential&&Ei(this,"credential",t.credential)}function Nr(t){if(t.code){var e=t.code||"";0==e.indexOf(Ii)&&(e=e.substring(Ii.length));var n={credential:kr(t)};if(t.email)n.yb=t.email;else{if(!t.phoneNumber)return new ki(e,t.message||void 0);n.$=t.phoneNumber}return new Mr(e,n,t.message)}return null}Rr.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=ii("universalLinks.subscribe",n))&&t(null,this.b))},Rr.prototype.unsubscribe=function(t){F(this.a,function(e){return e==t})},v(Pr,ki),v(Mr,ki),Mr.prototype.D=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.D();return e&&lt(t,e),t},Mr.prototype.toJSON=function(){return this.D()};var Lr,Fr=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function jr(){}function Vr(){}function Br(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ur(){}function zr(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=g(this.ec,this),this.a.onerror=g(this.Eb,this),this.a.onprogress=g(this.fc,this),this.a.ontimeout=g(this.ic,this)}function Hr(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Wr(t,e,n){this.reset(t,e,n,void 0,void 0)}function $r(t){this.f=t,this.b=this.c=this.a=null}function qr(t,e){this.name=t,this.value=e}jr.prototype.c=null,v(Vr,jr),Vr.prototype.a=function(){var t=Br(this);return t?new ActiveXObject(t):new XMLHttpRequest},Vr.prototype.b=function(){var t={};return Br(this)&&(t[0]=!0,t[1]=!0),t},Lr=new Vr,v(Ur,jr),Ur.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new zr;throw Error("Unsupported browser")},Ur.prototype.b=function(){return{}},(t=zr.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.ec=function(){this.status=200,this.responseText=this.a.responseText,Hr(this,4)},t.Eb=function(){this.status=500,this.responseText="",Hr(this,4)},t.ic=function(){this.Eb()},t.fc=function(){this.status=200,Hr(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Wr.prototype.a=null,Wr.prototype.reset=function(t,e,n,i,r){i||y(),delete this.a},qr.prototype.toString=function(){return this.name};var Gr=new qr("SEVERE",1e3),Yr=new qr("WARNING",900),Kr=new qr("CONFIG",700),Qr=new qr("FINE",500);$r.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(S("Root logger has no level set."),null)}(this).value)for(c(e)&&(e=e()),t=new Wr(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Xr={},Zr=null;function Jr(t){var e;if(Zr||(Zr=new $r(""),Xr[""]=Zr,Zr.c=Kr),!(e=Xr[t])){e=new $r(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=Jr(t.substr(0,n))).b||(n.b={}),n.b[i]=e,e.a=n,Xr[t]=e}return e}function ts(t,e){t&&t.log(Qr,e,void 0)}function es(t){this.f=t}function ns(t){Oe.call(this),this.i=t,this.readyState=is,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=Jr("goog.net.FetchXmlHttp")}v(es,jr),es.prototype.a=function(){return new ns(this.f)},es.prototype.b=function(t){return function(){return t}}({}),v(ns,Oe);var is=0;function rs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ss(t){Oe.call(this),this.headers=new Le,this.C=t||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=os,this.v=this.O=!1}(t=ns.prototype).open=function(t,e){if(this.readyState!=is)throw this.abort(),Error("Error reopening a connection");this.h=t,this.c=e,this.readyState=1,rs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.g,method:this.h,credentials:void 0,cache:void 0};t&&(e.body=t),this.i.fetch(new Request(this.c,e)).then(this.hc.bind(this),this.Fb.bind(this))},t.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,rs(this)),this.readyState=is},t.hc=function(t){this.a&&(this.b||(this.b=t.headers,this.readyState=2,rs(this)),this.a&&(this.readyState=3,rs(this),this.a&&t.text().then(this.gc.bind(this,t),this.Fb.bind(this))))},t.gc=function(t,e){this.a&&(this.status=t.status,this.statusText=t.statusText,this.responseText=e,this.readyState=4,rs(this))},t.Fb=function(t){var e=this.f;e&&e.log(Yr,"Failed to fetch url "+this.c,t instanceof Error?t:Error(t)),this.a&&(this.readyState=4,rs(this))},t.setRequestHeader=function(t,e){this.g.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.f)&&t.log(Yr,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.f;return t&&t.log(Yr,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},v(ss,Oe);var os="";ss.prototype.b=Jr("goog.net.XhrIo");var as=/^https?$/i,ls=["POST","PUT"];function hs(t){return"content-type"==t.toLowerCase()}function cs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,us(t),ps(t)}function us(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ds(t){if(t.c&&void 0!==e)if(t.w[1]&&4==ms(t)&&2==gs(t))ts(t.b,_s(t,"Local request error detected and ignored"));else if(t.i&&4==ms(t))De(t.Ib,0,t);else if(t.dispatchEvent("readystatechange"),4==ms(t)){ts(t.b,_s(t,"Request complete")),t.c=!1;try{var i,r=gs(t);t:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break t;default:s=!1}if(!(i=s)){var o;if(o=0===r){var a=String(t.l).match(Ve)[1]||null;if(!a&&n.self&&n.self.location){var l=n.self.location.protocol;a=l.substr(0,l.length-1)}o=!as.test(a?a.toLowerCase():"")}i=o}if(i)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var h=2<ms(t)?t.a.statusText:""}catch(e){ts(t.b,"Can not get status: "+e.message),h=""}t.h=h+" ["+gs(t)+"]",us(t)}}finally{ps(t)}}}function ps(t,e){if(t.a){fs(t);var n=t.a,i=t.w[0]?s:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(e){(t=t.b)&&t.log(Gr,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function fs(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(n.clearTimeout(t.u),t.u=null)}function ms(t){return t.a?t.a.readyState:0}function gs(t){try{return 2<ms(t)?t.a.status:-1}catch(t){return-1}}function _s(t,e){return e+" ["+t.N+" "+t.l+" "+gs(t)+"]"}function ys(t,e){this.g=[],this.v=t,this.u=e||null,this.f=this.a=!1,this.c=void 0,this.l=this.w=this.i=!1,this.h=0,this.b=null,this.m=0}function vs(t,e,n){t.a=!0,t.c=n,t.f=!e,Es(t)}function bs(t){if(t.a){if(!t.l)throw new Ss(t);t.l=!1}}function ws(t,e,n,i){t.g.push([e,n,i]),t.a&&Es(t)}function Cs(t){return M(t.g,function(t){return c(t[1])})}function Es(t){if(t.h&&t.a&&Cs(t)){var e=t.h,i=ks[e];i&&(n.clearTimeout(i.a),delete ks[e]),t.h=0}t.b&&(t.b.m--,delete t.b),e=t.c;for(var r=i=!1;t.g.length&&!t.i;){var s=t.g.shift(),o=s[0],a=s[1];if(s=s[2],o=t.f?a:o)try{var l=o.call(s||t.u,e);void 0!==l&&(t.f=t.f&&(l==e||l instanceof Error),t.c=e=l),(w(e)||"function"==typeof n.Promise&&e instanceof n.Promise)&&(r=!0,t.i=!0)}catch(n){e=n,t.f=!0,Cs(t)||(i=!0)}}t.c=e,r&&(l=g(t.o,t,!0),r=g(t.o,t,!1),e instanceof ys?(ws(e,l,r),e.w=!0):e.then(l,r)),i&&(e=new Ts(e),ks[e.a]=e,t.h=e.a)}function Ss(){C.call(this)}function xs(){C.call(this)}function Ts(t){this.a=n.setTimeout(g(this.c,this),0),this.b=t}(t=ss.prototype).Ga=function(){void 0!==e&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ts(this.b,_s(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ts(this.b,_s(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ps(this))},t.ua=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ps(this,!0)),ss.nb.ua.call(this)},t.Ib=function(){this.pa||(this.I||this.i||this.f?ds(this):this.wc())},t.wc=function(){ds(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case os:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Gr,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(t){return ts(this.b,"Can not get response: "+t.message),null}},ys.prototype.cancel=function(t){if(this.a)this.c instanceof ys&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.m--,0>=e.m&&e.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(t=new xs(this),bs(this),vs(this,!1,t))}},ys.prototype.o=function(t,e){this.i=!1,vs(this,t,e)},ys.prototype.C=function(){bs(this),vs(this,!0,null)},ys.prototype.then=function(t,e,n){var i,r,s=new ft(function(t,e){i=t,r=e});return ws(this,i,function(t){t instanceof xs?s.cancel():r(t)}),s.then(t,e,n)},b(ys),v(Ss,C),Ss.prototype.message="Deferred has already fired",Ss.prototype.name="AlreadyCalledError",v(xs,C),xs.prototype.message="Deferred was canceled",xs.prototype.name="CanceledError",Ts.prototype.c=function(){throw delete ks[this.a],this.b};var ks={};function Os(t){var e={},n=e.document||document,i=gn(t),r=document.createElement("SCRIPT"),s={Kb:r,Ga:void 0},o=new ys(Is,s),a=null,l=null!=e.timeout?e.timeout:5e3;return 0<l&&(a=window.setTimeout(function(){As(r,!0);var t=new Ps(Ds,"Timeout reached for loading script "+i);bs(o),vs(o,!1,t)},l),s.Ga=a),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(As(r,e.fd||!1,a),o.C())},r.onerror=function(){As(r,!0,a);var t=new Ps(Rs,"Error while loading script "+i);bs(o),vs(o,!1,t)},lt(s=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Rn(r,s),r.src=gn(t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),o}function Is(){if(this&&this.Kb){var t=this.Kb;t&&"SCRIPT"==t.tagName&&As(t,!0,this.Ga)}}function As(t,e,i){null!=i&&n.clearTimeout(i),t.onload=s,t.onerror=s,t.onreadystatechange=s,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Rs=0,Ds=1;function Ps(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),C.call(this,n),this.code=t}function Ms(t){this.f=t}function Ns(t,e,i){if(this.b=t,this.i=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||js,this.f=rt(t.secureTokenHeaders||Vs),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||Bs,this.a=rt(t.firebaseHeaders||Us),i&&(this.a["X-Client-Version"]=i,this.f["X-Client-Version"]=i),i="Node"==Kn(),!(i=n.XMLHttpRequest||i&&Wu.a.INTERNAL.node&&Wu.a.INTERNAL.node.XMLHttpRequest)&&!Yn())throw new ki("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,this.c=Yn()?new es(self):Qn()?new Ms(i):new Ur}v(Ps,C),v(Ms,jr),Ms.prototype.a=function(){return new this.f},Ms.prototype.b=function(){return{}};var Ls,Fs="idToken",js=new mi(3e4,6e4),Vs={"Content-Type":"application/x-www-form-urlencoded"},Bs=new mi(3e4,6e4),Us={"Content-Type":"application/json"};function zs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Hs(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function Ws(t,e,i,r,s,o,a){(function(){var t=ni();return!((t=Jn(t)!=Zn?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||zt&&Xt&&!(9<Xt))})()||Yn()?t=g(t.o,t):(Ls||(Ls=new ft(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{n[qs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var i=_n($s,{onload:qs});!function(t,e){ws(Os(i),null,e,void 0)}(0,function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=g(t.l,t)),t(e,i,r,s,o,a)}Ns.prototype.o=function(t,e,r,s,o,a){if(Yn()&&(void 0===n.fetch||void 0===n.Headers||void 0===n.Request))throw new ki("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var l=new ss(this.c);if(a){l.g=Math.max(0,a);var c=setTimeout(function(){l.dispatchEvent("timeout")},a)}Ie(l,"complete",function(){c&&clearTimeout(c);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ts(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)}),Ae(l,"ready",function(){c&&clearTimeout(c),jt(this)}),Ae(l,"timeout",function(){c&&clearTimeout(c),jt(this),e&&e(null)}),function(t,e,r,s,o){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);r=r?r.toUpperCase():"GET",t.l=e,t.h="",t.N=r,t.G=!1,t.c=!0,t.a=t.C?t.C.a():Lr.a(),t.w=function(t){return t.c||(t.c=t.b())}(t.C?t.C:Lr),t.a.onreadystatechange=g(t.Ib,t);try{ts(t.b,_s(t,"Opening Xhr")),t.I=!0,t.a.open(r,String(e),!0),t.I=!1}catch(e){return ts(t.b,_s(t,"Error opening Xhr: "+e.message)),void cs(t,e)}e=s||"";var a=new Le(t.headers);o&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||i(t))D(t,e,void 0);else for(var n=Ne(t),r=Me(t),s=r.length,o=0;o<s;o++)e.call(void 0,r[o],n&&n[o],t)}(o,function(t,e){a.set(e,t)}),o=function(t){t:{for(var e=hs,n=t.length,r=i(t)?t.split(""):t,s=0;s<n;s++)if(s in r&&e.call(void 0,r[s],s,t)){e=s;break t}e=-1}return 0>e?null:i(t)?t.charAt(e):t[e]}(a.U()),s=n.FormData&&e instanceof n.FormData,!N(ls,r)||o||s||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.o&&(t.a.responseType=t.o),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{fs(t),0<t.g&&(t.v=function(t){return zt&&Jt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ts(t.b,_s(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=g(t.Ga,t)):t.u=De(t.Ga,t.g,t)),ts(t.b,_s(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){ts(t.b,_s(t,"Send error: "+e.message)),cs(t,e)}}(l,t,r,s,o)};var $s=fn("https://apis.google.com/js/client.js?onload=%{onload}"),qs="__fcb"+Math.floor(1e6*Math.random()).toString();function Gs(t){if(!Fr.test(t.email))throw new ki("invalid-email")}function Ys(t){"email"in t&&Gs(t)}function Ks(t){if(!t[Fs])throw new ki("internal-error")}function Qs(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new ki("internal-error")}else{if(!t.sessionInfo)throw new ki("missing-verification-id");if(!t.code)throw new ki("missing-verification-code")}}Ns.prototype.l=function(t,e,n,i,r){var s=this;Ls.then(function(){window.gapi.client.setApiKey(s.b);var o=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(o),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Ns.prototype.Pa=function(){return Do(this,Eo,{})},Ns.prototype.ob=function(t,e){return Do(this,wo,{idToken:t,email:e})},Ns.prototype.pb=function(t,e){return Do(this,Co,{idToken:t,password:e})};var Xs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Zs(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new ki("internal-error")}function Js(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Nr(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Nr(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Nr(t)):t.errorMessage&&(e=Po(t.errorMessage)),e)throw e;if(!t[Fs])throw new ki("internal-error")}function to(t,e){return e.returnIdpCredential=!0,Do(t,So,e)}function eo(t,e){return e.returnIdpCredential=!0,Do(t,To,e)}function no(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Do(t,xo,e)}function io(t){if(!t.oobCode)throw new ki("invalid-action-code")}(t=Ns.prototype).qb=function(t,e){var n={idToken:t},i=[];return nt(Xs,function(t,r){var s=e[r];null===s?i.push(t):r in e&&(n[r]=s)}),i.length&&(n.deleteAttribute=i),Do(this,wo,n)},t.jb=function(t,e){return lt(t={requestType:"PASSWORD_RESET",email:t},e),Do(this,go,t)},t.kb=function(t,e){return lt(t={requestType:"EMAIL_SIGNIN",email:t},e),Do(this,fo,t)},t.ib=function(t,e){return lt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Do(this,mo,t)},t.Ta=function(t){return Do(this,Io,t)},t.Ya=function(t,e){return Do(this,vo,{oobCode:t,newPassword:e})},t.Ja=function(t){return Do(this,so,{oobCode:t})},t.Va=function(t){return Do(this,ro,{oobCode:t})};var ro={endpoint:"setAccountInfo",B:io,da:"email"},so={endpoint:"resetPassword",B:io,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new ki("internal-error")}},oo={endpoint:"signupNewUser",B:function(t){if(Gs(t),!t.password)throw new ki("weak-password")},J:Ks,R:!0},ao={endpoint:"createAuthUri"},lo={endpoint:"deleteAccount",T:["idToken"]},ho={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(t){if(!l(t.deleteProvider))throw new ki("internal-error")}},co={endpoint:"emailLinkSignin",T:["email","oobCode"],B:Gs,J:Ks,R:!0},uo={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:Gs,J:Ks,R:!0},po={endpoint:"getAccountInfo"},fo={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new ki("internal-error");Gs(t)},da:"email"},mo={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new ki("internal-error")},da:"email"},go={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new ki("internal-error");Gs(t)},da:"email"},_o={tb:!0,endpoint:"getProjectConfig",Hb:"GET"},yo={tb:!0,endpoint:"getRecaptchaParam",Hb:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new ki("internal-error")}},vo={endpoint:"resetPassword",B:io,da:"email"},bo={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},wo={endpoint:"setAccountInfo",T:["idToken"],B:Ys,R:!0},Co={endpoint:"setAccountInfo",T:["idToken"],B:function(t){if(Ys(t),!t.password)throw new ki("weak-password")},J:Ks,R:!0},Eo={endpoint:"signupNewUser",J:Ks,R:!0},So={endpoint:"verifyAssertion",B:Zs,J:Js,R:!0},xo={endpoint:"verifyAssertion",B:Zs,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new ki("user-not-found");if(t.errorMessage)throw Po(t.errorMessage);if(!t[Fs])throw new ki("internal-error")},R:!0},To={endpoint:"verifyAssertion",B:function(t){if(Zs(t),!t.idToken)throw new ki("internal-error")},J:Js,R:!0},ko={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new ki("invalid-custom-token")},J:Ks,R:!0},Oo={endpoint:"verifyPassword",B:function(t){if(Gs(t),!t.password)throw new ki("wrong-password")},J:Ks,R:!0},Io={endpoint:"verifyPhoneNumber",B:Qs,J:Ks},Ao={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new ki("internal-error");Qs(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Nr(t);Ks(t)}},Ro={Xb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:Qs,J:Ks};function Do(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(void 0===i||null===i||""===i)return!1}return!0}(n,e.T))return Ct(new ki("internal-error"));var i,r=e.Hb||"POST";return wt(n).then(e.B).then(function(){return e.R&&(n.returnSecureToken=!0),function(t,e,n,i,r,s){var o=qe(t.g+e);We(o,"key",t.b),s&&We(o,"cb",y().toString());var a="GET"==n;if(a)for(var l in i)i.hasOwnProperty(l)&&We(o,l,i[l]);return new ft(function(e,s){Ws(t,o.toString(),function(t){t?t.error?s(Mo(t,r||{})):e(t):s(new ki("network-request-failed"))},n,a?void 0:Mn(ci(i)),t.a,t.h.get())})}(t,e.endpoint,r,n,e.Xb,e.tb||!1)}).then(function(t){return i=t}).then(e.J).then(function(){if(!e.da)return i;if(!(e.da in i))throw new ki("internal-error");return i[e.da]})}function Po(t){return Mo({error:{errors:[{message:t}],code:400,message:t}})}function Mo(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new ki(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",lt(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new ki(i[r],e);return!e&&t&&(e=hi(t)),new ki("internal-error",e)}var No,Lo={$c:{$a:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",hb:"https://securetoken.googleapis.com/v1/token",id:"p"},bd:{$a:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",hb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},cd:{$a:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",hb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Fo(t){for(var e in Lo)if(Lo[e].id===t)return{firebaseEndpoint:(t=Lo[e]).$a,secureTokenEndpoint:t.hb};return null}No=Fo("__EID__")?"__EID__":void 0;var jo=fn("https://apis.google.com/js/api.js?onload=%{onload}"),Vo=new mi(3e4,6e4),Bo=new mi(5e3,15e3),Uo=null;function zo(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Ge(this.i,"/__/auth/iframe"),We(this.a,"apiKey",this.g),We(this.a,"appName",this.h),this.b=null,this.c=[]}function Ho(t,e,n,i,r){this.o=t,this.l=e,this.c=n,this.m=i,this.h=this.g=this.i=null,this.a=r,this.f=null}function Wo(t){try{return Wu.a.app(t).auth().xa()}catch(t){return[]}}function $o(t,e,n,i,r){this.l=t,this.f=e,this.b=n,this.c=i||null,this.h=r||null,this.o=this.u=this.v=null,this.g=[],this.m=this.a=null}function qo(t){var e=Vn();return function(t){return Do(t,_o,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=qe(e),i=n.c;n=n.b;for(var r=0;r<t.length;r++){var s=t[r],o=n,a=i;if(0==s.indexOf("chrome-extension://")?o=qe(s).b==o&&"chrome-extension"==a:"http"!=a&&"https"!=a?o=!1:Wn.test(s)?o=o==s:(s=s.split(".").join("\\."),o=new RegExp("^(.+\\."+s+"|"+s+")$","i").test(o)),o){t=!0;break t}}t=!1}if(!t)throw new Pr(Vn())})}function Go(t){return t.m?t.m:(t.m=$n().then(function(){if(!t.u){var e=t.c,i=t.h,r=Wo(t.b),s=new zo(t.l,t.f,t.b);s.f=e,s.b=i,s.c=V(r||[]),t.u=s.toString()}t.i=new function(t){this.b=t,this.a=null,this.eb=function(t){return(Uo||(Uo=new ft(function(t,e){function i(){fi(),ii("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){fi(),e(Error("Network Error"))},timeout:Vo.get()})}if(ii("gapi.iframes.Iframe"))t();else if(ii("gapi.load"))i();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[r]=function(){ii("gapi.load")?i():e(Error("Network Error"))},wt(Os(r=_n(jo,{onload:r}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw Uo=null,t}))).then(function(){return new ft(function(e,n){ii("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(i){function r(){clearTimeout(s),e()}t.a=i,t.a.restyle({setHideOnLeave:!1});var s=setTimeout(function(){n(Error("Network Error"))},Bo.get());i.ping(r).then(r,function(){n(Error("Network Error"))})})})})}(this)}(t.u),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.eb.then(function(){t.a.register("authEvent",e,ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=Ar(e.authEvent),n=0;n<t.g.length;n++)i=t.g[n](e)||i;return(n={}).status=i?"ACK":"ERROR",wt(n)}return n.status="ERROR",wt(n)})}(t)}),t.m)}function Yo(t){return t.o||(t.v=t.c?ei(t.c,Wo(t.b)):null,t.o=new Ns(t.f,Fo(t.h),t.v)),t.o}function Ko(t,e,n,i,r,s,o,a,l,h){return(t=new Ho(t,e,n,i,r)).i=s,t.g=o,t.h=a,t.b=rt(l||null),t.f=h,t.toString()}function Qo(t){if(this.a=t||Wu.a.INTERNAL.reactNative&&Wu.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new ki("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Xo(t){this.b=t,this.a={},this.c=g(this.f,this)}zo.prototype.toString=function(){return this.f?We(this.a,"v",this.f):on(this.a.a,"v"),this.b?We(this.a,"eid",this.b):on(this.a.a,"eid"),this.c.length?We(this.a,"fw",this.c.join(",")):on(this.a.a,"fw"),this.a.toString()},Ho.prototype.toString=function(){var t=Ge(this.o,"/__/auth/handler");if(We(t,"apiKey",this.l),We(t,"appName",this.c),We(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Wu.a.app(this.c).auth().ea()}catch(t){n=null}for(var i in e.Za=n,We(t,"providerId",this.a.providerId),n=ci((e=this.a).xb))n[i]=n[i].toString();i=e.Dc,n=rt(n);for(var r=0;r<i.length;r++){var s=i[r];s in n&&delete n[s]}e.bb&&e.Za&&!n[e.bb]&&(n[e.bb]=e.Za),it(n)||We(t,"customParameters",hi(n))}if("function"==typeof this.a.Db&&(e=this.a.Db()).length&&We(t,"scopes",e.join(",")),this.i?We(t,"redirectUrl",this.i):on(t.a,"redirectUrl"),this.g?We(t,"eventId",this.g):on(t.a,"eventId"),this.h?We(t,"v",this.h):on(t.a,"v"),this.b)for(var o in this.b)this.b.hasOwnProperty(o)&&!$e(t,o)&&We(t,o,this.b[o]);return this.f?We(t,"eid",this.f):on(t.a,"eid"),(o=Wo(this.c)).length&&We(t,"fw",o.join(",")),t.toString()},(t=$o.prototype).Ea=function(t,e,n){var i=new ki("popup-closed-by-user"),r=new ki("web-storage-unsupported"),s=this,o=!1;return this.ga().then(function(){(function(t){var e={type:"webStorageSupport"};return Go(t).then(function(){return function(t,e){return t.eb.then(function(){return new ft(function(n){t.a.send(e.type,e,n,ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(s).then(function(n){n||(t&&zn(t),e(r),o=!0)})}).s(function(){}).then(function(){if(!o)return function(t){return new ft(function(e){return function n(){Pe(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!o)return Pe(n).then(function(){e(i)})})},t.Lb=function(){var t=ni();return!li(t)&&!pi(t)},t.Gb=function(){return!1},t.Bb=function(t,e,n,i,r,s,o){if(!t)return Ct(new ki("popup-blocked"));if(o&&!li())return this.ga().s(function(e){zn(t),r(e)}),i(),wt();this.a||(this.a=qo(Yo(this)));var a=this;return this.a.then(function(){var e=a.ga().s(function(e){throw zn(t),r(e),e});return i(),e}).then(function(){Or(n),o||Bn(Ko(a.l,a.f,a.b,e,n,null,s,a.c,void 0,a.h),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(a.a=null),t})},t.Ca=function(t,e,n){this.a||(this.a=qo(Yo(this)));var i=this;return this.a.then(function(){Or(e),Bn(Ko(i.l,i.f,i.b,t,e,Vn(),n,i.c,void 0,i.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ga=function(){var t=this;return Go(this).then(function(){return t.i.eb}).s(function(){throw t.a=null,new ki("network-request-failed")})},t.Qb=function(){return!0},t.va=function(t){this.g.push(t)},t.Ka=function(t){F(this.g,function(e){return e==t})},(t=Qo.prototype).get=function(t){return wt(this.a.getItem(t)).then(function(t){return t&&ui(t)})},t.set=function(t,e){return wt(this.a.setItem(t,hi(e)))},t.P=function(t){return wt(this.a.removeItem(t))},t.Y=function(){},t.ca=function(){};var Zo,Jo=[];function ta(){this.a=navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller||null}function ea(){this.f=new ta,this.a="undefined"!=typeof MessageChannel?new MessageChannel:null,this.c=!1,this.b=[]}function na(t,e){t.a&&(F(t.b,function(t){return t==e}),t.a.port1.removeEventListener("message",e))}function ia(){if(!sa())throw new ki("web-storage-unsupported");this.f={},this.a=[],this.b=0,this.g=n.indexedDB,this.type="indexedDB",this.i=null;var t=this;Yn()&&self&&(this.i=function(){var t=Yn()?self:null;if(D(Jo,function(n){n.b==t&&(e=n)}),!e){var e=new Xo(t);Jo.push(e)}return e}(),this.i.subscribe("keyChanged",function(e,n){return t.Pb().then(function(e){return 0<e.length&&D(t.a,function(t){t(e)}),{keyProcessed:N(e,n.key)}})}))}function ra(t){return t.h||(t.h=function t(e){return new ft(function(n,i){var r=e.g.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}i(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){i(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(r):function(t){return new ft(function(e,n){var i=t.g.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(t){n(Error(t.target.error))}})}(e).then(function(){return t(e)}).then(function(t){n(t)}).s(function(t){i(t)})}})}(t)),t.h}function sa(){try{return!!n.indexedDB}catch(t){return!1}}function oa(t){return t.objectStore("firebaseLocalStorage")}function aa(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function la(t){return new ft(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})}function ha(t){return navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller?function(t,e){var n,i,r,s,o=e||{};return new ft(function(e,a){t.a?(n=Math.floor(Math.random()*Math.pow(10,20)).toString(),t.start(),r=setTimeout(function(){a(Error("unsupported_event"))},20),t.b.push(i=function(t){t.data.eventId===n&&("ack"===t.data.status?(clearTimeout(r),s=setTimeout(function(){a(Error("timeout"))},500)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?e(t.data.response):a(Error("unknown_error"))):(clearTimeout(r),clearTimeout(s),a(Error("invalid_response"))))}),t.a.port1.addEventListener("message",i),t.f.postMessage({eventType:"keyChanged",eventId:n,data:o},[t.a.port2])):a(Error("connection_unavailable"))}).then(function(e){return na(t,i),e}).s(function(e){throw na(t,i),e})}(new ea,{key:t}).then(function(){}).s(function(){}):wt()}function ca(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=wt().then(function(){if(sa()){var t=di(),i="__sak"+t;return Zo||(Zo=new ia),(n=Zo).set(i,t).then(function(){return n.get(i)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.P(i)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.Y(function(t){D(e.a,function(e){e(t)})}),t})}function ua(){this.a={},this.type="inMemory"}function da(){if(!function(){var t="Node"==Kn();if(!(t=pa()||t&&Wu.a.INTERNAL.node&&Wu.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Kn())throw new ki("internal-error","The LocalStorage compatibility library was not found.");throw new ki("web-storage-unsupported")}this.a=pa()||Wu.a.INTERNAL.node.localStorage,this.type="localStorage"}function pa(){try{var t=n.localStorage,e=di();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function fa(){this.type="nullStorage"}function ma(){if(!function(){var t="Node"==Kn();if(!(t=ga()||t&&Wu.a.INTERNAL.node&&Wu.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Kn())throw new ki("internal-error","The SessionStorage compatibility library was not found.");throw new ki("web-storage-unsupported")}this.a=ga()||Wu.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function ga(){try{var t=n.sessionStorage,e=di();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}Xo.prototype.f=function(t){var e=t.data.eventType,n=t.data.eventId,i=this.a[e];if(i&&0<i.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var r=[];D(i,function(e){r.push(wt().then(function(){return e(t.origin,t.data.data)}))}),St(r).then(function(i){var r=[];D(i,function(t){r.push({fulfilled:t.Cb,value:t.value,reason:t.reason?t.reason.message:void 0})}),D(r,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:r})})}},Xo.prototype.subscribe=function(t,e){it(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[t]&&(this.a[t]=[]),this.a[t].push(e)},Xo.prototype.unsubscribe=function(t,e){void 0!==this.a[t]&&e?(F(this.a[t],function(t){return t==e}),0==this.a[t].length&&delete this.a[t]):e||delete this.a[t],it(this.a)&&this.b.removeEventListener("message",this.c)},ta.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},ea.prototype.close=function(){if(this.a){for(;0<this.b.length;){var t=this.b.pop();this.a.port1.removeEventListener("message",t)}this.a.port1.close(),this.a=null,this.c=!1}},ea.prototype.start=function(){this.a&&!this.c&&(this.a.port1.start(),this.c=!0)},(t=ia.prototype).set=function(t,e){var n,i=!1,r=this;return ra(this).then(function(e){return la((e=oa(aa(n=e,!0))).get(t))}).then(function(s){var o=oa(aa(n,!0));return s?(s.value=e,la(o.put(s))):(r.b++,i=!0,(s={}).fbase_key=t,s.value=e,la(o.add(s)))}).then(function(){return r.f[t]=e,ha(t)}).ia(function(){i&&r.b--})},t.get=function(t){return ra(this).then(function(e){return la(oa(aa(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.P=function(t){var e=!1,n=this;return ra(this).then(function(i){return e=!0,n.b++,la(oa(aa(i,!0)).delete(t))}).then(function(){return delete n.f[t],ha(t)}).ia(function(){e&&n.b--})},t.Pb=function(){var t=this;return ra(this).then(function(t){var e=oa(aa(t,!1));return e.getAll?la(e.getAll()):new ft(function(t,n){var i=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){n(Error(t.target.errorCode))}})}).then(function(e){var n={},i=[];if(0==t.b){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=function t(e,n){var i,r=[];for(i in e)i in n?typeof e[i]!=typeof n[i]?r.push(i):"object"==typeof e[i]&&null!=e[i]&&null!=n[i]?0<t(e[i],n[i]).length&&r.push(i):e[i]!==n[i]&&r.push(i):r.push(i);for(i in n)i in e||r.push(i);return r}(t.f,n),t.f=n}return i})},t.Y=function(t){0==this.a.length&&function(t){t.c&&t.c.cancel("STOP_EVENT"),function e(){return t.c=Pe(800).then(g(t.Pb,t)).then(function(e){0<e.length&&D(t.a,function(t){t(e)})}).then(e).s(function(t){"STOP_EVENT"!=t.message&&e()}),t.c}()}(this),this.a.push(t)},t.ca=function(t){F(this.a,function(e){return e==t}),0==this.a.length&&this.c&&this.c.cancel("STOP_EVENT")},(t=ca.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.P=function(t){return this.b.then(function(e){return e.P(t)})},t.Y=function(t){this.a.push(t)},t.ca=function(t){F(this.a,function(e){return e==t})},(t=ua.prototype).get=function(t){return wt(this.a[t])},t.set=function(t,e){return this.a[t]=e,wt()},t.P=function(t){return delete this.a[t],wt()},t.Y=function(){},t.ca=function(){},(t=da.prototype).get=function(t){var e=this;return wt().then(function(){return ui(e.a.getItem(t))})},t.set=function(t,e){var n=this;return wt().then(function(){var i=hi(e);null===i?n.P(t):n.a.setItem(t,i)})},t.P=function(t){var e=this;return wt().then(function(){e.a.removeItem(t)})},t.Y=function(t){n.window&&ge(n.window,"storage",t)},t.ca=function(t){n.window&&ve(n.window,"storage",t)},(t=fa.prototype).get=function(){return wt(null)},t.set=function(){return wt()},t.P=function(){return wt()},t.Y=function(){},t.ca=function(){},(t=ma.prototype).get=function(t){var e=this;return wt().then(function(){return ui(e.a.getItem(t))})},t.set=function(t,e){var n=this;return wt().then(function(){var i=hi(e);null===i?n.P(t):n.a.setItem(t,i)})},t.P=function(t){var e=this;return wt().then(function(){e.a.removeItem(t)})},t.Y=function(){},t.ca=function(){};var _a,ya,va={A:da,Qa:ma},ba={A:da,Qa:ma},wa={A:Qo,Qa:fa},Ca={A:da,Qa:fa},Ea={Zc:"local",NONE:"none",ad:"session"};function Sa(){var t=!(pi(ni())||!Gn()),e=li(),i=ri();this.o=t,this.h=e,this.m=i,this.a={},_a||(_a=new function(){var t={};t.Browser=va,t.Node=ba,t.ReactNative=wa,t.Worker=Ca,this.a=t[Kn()]}),t=_a;try{this.g=!jn()&&yi()||!n.indexedDB?new t.a.A:new ca(Yn()?new ua:new t.a.A)}catch(t){this.g=new ua,this.h=!0}try{this.i=new t.a.Qa}catch(t){this.i=new ua}this.l=new ua,this.f=g(this.Ob,this),this.b={}}function xa(){return ya||(ya=new Sa),ya}function Ta(t,e){switch(e){case"session":return t.i;case"none":return t.l;default:return t.g}}function ka(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Oa(t,e,n){return n=ka(e,n),"local"==e.A&&(t.b[n]=null),Ta(t,e.A).P(n)}function Ia(t){t.c&&(clearInterval(t.c),t.c=null)}(t=Sa.prototype).get=function(t,e){return Ta(this,t.A).get(ka(t,e))},t.set=function(t,e,n){var i=ka(t,n),r=this,s=Ta(this,t.A);return s.set(i,e).then(function(){return s.get(i)}).then(function(e){"local"==t.A&&(r.b[i]=e)})},t.addListener=function(t,e,i){t=ka(t,e),this.m&&(this.b[t]=n.localStorage.getItem(t)),it(this.a)&&(Ta(this,"local").Y(this.f),this.h||(jn()||!yi())&&n.indexedDB||!this.m||function(t){Ia(t),t.c=setInterval(function(){for(var e in t.a){var i=n.localStorage.getItem(e),r=t.b[e];i!=r&&(t.b[e]=i,i=new oe({type:"storage",key:e,target:window,oldValue:r,newValue:i,a:!0}),t.Ob(i))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(i)},t.removeListener=function(t,e,n){t=ka(t,e),this.a[t]&&(F(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),it(this.a)&&(Ta(this,"local").ca(this.f),Ia(this))},t.Ob=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var i in this.a){var r=this.b[i];void 0===r&&(r=null);var s=n.localStorage.getItem(i);s!==r&&(this.b[i]=s,this.Wa(i))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Ta(this,"local").ca(this.f):Ia(this),this.o)if(i=n.localStorage.getItem(e),(r=t.a.newValue)!==i)null!==r?n.localStorage.setItem(e,r):n.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;i=function(){void 0===t.a.a&&o.b[e]===n.localStorage.getItem(e)||(o.b[e]=n.localStorage.getItem(e),o.Wa(e))},zt&&Xt&&10==Xt&&n.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(i,10):i()}}else D(t,g(this.Wa,this))},t.Wa=function(t){this.a[t]&&D(this.a[t],function(t){t()})};var Aa,Ra={name:"authEvent",A:"local"};function Da(t,e){this.b=-1,this.b=Pa,this.f=n.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.m=n.Int32Array?new Int32Array(64):Array(64),void 0!==Aa||(Aa=n.Int32Array?new Int32Array(Ba):Ba),this.reset()}v(Da,function(){this.b=-1});for(var Pa=64,Ma=Pa-1,Na=[],La=0;La<Ma;La++)Na[La]=0;var Fa=j(128,Na);function ja(t){for(var e=t.f,n=t.m,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){var s=(0|n[e-16])+(((r=0|n[e-15])>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,o=(0|n[e-7])+(((i=0|n[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=s+o|0}i=0|t.a[0],r=0|t.a[1];var a=0|t.a[2],l=0|t.a[3],h=0|t.a[4],c=0|t.a[5],u=0|t.a[6];for(s=0|t.a[7],e=0;64>e;e++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&a^r&a)|0;o=(s=s+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))|0)+((o=(o=h&c^~h&u)+(0|Aa[e])|0)+(0|n[e])|0)|0,s=u,u=c,c=h,h=l+o|0,l=a,a=r,r=i,i=o+d|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+l|0,t.a[4]=t.a[4]+h|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+u|0,t.a[7]=t.a[7]+s|0}function Va(t,e,n){void 0===n&&(n=e.length);var r=0,s=t.c;if(i(e))for(;r<n;)t.f[s++]=e.charCodeAt(r++),s==t.b&&(ja(t),s=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[s++]=o,s==t.b&&(ja(t),s=0)}}t.c=s,t.g+=n}Da.prototype.reset=function(){this.g=this.c=0,this.a=n.Int32Array?new Int32Array(this.h):V(this.h)};var Ba=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ua(){Da.call(this,8,za)}v(Ua,Da);var za=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ha(t,e,n,i,r){this.l=t,this.i=e,this.m=n,this.o=i||null,this.u=r||null,this.h=e+":"+n,this.v=new function(){this.a=xa()},this.g=new function(t){this.a=t,this.b=xa()}(this.h),this.f=null,this.b=[],this.a=this.c=null}function Wa(t){return new ki("invalid-cordova-configuration",t)}function $a(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function qa(t){return t.f||(t.f=t.ga().then(function(){return new ft(function(e){t.va(function n(i){return e(i),t.Ka(n),!1}),function(t){function e(e){r=!0,s&&s.cancel(),Ga(t).then(function(n){var r=i;if(n&&e&&e.url){var s=null;-1!=(r=sr(e.url)).indexOf("/__/auth/callback")&&(s=(s="object"==typeof(s=ui($e(s=qe(r),"firebaseError")||null))?Oi(s):null)?new Ir(n.b,n.c,null,null,s):new Ir(n.b,n.c,r,n.g)),r=s||i}$a(t,r)})}var i=new Ir("unknown",null,null,null,new ki("no-auth-event")),r=!1,s=Pe(500).then(function(){return Ga(t).then(function(){r||$a(t,i)})}),o=n.handleOpenURL;n.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(ii("BuildInfo.packageName",n).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Dr||(Dr=new Rr),Dr.subscribe(e)}(t)})})),t.f}function Ga(t){var e=null;return function(t){return t.b.get(Ra,t.a).then(function(t){return Ar(t)})}(t.g).then(function(n){return e=n,Oa((n=t.g).b,Ra,n.a)}).then(function(){return e})}(t=Ha.prototype).ga=function(){return this.za?this.za:this.za=(qn(void 0)?$n().then(function(){return new ft(function(t,e){var i=n.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);i.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Ct(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof ii("universalLinks.subscribe",n))throw Wa("cordova-universal-links-plugin is not installed");if(void 0===ii("BuildInfo.packageName",n))throw Wa("cordova-plugin-buildinfo is not installed");if("function"!=typeof ii("cordova.plugins.browsertab.openUrl",n))throw Wa("cordova-plugin-browsertab is not installed");if("function"!=typeof ii("cordova.InAppBrowser.open",n))throw Wa("cordova-plugin-inappbrowser is not installed")},function(){throw new ki("cordova-not-ready")})},t.Ea=function(t,e){return e(new ki("operation-not-supported-in-this-environment")),wt()},t.Bb=function(){return Ct(new ki("operation-not-supported-in-this-environment"))},t.Qb=function(){return!1},t.Lb=function(){return!0},t.Gb=function(){return!0},t.Ca=function(t,e,i){if(this.c)return Ct(new ki("redirect-operation-pending"));var r=this,s=n.document,o=null,a=null,l=null,h=null;return this.c=wt().then(function(){return Or(e),qa(r)}).then(function(){return function(t,e,i,r){var s=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),o=new Ir(e,r,null,s,new ki("no-auth-event")),a=ii("BuildInfo.packageName",n);if("string"!=typeof a)throw new ki("invalid-cordova-configuration");var l=ii("BuildInfo.displayName",n),h={};if(ni().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=a;else{if(!ni().toLowerCase().match(/android/))return Ct(new ki("operation-not-supported-in-this-environment"));h.apn=a}l&&(h.appDisplayName=l),s=function(t){var e=new Ua;Va(e,t),t=[];var n=8*e.g;Va(e,Fa,56>e.c?56-e.c:e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(ja(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return function(t){return P(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(s),h.sessionId=s;var c=Ko(t.l,t.i,t.m,e,i,null,r,t.o,h,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(Ra,o.D(),e)}).then(function(){var e=ii("cordova.plugins.browsertab.isAvailable",n);if("function"!=typeof e)throw new ki("invalid-cordova-configuration");var i=null;e(function(e){if(e){if("function"!=typeof(i=ii("cordova.plugins.browsertab.openUrl",n)))throw new ki("invalid-cordova-configuration");i(c)}else{if("function"!=typeof(i=ii("cordova.InAppBrowser.open",n)))throw new ki("invalid-cordova-configuration");e=!(!(e=ni()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=i(c,e?"_blank":"_system","location=yes")}})})}(r,t,e,i)}).then(function(){return new ft(function(t,e){a=function(){var e=ii("cordova.plugins.browsertab.close",n);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.va(a),h=function(){gi()&&l()},s.addEventListener("resume",l=function(){o||(o=Pe(2e3).then(function(){e(new ki("redirect-cancelled-by-user"))}))},!1),ni().toLowerCase().match(/android/)||s.addEventListener("visibilitychange",h,!1)}).s(function(t){return Ga(r).then(function(){throw t})})}).ia(function(){l&&s.removeEventListener("resume",l,!1),h&&s.removeEventListener("visibilitychange",h,!1),o&&o.cancel(),a&&r.Ka(a),r.c=null})},t.va=function(t){this.b.push(t),qa(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Ir("unknown",null,null,null,new ki("no-auth-event")),t(e))})},t.Ka=function(t){F(this.b,function(e){return e==t})};var Ya={name:"pendingRedirect",A:"session"};function Ka(t){return Oa(t.b,Ya,t.a)}function Qa(t,e,n){this.u=t,this.m=e,this.l=n,this.h=[],this.f=!1,this.i=g(this.ab,this),this.b=new ol,this.o=new cl,this.g=new function(t){this.a=t,this.b=xa()}(this.m+":"+this.l),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.o,this.c.linkViaPopup=this.o,this.c.reauthViaPopup=this.o,this.a=Xa(this.u,this.m,this.l,No)}function Xa(t,e,n,i){var r=Wu.a.SDK_VERSION||null;return qn()?new Ha(t,e,n,r,i):new $o(t,e,n,r,i)}function Za(t){t.f||(t.f=!0,t.a.va(t.i));var e=t.a;return t.a.ga().s(function(n){throw t.a==e&&t.reset(),n})}function Ja(t){t.a.Lb()&&Za(t).s(function(e){var n=new Ir("unknown",null,null,null,new ki("operation-not-supported-in-this-environment"));il(e)&&t.ab(n)}),t.a.Gb()||al(t.b)}(t=Qa.prototype).reset=function(){this.f=!1,this.a.Ka(this.i),this.a=Xa(this.u,this.m,this.l)},t.Xa=function(){this.b.Xa()},t.subscribe=function(t){if(N(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(Ya,t.a).then(function(t){return"pending"==t})})(this.g).then(function(t){t?Ka(e.g).then(function(){Za(e).s(function(t){var n=new Ir("unknown",null,null,null,new ki("operation-not-supported-in-this-environment"));il(t)&&e.ab(n)})}):Ja(e)}).s(function(){Ja(e)})}},t.unsubscribe=function(t){F(this.h,function(e){return e==t})},t.ab=function(t){if(!t)throw new ki("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.ub(t.b,t.c)){(e=this.c[t.b])&&e.h(t,i),e=!0;break}}return al(this.b),e};var tl=new mi(2e3,1e4),el=new mi(3e4,6e4);function nl(t,e,n,i,r,s){return t.a.Bb(e,n,i,function(){t.f||(t.f=!0,t.a.va(t.i))},function(){t.reset()},r,s)}function il(t){return!(!t||"auth/cordova-not-ready"!=t.code)}Qa.prototype.fa=function(){return this.b.fa()},Qa.prototype.Ca=function(t,e,n){var i,r=this;return function(t){return t.b.set(Ya,"pending",t.a)}(this.g).then(function(){return r.a.Ca(t,e,n).s(function(t){if(il(t))throw new ki("operation-not-supported-in-this-environment");return i=t,Ka(r.g).then(function(){throw i})}).then(function(){return r.a.Qb()?new ft(function(){}):Ka(r.g).then(function(){return r.fa()}).then(function(){}).s(function(){})})})},Qa.prototype.Ea=function(t,e,n,i){return this.a.Ea(n,function(n){t.ha(e,null,n,i)},tl.get())};var rl={};function sl(t,e,n){var i=e+":"+n;return rl[i]||(rl[i]=new Qa(t,e,n)),rl[i]}function ol(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function al(t){t.g||(t.g=!0,hl(t,!1,null,null))}function ll(t,e){if(t.b=function(){return wt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function hl(t,e,n,i){e?i?function(t,e){if(t.b=function(){return Ct(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):ll(t,n):ll(t,{user:null}),t.f=[],t.c=[]}function cl(){}function ul(){this.rb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.rb},set:function(t){this.rb=t},enumerable:!1})}function dl(t,e){this.a=e,Ei(this,"verificationId",t)}function pl(t,e,n,i){return new xr(t).Ta(e,n).then(function(t){return new dl(t,i)})}function fl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ml(t){this.f=t,this.b=this.a=null,this.c=0}function gl(t,e){var n=e[Fs],i=e.refreshToken;e=_l(e.expiresIn),t.b=n,t.c=e,t.a=i}function _l(t){return y()+1e3*parseInt(t,10)}function yl(t,e){this.a=t||null,this.b=e||null,Si(this,{lastSignInTime:_i(e||null),creationTime:_i(t||null)})}function vl(t,e){for(var n in se.call(this,t),e)this[n]=e[n]}function bl(t,e,n){this.G=[],this.l=t.apiKey,this.o=t.appName,this.u=t.authDomain||null,t=Wu.a.SDK_VERSION?ei(Wu.a.SDK_VERSION):null,this.b=new Ns(this.l,Fo(No),t),this.h=new ml(this.b),kl(this,e[Fs]),gl(this.h,e),Ei(this,"refreshToken",this.h.a),Al(this,n||{}),Oe.call(this),this.I=!1,this.u&&si()&&(this.a=sl(this.u,this.l,this.o)),this.N=[],this.i=null,this.w=function(t){return new fl(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-y()-3e5;return 0<e?e:0})}(this),this.V=g(this.Ha,this);var i=this;this.ka=null,this.sa=function(t){i.oa(t.g)},this.X=null,this.O=[],this.ra=function(t){Cl(i,t.c)},this.W=null}function wl(t,e){t.X&&ve(t.X,"languageCodeChanged",t.sa),(t.X=e)&&ge(e,"languageCodeChanged",t.sa)}function Cl(t,e){t.O=e,Hs(t.b,Wu.a.SDK_VERSION?ei(Wu.a.SDK_VERSION,t.O):null)}function El(t,e){t.W&&ve(t.W,"frameworkChanged",t.ra),(t.W=e)&&ge(e,"frameworkChanged",t.ra)}function Sl(t){try{return Wu.a.app(t.o).auth()}catch(e){throw new ki("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function xl(t){t.C||t.w.b||(t.w.start(),ve(t,"tokenChanged",t.V),ge(t,"tokenChanged",t.V))}function Tl(t){ve(t,"tokenChanged",t.V),t.w.stop()}function kl(t,e){t.qa=e,Ei(t,"_lat",e)}function Ol(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return St(e).then(function(){return t})}function Il(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function Al(t,e){Si(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new yl(e.createdAt,e.lastLoginAt),providerData:[]})}function Rl(){}function Dl(t){return wt().then(function(){if(t.C)throw new ki("app-deleted")})}function Pl(t){return P(t.providerData,function(t){return t.providerId})}function Ml(t,e){e&&(Nl(t,e.providerId),t.providerData.push(e))}function Nl(t,e){F(t.providerData,function(t){return t.providerId==e})}function Ll(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Ei(t,e,n)}function Fl(t,e){t!=e&&(Si(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),Ei(t,"metadata",e.metadata?function(t){return new yl(t.a,t.b)}(e.metadata):new yl),D(e.providerData,function(e){Ml(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Ei(t,"refreshToken",t.h.a))}function jl(t){return t.F().then(function(e){var n=t.isAnonymous;return function(t,e){return Do(t.b,po,{idToken:e}).then(g(t.xc,t))}(t,e).then(function(){return n||Ll(t,"isAnonymous",!1),e})})}function Vl(t,e){e[Fs]&&t.qa!=e[Fs]&&(gl(t.h,e),t.dispatchEvent(new vl("tokenChanged")),kl(t,e[Fs]),Ll(t,"refreshToken",t.h.a))}function Bl(t,e){return jl(t).then(function(){if(N(Pl(t),e))return Ol(t).then(function(){throw new ki("provider-already-linked")})})}function Ul(t,e,n){return xi({user:t,credential:kr(e),additionalUserInfo:e=Qi(e),operationType:n})}function zl(t,e){return Vl(t,e),t.reload().then(function(){return t})}function Hl(t,e,n,i,r){if(!si())return Ct(new ki("operation-not-supported-in-this-environment"));if(t.i&&!r)return Ct(t.i);var s=Ki(n.providerId),o=di(t.uid+":::"),a=null;(!li()||Gn())&&t.u&&n.isOAuthProvider&&(a=Ko(t.u,t.l,t.o,e,n,null,o,Wu.a.SDK_VERSION||null));var l=Hn(a,s&&s.Ba,s&&s.Aa);return i=i().then(function(){if($l(t),!r)return t.F().then(function(){})}).then(function(){return nl(t.a,l,e,n,o,!!a)}).then(function(){return new ft(function(n,i){t.ha(e,null,new ki("cancelled-popup-request"),t.g||null),t.f=n,t.v=i,t.g=o,t.c=t.a.Ea(t,e,l,o)})}).then(function(t){return l&&zn(l),t?xi(t):null}).s(function(t){throw l&&zn(l),t}),ql(t,i,r)}function Wl(t,e,n,i,r){if(!si())return Ct(new ki("operation-not-supported-in-this-environment"));if(t.i&&!r)return Ct(t.i);var s=null,o=di(t.uid+":::");return i=i().then(function(){if($l(t),!r)return t.F().then(function(){})}).then(function(){return t.aa=o,Ol(t)}).then(function(e){return t.ba&&(e=(e=t.ba).b.set(Yl,t.D(),e.a)),e}).then(function(){return t.a.Ca(e,n,o)}).s(function(e){if(s=e,t.ba)return Kl(t.ba);throw s}).then(function(){if(s)throw s}),ql(t,i,r)}function $l(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new ki("internal-error");throw new ki("auth-domain-config-required")}}function ql(t,e,n){var i=function(t,e,n){return t.i&&!n?(e.cancel(),Ct(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new vl("userInvalidated")),t.i=e),e})}(t,e,n);return t.G.push(i),i.ia(function(){L(t.G,i)}),i}function Gl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Fs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-y())/1e3;var i=new bl(e,n,t);return t.providerData&&D(t.providerData,function(t){t&&Ml(i,xi(t))}),t.redirectEventId&&(i.aa=t.redirectEventId),i}ol.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ol.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.b,i=t.c,r=t.a&&"auth/web-storage-unsupported"==t.a.code,s=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!s),"unknown"!=n||r||s?t.a?(hl(this,!0,null,t.a),wt()):e.wa(n,i)?function(t,e,n){n=n.wa(e.b,e.c);var i=e.f,r=e.g,s=!!e.b.match(/Redirect$/);n(i,r).then(function(e){hl(t,s,e,null)}).s(function(e){hl(t,s,null,e)})}(this,t,e):Ct(new ki("invalid-auth-event")):(hl(this,!1,null,null),wt())}else Ct(new ki("invalid-auth-event"))},ol.prototype.Xa=function(){this.g&&!this.i&&hl(this,!1,null,null)},ol.prototype.fa=function(){var t=this;return new ft(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new ki("timeout");t.a&&t.a.cancel(),t.a=Pe(el.get()).then(function(){t.b||(t.g=!0,hl(t,!0,null,e))})}(t))})},cl.prototype.h=function(t,e){if(t){var n=t.b,i=t.c;t.a?(e.ha(t.b,null,t.a,t.c),wt()):e.wa(n,i)?function(t,e){var n=t.c,i=t.b;e.wa(i,n)(t.f,t.g).then(function(t){e.ha(i,t,null,n)}).s(function(t){e.ha(i,null,t,n)})}(t,e):Ct(new ki("invalid-auth-event"))}else Ct(new ki("invalid-auth-event"))},dl.prototype.confirm=function(t){return t=Tr(this.verificationId,t),this.a(t)},fl.prototype.start=function(){this.a=this.c,function t(e,i){e.stop(),e.b=Pe(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,i)).then(function(){return function(){var t=n.document,e=null;return gi()||!t?wt():new ft(function(n){t.addEventListener("visibilitychange",e=function(){gi()&&(t.removeEventListener("visibilitychange",e,!1),n())},!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},fl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ml.prototype.D=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},ml.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ct(new ki("user-token-expired")):t||!this.b||y()>this.c-3e4?this.a?function(t,e){return function(t,e){return new ft(function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Ws(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?i(Mo(t)):t.access_token&&t.refresh_token?n(t):i(new ki("internal-error")):i(new ki("network-request-failed"))},"POST",sn(e).toString(),t.f,t.m.get()):i(new ki("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=_l(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):wt(null):wt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},yl.prototype.D=function(){return{lastLoginAt:this.b,createdAt:this.a}},v(vl,se),v(bl,Oe),bl.prototype.oa=function(t){this.ka=t,zs(this.b,t)},bl.prototype.ea=function(){return this.ka},bl.prototype.xa=function(){return V(this.O)},bl.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Ei(bl.prototype,"providerId","firebase"),(t=bl.prototype).reload=function(){var t=this;return ql(this,Dl(this).then(function(){return jl(t).then(function(){return Ol(t)}).then(Rl)}))},t.dc=function(t){return this.F(t).then(function(t){return new function(t){var e=$i(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new ki("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Si(this,{token:t,expirationTime:_i(1e3*e.exp),authTime:_i(1e3*e.auth_time),issuedAtTime:_i(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}(t)})},t.F=function(t){var e=this;return ql(this,Dl(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new ki("internal-error");return t.accessToken!=e.qa&&(kl(e,t.accessToken),e.dispatchEvent(new vl("tokenChanged"))),Ll(e,"refreshToken",t.refreshToken),t.accessToken}))},t.xc=function(t){if(!(t=t.users)||!t.length)throw new ki("internal-error");Al(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?P(t,function(t){return new function(t,e,n,i,r,s){Si(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:s||null,providerId:e})}(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Ml(this,e[n]);Ll(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.fb=function(t){var e=this,n=null;return ql(this,t.f(this.b,this.uid).then(function(t){return Vl(e,t),n=Ul(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.yc=function(t){return wi("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.fb(t).then(function(){})},t.cb=function(t){var e=this,n=null;return ql(this,Bl(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.c(e.b,n)}).then(function(t){return n=Ul(e,t,"link"),zl(e,t)}).then(function(){return n}))},t.pc=function(t){return wi("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.cb(t).then(function(t){return t.user})},t.qc=function(t,e){var n=this;return ql(this,Bl(this,"phone").then(function(){return pl(Sl(n),t,e,g(n.cb,n))}))},t.zc=function(t,e){var n=this;return ql(this,wt().then(function(){return pl(Sl(n),t,e,g(n.fb,n))}),!0)},t.ob=function(t){var e=this;return ql(this,this.F().then(function(n){return e.b.ob(n,t)}).then(function(t){return Vl(e,t),e.reload()}))},t.Rc=function(t){var e=this;return ql(this,this.F().then(function(n){return t.c(e.b,n)}).then(function(t){return Vl(e,t),e.reload()}))},t.pb=function(t){var e=this;return ql(this,this.F().then(function(n){return e.b.pb(n,t)}).then(function(t){return Vl(e,t),e.reload()}))},t.qb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Dl(this);var e=this;return ql(this,this.F().then(function(n){return e.b.qb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Vl(e,t),Ll(e,"displayName",t.displayName||null),Ll(e,"photoURL",t.photoUrl||null),D(e.providerData,function(t){"password"===t.providerId&&(Ei(t,"displayName",e.displayName),Ei(t,"photoURL",e.photoURL))}),Ol(e)}).then(Rl))},t.Pc=function(t){var e=this;return ql(this,jl(this).then(function(n){return N(Pl(e),t)?function(t,e,n){return Do(t,ho,{idToken:e,deleteProvider:n})}(e.b,n,[t]).then(function(t){var n={};return D(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),D(Pl(e),function(t){n[t]||Nl(e,t)}),n[xr.PROVIDER_ID]||Ei(e,"phoneNumber",null),Ol(e)}):Ol(e).then(function(){throw new ki("no-such-provider")})}))},t.delete=function(){var t=this;return ql(this,this.F().then(function(e){return Do(t.b,lo,{idToken:e})}).then(function(){t.dispatchEvent(new vl("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");wl(t,null),El(t,null),t.G=[],t.C=!0,Tl(t),Ei(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},t.ub=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},t.ha=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.wa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?g(this.zb,this):"reauthViaPopup"==t&&e==(this.g||null)?g(this.Ab,this):"linkViaRedirect"==t&&(this.aa||null)==e?g(this.zb,this):"reauthViaRedirect"==t&&(this.aa||null)==e?g(this.Ab,this):null},t.rc=function(t){var e=this;return Hl(this,"linkViaPopup",t,function(){return Bl(e,t.providerId).then(function(){return Ol(e)})},!1)},t.Ac=function(t){return Hl(this,"reauthViaPopup",t,function(){return wt()},!0)},t.sc=function(t){var e=this;return Wl(this,"linkViaRedirect",t,function(){return Bl(e,t.providerId)},!1)},t.Bc=function(t){return Wl(this,"reauthViaRedirect",t,function(){return wt()},!0)},t.zb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return ql(this,this.F().then(function(i){return eo(n.b,{requestUri:t,sessionId:e,idToken:i})}).then(function(t){return i=Ul(n,t,"link"),zl(n,t)}).then(function(){return i}))},t.Ab=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return ql(this,wt().then(function(){return or(no(n.b,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return i=Ul(n,t,"reauthenticate"),Vl(n,t),n.i=null,n.reload()}).then(function(){return i}),!0)},t.ib=function(t){var e=this,n=null;return ql(this,this.F().then(function(e){return n=e,void 0===t||it(t)?{}:Bi(new Ri(t))}).then(function(t){return e.b.ib(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.D()},t.D=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.o,authDomain:this.u,stsTokenManager:this.h.D(),redirectEventId:this.aa||null};return this.metadata&&lt(t,this.metadata.D()),D(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var Yl={name:"redirectUser",A:"session"};function Kl(t){return Oa(t.b,Yl,t.a)}function Ql(t){this.a=t,this.b=xa(),this.c=null,this.f=function(t){var e=Jl("local"),i=Jl("session"),r=Jl("none");return function(t,e,i){var r=ka(e,i),s=Ta(t,e.A);return t.get(e,i).then(function(o){var a=null;try{a=ui(n.localStorage.getItem(r))}catch(t){}if(a&&!o)return n.localStorage.removeItem(r),t.set(e,a,i);a&&o&&"localStorage"!=s.type&&n.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(i,t.a)}).then(function(n){return n?i:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Zl,t.a).then(function(t){return t?Jl(t):e})})})}).then(function(e){return t.c=e,Xl(t,e.A)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(Jl("local"),this.a,g(this.g,this))}function Xl(t,e){var n,i=[];for(n in Ea)Ea[n]!==e&&i.push(Oa(t.b,Jl(Ea[n]),t.a));return i.push(Oa(t.b,Zl,t.a)),function(t){return new ft(function(e,n){var i=t.length,r=[];if(i)for(var s=function(t,n){i--,r[t]=n,0==i&&e(r)},o=function(t){n(t)},a=0;a<t.length;a++)Et(t[a],_(s,a),o);else e(r)})}(i)}Ql.prototype.g=function(){var t=this,e=Jl("local");ih(this,function(){return wt().then(function(){return t.c&&"local"!=t.c.A?t.b.get(e,t.a):null}).then(function(n){if(n)return Xl(t,"local").then(function(){t.c=e})})})};var Zl={name:"persistence",A:"session"};function Jl(t){return{name:"authUser",A:t}}function th(t,e){return ih(t,function(){return t.b.set(t.c,e.D(),t.a)})}function eh(t){return ih(t,function(){return Oa(t.b,t.c,t.a)})}function nh(t,e){return ih(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),Gl(t||{})})})}function ih(t,e){return t.f=t.f.then(e,e),t.f}function rh(t){if(this.l=!1,Ei(this,"settings",new ul),Ei(this,"app",t),!uh(this).options||!uh(this).options.apiKey)throw new ki("invalid-api-key");t=Wu.a.SDK_VERSION?ei(Wu.a.SDK_VERSION):null,this.b=new Ns(uh(this).options&&uh(this).options.apiKey,Fo(No),t),this.N=[],this.o=[],this.I=[],this.Tb=Wu.a.INTERNAL.createSubscribe(g(this.mc,this)),this.O=void 0,this.Ub=Wu.a.INTERNAL.createSubscribe(g(this.nc,this)),hh(this,null),this.h=new Ql(uh(this).options.apiKey+":"+uh(this).name),this.w=new function(t){this.a=t,this.b=xa()}(uh(this).options.apiKey+":"+uh(this).name),this.V=mh(this,function(t){var e=uh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Yl,t.a).then(function(t){return t&&e&&(t.authDomain=e),Gl(t||{})})}(t.w,uh(t).options.authDomain).then(function(e){return(t.C=e)&&(e.ba=t.w),Kl(t.w)});return mh(t,e)}(t).then(function(){return nh(t.h,e)}).then(function(e){return e?(e.ba=t.w,t.C&&(t.C.aa||null)==(e.aa||null)?e:e.reload().then(function(){return th(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:eh(t.h)})):null}).then(function(e){hh(t,e||null)});return mh(t,n)}(this)),this.i=mh(this,function(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.l)return t.ka()}).s(function(){}).then(function(){if(!t.l){t.X=!0;var e=t.h;e.b.addListener(Jl("local"),e.a,t.ka)}})}(this)),this.X=!1,this.ka=g(this.Mc,this),this.Ha=g(this.Z,this),this.qa=g(this.bc,this),this.ra=g(this.jc,this),this.sa=g(this.kc,this),function(t){var e=uh(t).options.authDomain,n=uh(t).options.apiKey;e&&si()&&(t.Sb=t.V.then(function(){if(!t.l){if(t.a=sl(e,n,uh(t).name),t.a.subscribe(t),dh(t)&&Il(dh(t)),t.C){Il(t.C);var i=t.C;i.oa(t.ea()),wl(i,t),Cl(i=t.C,t.G),El(i,t),t.C=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=g(this.delete,this),this.INTERNAL.logFramework=g(this.tc,this),this.u=0,Oe.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.oa(t)},enumerable:!1}),t.W=null}(this),this.G=[]}function sh(t){se.call(this,"languageCodeChanged"),this.g=t}function oh(t){se.call(this,"frameworkChanged"),this.c=t}function ah(t){return t.Sb||Ct(new ki("auth-domain-config-required"))}function lh(t,e){var n={};return n.apiKey=uh(t).options.apiKey,n.authDomain=uh(t).options.authDomain,n.appName=uh(t).name,t.V.then(function(){return function(t,e,n,i){var r=new bl(t,e);return n&&(r.ba=n),i&&Cl(r,i),r.reload().then(function(){return r})}(n,e,t.w,t.xa())}).then(function(e){return dh(t)&&e.uid==dh(t).uid?(Fl(dh(t),e),t.Z(e)):(hh(t,e),Il(e),t.Z(e))}).then(function(){fh(t)})}function hh(t,e){dh(t)&&(function(t,e){F(t.N,function(t){return t==e})}(dh(t),t.Ha),ve(dh(t),"tokenChanged",t.qa),ve(dh(t),"userDeleted",t.ra),ve(dh(t),"userInvalidated",t.sa),Tl(dh(t))),e&&(e.N.push(t.Ha),ge(e,"tokenChanged",t.qa),ge(e,"userDeleted",t.ra),ge(e,"userInvalidated",t.sa),0<t.u&&xl(e)),Ei(t,"currentUser",e),e&&(e.oa(t.ea()),wl(e,t),Cl(e,t.G),El(e,t))}function ch(t,e){var n=null,i=null;return mh(t,e.then(function(e){return n=kr(e),i=Qi(e),lh(t,e)}).then(function(){return xi({user:dh(t),credential:n,additionalUserInfo:i,operationType:"signIn"})}))}function uh(t){return t.app}function dh(t){return t.currentUser}function ph(t){return dh(t)&&dh(t)._lat||null}function fh(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e](ph(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](ph(t))}}function mh(t,e){return t.N.push(e),e.ia(function(){L(t.N,e)}),e}function gh(){}function _h(){this.a={},this.b=1e12}Ql.prototype.lb=function(t){var e=null,n=this;return function(t){var e=new ki("invalid-persistence-type"),n=new ki("unsupported-persistence-type");t:{for(i in Ea)if(Ea[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(Kn()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!ri()&&"none"!==t)throw n}}(t),ih(this,function(){return t!=n.c.A?n.b.get(n.c,n.a).then(function(i){return e=i,Xl(n,t)}).then(function(){if(n.c=Jl(t),e)return n.b.set(n.c,e,n.a)}):wt()})},v(rh,Oe),v(sh,se),v(oh,se),(t=rh.prototype).lb=function(t){return mh(this,t=this.h.lb(t))},t.oa=function(t){this.W===t||this.l||(this.W=t,zs(this.b,this.W),this.dispatchEvent(new sh(this.ea())))},t.ea=function(){return this.W},t.Sc=function(){var t=n.navigator;this.oa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.tc=function(t){this.G.push(t),Hs(this.b,Wu.a.SDK_VERSION?ei(Wu.a.SDK_VERSION,this.G):null),this.dispatchEvent(new oh(this.G))},t.xa=function(){return V(this.G)},t.toJSON=function(){return{apiKey:uh(this).options.apiKey,authDomain:uh(this).options.authDomain,appName:uh(this).name,currentUser:dh(this)&&dh(this).D()}},t.ub=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ha=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.wa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?g(this.ac,this):null},t.ac=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var i=null,r=null,s=to(n.b,t).then(function(t){return i=kr(t),r=Qi(t),t});return mh(this,t=n.V.then(function(){return s}).then(function(t){return lh(n,t)}).then(function(){return xi({user:dh(n),credential:i,additionalUserInfo:r,operationType:"signIn"})}))},t.Kc=function(t){if(!si())return Ct(new ki("operation-not-supported-in-this-environment"));var e=this,n=Ki(t.providerId),i=di(),r=null;(!li()||Gn())&&uh(this).options.authDomain&&t.isOAuthProvider&&(r=Ko(uh(this).options.authDomain,uh(this).options.apiKey,uh(this).name,"signInViaPopup",t,null,i,Wu.a.SDK_VERSION||null));var s=Hn(r,n&&n.Ba,n&&n.Aa);return mh(this,n=ah(this).then(function(e){return nl(e,s,"signInViaPopup",t,i,!!r)}).then(function(){return new ft(function(t,n){e.ha("signInViaPopup",null,new ki("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=i,e.c=e.a.Ea(e,"signInViaPopup",s,i)})}).then(function(t){return s&&zn(s),t?xi(t):null}).s(function(t){throw s&&zn(s),t}))},t.Lc=function(t){if(!si())return Ct(new ki("operation-not-supported-in-this-environment"));var e=this;return mh(this,ah(this).then(function(){return function(t){return ih(t,function(){return t.b.set(Zl,t.c.A,t.a)})}(e.h)}).then(function(){return e.a.Ca("signInViaRedirect",t)}))},t.fa=function(){if(!si())return Ct(new ki("operation-not-supported-in-this-environment"));var t=this;return mh(this,ah(this).then(function(){return t.a.fa()}).then(function(t){return t?xi(t):null}))},t.Qc=function(t){if(!t)return Ct(new ki("null-user"));var e=this,n={};n.apiKey=uh(this).options.apiKey,n.authDomain=uh(this).options.authDomain,n.appName=uh(this).name;var i=function(t,e,n,i){e=e||{apiKey:t.l,authDomain:t.u,appName:t.o};var r=t.h,s={};return s[Fs]=r.b,s.refreshToken=r.a,s.expiresIn=(r.c-y())/1e3,e=new bl(e,s),n&&(e.ba=n),i&&Cl(e,i),Fl(e,t),e}(t,n,e.w,e.xa());return mh(this,this.i.then(function(){if(uh(e).options.apiKey!=t.l)return i.reload()}).then(function(){return dh(e)&&t.uid==dh(e).uid?(Fl(dh(e),t),e.Z(t)):(hh(e,i),Il(i),e.Z(i))}).then(function(){fh(e)}))},t.mb=function(){var t=this;return mh(this,this.i.then(function(){return dh(t)?(hh(t,null),eh(t.h).then(function(){fh(t)})):wt()}))},t.Mc=function(){var t=this;return nh(this.h,uh(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=dh(t)&&e){n=dh(t).uid;var i=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==i&&null!==i&&""!==i&&n==i}if(n)return Fl(dh(t),e),dh(t).F();(dh(t)||e)&&(hh(t,e),e&&(Il(e),e.ba=t.w),t.a&&t.a.subscribe(t),fh(t))}})},t.Z=function(t){return th(this.h,t)},t.bc=function(){fh(this),this.Z(dh(this))},t.jc=function(){this.mb()},t.kc=function(){this.mb()},t.mc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(dh(e))})},t.nc=function(t){var e=this;!function(t,e){t.I.push(e),mh(t,t.i.then(function(){!t.l&&N(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(ph(t)))}))}(this,function(){t.next(dh(e))})},t.vc=function(t,e,n){var i=this;return this.X&&Wu.a.Promise.resolve().then(function(){c(t)?t(dh(i)):c(t.next)&&t.next(dh(i))}),this.Tb(t,e,n)},t.uc=function(t,e,n){var i=this;return this.X&&Wu.a.Promise.resolve().then(function(){i.O=i.getUid(),c(t)?t(dh(i)):c(t.next)&&t.next(dh(i))}),this.Ub(t,e,n)},t.cc=function(t){var e=this;return mh(this,this.i.then(function(){return dh(e)?dh(e).F(t).then(function(t){return{accessToken:t}}):null}))},t.Mb=function(t){var e=this;return this.i.then(function(){return ch(e,Do(e.b,ko,{token:t}))}).then(function(t){var n=t.user;return Ll(n,"isAnonymous",!1),e.Z(n),t})},t.Ec=function(t){return wi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Mb(t)},t.Fc=function(t,e){return wi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Nb(t,e)},t.Nb=function(t,e){var n=this;return this.i.then(function(){return ch(n,Do(n.b,Oo,{email:t,password:e}))})},t.wb=function(t,e){var n=this;return this.i.then(function(){return ch(n,Do(n.b,oo,{email:t,password:e}))})},t.Wb=function(t,e){return wi("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.wb(t,e)},t.Hc=function(t){return wi("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Oa(t).then(function(t){return t.user})},t.Oa=function(t){var e=this;return this.i.then(function(){return ch(e,t.ya(e.b))})},t.Pa=function(){var t=this;return this.i.then(function(){var e=dh(t);return e&&e.isAnonymous?xi({user:e,credential:null,additionalUserInfo:xi({providerId:null,isNewUser:!1}),operationType:"signIn"}):ch(t,t.b.Pa()).then(function(e){var n=e.user;return Ll(n,"isAnonymous",!0),t.Z(n),e})})},t.Gc=function(){return wi("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Pa()},t.getUid=function(){return dh(this)&&dh(this).uid||null},t.Vb=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&dh(this)&&xl(dh(this))},t.Cc=function(t){var e=this;D(this.o,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&dh(this)&&Tl(dh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.o.push(t),mh(this,this.i.then(function(){e.l||N(e.o,t)&&t(ph(e))}))},t.removeAuthTokenListener=function(t){F(this.o,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h).b.removeListener(Jl("local"),t.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Xa()),Wu.a.Promise.resolve()},t.Zb=function(t){return wi("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),mh(this,function(t,e){return Do(t,ao,{identifier:e,continueUri:oi()?Vn():"http://localhost"}).then(function(t){return t.allProviders||[]})}(this.b,t))},t.$b=function(t){return mh(this,function(t,e){return Do(t,ao,{identifier:e,continueUri:oi()?Vn():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},t.oc=function(t){return!!Cr(t)},t.kb=function(t,e){var n=this;return mh(this,wt().then(function(){var t=new Ri(e);if(!t.c)throw new ki("argument-error",Pi+" must be true when sending sign in link to email");return Bi(t)}).then(function(e){return n.b.kb(t,e)}).then(function(){}))},t.Tc=function(t){return this.Ja(t).then(function(t){return t.data.email})},t.Ya=function(t,e){return mh(this,this.b.Ya(t,e).then(function(){}))},t.Ja=function(t){return mh(this,this.b.Ja(t).then(function(t){return new function(t){var e={},n=t.email,i=t.newEmail;if(!(t=t.requestType)||"EMAIL_SIGNIN"!=t&&!n)throw Error("Invalid provider user info!");e.fromEmail=i||null,e.email=n||null,Ei(this,"operation",t),Ei(this,"data",Ti(e))}(t)}))},t.Va=function(t){return mh(this,this.b.Va(t).then(function(){}))},t.jb=function(t,e){var n=this;return mh(this,wt().then(function(){return void 0===e||it(e)?{}:Bi(new Ri(e))}).then(function(e){return n.b.jb(t,e)}).then(function(){}))},t.Jc=function(t,e){return mh(this,pl(this,t,e,g(this.Oa,this)))},t.Ic=function(t,e){var n=this;return mh(this,wt().then(function(){var i=wr(t,e||Vn());return n.Oa(i)}))},gh.prototype.render=function(){},gh.prototype.reset=function(){},gh.prototype.getResponse=function(){},gh.prototype.execute=function(){};var yh=null;function vh(t,e){return(e=bh(e))&&t.a[e]||null}function bh(t){return(t=void 0===t?1e12:t)?t.toString():null}function wh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=An(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():ge(this.f,"click",this.i)}function Ch(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Eh(){}_h.prototype.render=function(t,e){return this.a[this.b.toString()]=new wh(t,e),this.b++},_h.prototype.reset=function(t){var e=vh(this,t);t=bh(t),e&&t&&(e.delete(),delete this.a[t])},_h.prototype.getResponse=function(t){return(t=vh(this,t))?t.getResponse():null},_h.prototype.execute=function(t){(t=vh(this,t))&&t.execute()},wh.prototype.getResponse=function(){return Ch(this),this.b},wh.prototype.execute=function(){Ch(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()},6e4)},500))},wh.prototype.delete=function(){Ch(this),this.g=!0,clearTimeout(this.a),this.a=null,ve(this.f,"click",this.i)},Eh.prototype.g=function(){return yh||(yh=new _h),wt(yh)},Eh.prototype.c=function(){};var Sh=null;function xh(){this.b=n.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Th=fn("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),kh=new mi(3e4,6e4);xh.prototype.g=function(t){var e=this;return new ft(function(i,r){var s=setTimeout(function(){r(new ki("network-request-failed"))},kh.get());!n.grecaptcha||t!==e.f&&!e.b?(n[e.a]=function(){if(n.grecaptcha){e.f=t;var o=n.grecaptcha.render;n.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(s),i(n.grecaptcha)}else clearTimeout(s),r(new ki("internal-error"));delete n[e.a]},wt(Os(_n(Th,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(s),r(new ki("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(s),i(n.grecaptcha))})},xh.prototype.c=function(){this.b--};var Oh=null;function Ih(t,e,i,r,s,o,a){if(Ei(this,"type","recaptcha"),this.c=this.f=null,this.C=!1,this.l=e,this.g=null,a?(Sh||(Sh=new Eh),a=Sh):(Oh||(Oh=new xh),a=Oh),this.o=a,this.a=i||{theme:"light",type:"image"},this.h=[],this.a[Dh])throw new ki("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ph],!n.document)throw new ki("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!An(e)||!this.i&&An(e).hasChildNodes())throw new ki("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new Ns(t,o||null,s||null),this.v=r||function(){return null};var l=this;this.m=[];var h=this.a[Ah];this.a[Ah]=function(t){if(Mh(l,t),"function"==typeof h)h(t);else if("string"==typeof h){var e=ii(h,n);"function"==typeof e&&e(t)}};var c=this.a[Rh];this.a[Rh]=function(){if(Mh(l,null),"function"==typeof c)c();else if("string"==typeof c){var t=ii(c,n);"function"==typeof t&&t()}}}var Ah="callback",Rh="expired-callback",Dh="sitekey",Ph="size";function Mh(t,e){for(var n=0;n<t.m.length;n++)try{t.m[n](e)}catch(t){}}function Nh(t,e){return t.h.push(e),e.ia(function(){L(t.h,e)}),e}function Lh(t){if(t.C)throw new ki("internal-error","RecaptchaVerifier instance has been destroyed.")}function Fh(t,e,n){var i=!1;try{this.b=n||Wu.a.app()}catch(t){throw new ki("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new ki("invalid-api-key");n=this.b.options.apiKey;var r=this,s=null;try{s=this.b.auth().xa()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}s=Wu.a.SDK_VERSION?ei(Wu.a.SDK_VERSION,s):null,Ih.call(this,n,t,e,function(){try{var t=r.b.auth().ea()}catch(e){t=null}return t},s,Fo(No),i)}function jh(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,s=!1,o=0;o<e.length;o++)if(e[o].optional)s=!0;else{if(s)throw new ki("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(s=e.length,n.length<r||s<n.length)i="Expected "+(r==s?1==r?"1 argument":r+" arguments":r+"-"+s+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(s=e[r].optional&&void 0===n[r],!e[r].M(n[r])&&!s){if(e=e[r],0>r||r>=Vh.length)throw new ki("internal-error","Argument validator received an unsupported number of arguments.");n=Vh[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}i=null}}if(i)throw new ki("argument-error",t+" failed: "+i)}(t=Ih.prototype).za=function(){var t=this;return this.f?this.f:this.f=Nh(this,wt().then(function(){if(oi()&&!Yn())return $n();throw new ki("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.o.g(t.v())}).then(function(e){return t.g=e,Do(t.u,yo,{})}).then(function(e){t.a[Dh]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){Lh(this);var t=this;return Nh(this,this.za().then(function(){if(null===t.c){var e=t.l;if(!t.i){var n=An(e);e=function(t,e,n){var r=arguments,s=document,o=String(r[0]),a=r[1];if(!cn&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',z(a.name),'"'),a.type){o.push(' type="',z(a.type),'"');var c={};lt(c,a),delete c.type,a=c}o.push(">"),o=o.join("")}return o=s.createElement(o),a&&(i(a)?o.className=a:l(a)?o.className=a.join(" "):Rn(o,a)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild(i(n)?t.createTextNode(n):n)}for(var s=2;s<n.length;s++){var o=n[s];!h(o)||u(o)&&0<o.nodeType?r(o):D(Pn(o)?V(o):o,r)}}(s,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Lh(this);var t=this;return Nh(this,this.render().then(function(e){return new ft(function(n){var i=t.g.getResponse(e);if(i)n(i);else{var r=function(e){e&&(function(t,e){F(t.m,function(t){return t==e})}(t,r),n(e))};t.m.push(r),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Lh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Lh(this),this.C=!0,this.o.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=An(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}},v(Fh,Ih);var Vh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Bh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:i}}function Uh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:r}}function zh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:u}}function Hh(t,e){return{name:t||"",K:"a function",optional:!!e,M:c}}function Wh(t,e){return{name:t||"",K:"null",optional:!!e,M:a}}function $h(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ya||t&&e.providerId!==t)}}}function qh(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&i(t.type)&&c(t.verify))}}}function Gh(t,e,n,i){return{name:n||"",K:t.K+" or "+e.K,optional:!!i,M:function(n){return t.M(n)||e.M(n)}}}function Yh(t,e){for(var n in e){var i=e[n].name;t[i]=Xh(i,t[n],e[n].j)}}function Kh(t,e){for(var n in e){var i=e[n].name;if(i!==n){var r=e[n].sb;Object.defineProperty(t,i,{get:function(){return this[n]},set:function(t){jh(i,[r],[t],!0),this[n]=t},enumerable:!0})}}}function Qh(t,e,n,i){t[e]=Xh(e,n,i)}function Xh(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return jh(s,n,t),e.apply(this,t)}if(!n)return e;var r,s=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}Yh(rh.prototype,{Va:{name:"applyActionCode",j:[Bh("code")]},Ja:{name:"checkActionCode",j:[Bh("code")]},Ya:{name:"confirmPasswordReset",j:[Bh("code"),Bh("newPassword")]},wb:{name:"createUserWithEmailAndPassword",j:[Bh("email"),Bh("password")]},Wb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[Bh("email"),Bh("password")]},Zb:{name:"fetchProvidersForEmail",j:[Bh("email")]},$b:{name:"fetchSignInMethodsForEmail",j:[Bh("email")]},fa:{name:"getRedirectResult",j:[]},oc:{name:"isSignInWithEmailLink",j:[Bh("emailLink")]},uc:{name:"onAuthStateChanged",j:[Gh(zh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},vc:{name:"onIdTokenChanged",j:[Gh(zh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},jb:{name:"sendPasswordResetEmail",j:[Bh("email"),Gh(zh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},kb:{name:"sendSignInLinkToEmail",j:[Bh("email"),zh("actionCodeSettings")]},lb:{name:"setPersistence",j:[Bh("persistence")]},Oa:{name:"signInAndRetrieveDataWithCredential",j:[$h()]},Pa:{name:"signInAnonymously",j:[]},Gc:{name:"signInAnonymouslyAndRetrieveData",j:[]},Hc:{name:"signInWithCredential",j:[$h()]},Mb:{name:"signInWithCustomToken",j:[Bh("token")]},Ec:{name:"signInAndRetrieveDataWithCustomToken",j:[Bh("token")]},Nb:{name:"signInWithEmailAndPassword",j:[Bh("email"),Bh("password")]},Ic:{name:"signInWithEmailLink",j:[Bh("email"),Bh("emailLink",!0)]},Fc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[Bh("email"),Bh("password")]},Jc:{name:"signInWithPhoneNumber",j:[Bh("phoneNumber"),qh()]},Kc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Qc:{name:"updateCurrentUser",j:[Gh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof bl)}},Wh(),"user")]},mb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Bh(null,!0)]},Sc:{name:"useDeviceLanguage",j:[]},Tc:{name:"verifyPasswordResetCode",j:[Bh("code")]}}),Kh(rh.prototype,{lc:{name:"languageCode",sb:Gh(Bh(),Wh(),"languageCode")}}),(rh.Persistence=Ea).LOCAL="local",rh.Persistence.SESSION="session",rh.Persistence.NONE="none",Yh(bl.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Uh("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[Uh("opt_forceRefresh",!0)]},cb:{name:"linkAndRetrieveDataWithCredential",j:[$h()]},pc:{name:"linkWithCredential",j:[$h()]},qc:{name:"linkWithPhoneNumber",j:[Bh("phoneNumber"),qh()]},rc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},sc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},fb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[$h()]},yc:{name:"reauthenticateWithCredential",j:[$h()]},zc:{name:"reauthenticateWithPhoneNumber",j:[Bh("phoneNumber"),qh()]},Ac:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Bc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ib:{name:"sendEmailVerification",j:[Gh(zh("opt_actionCodeSettings",!0),Wh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Bh(null,!0)]},Pc:{name:"unlink",j:[Bh("provider")]},ob:{name:"updateEmail",j:[Bh("email")]},pb:{name:"updatePassword",j:[Bh("password")]},Rc:{name:"updatePhoneNumber",j:[$h("phone")]},qb:{name:"updateProfile",j:[zh("profile")]}}),Yh(_h.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(gh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(ft.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Kh(ul.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",sb:Uh("appVerificationDisabledForTesting")}}),Yh(dl.prototype,{confirm:{name:"confirm",j:[Bh("verificationCode")]}}),Qh(br,"credential",function(t,e){return new vr(t,e)},[Bh("email"),Bh("password")]),Yh(ur.prototype,{ta:{name:"addScope",j:[Bh("scope")]},Da:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),Qh(ur,"credential",dr,[Gh(Bh(),zh(),"token")]),Qh(br,"credentialWithLink",wr,[Bh("email"),Bh("emailLink")]),Yh(pr.prototype,{ta:{name:"addScope",j:[Bh("scope")]},Da:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),Qh(pr,"credential",fr,[Gh(Bh(),zh(),"token")]),Yh(mr.prototype,{ta:{name:"addScope",j:[Bh("scope")]},Da:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),Qh(mr,"credential",gr,[Gh(Bh(),Gh(zh(),Wh()),"idToken"),Gh(Bh(),Wh(),"accessToken",!0)]),Yh(_r.prototype,{Da:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),Qh(_r,"credential",yr,[Gh(Bh(),zh(),"token"),Bh("secret",!0)]),Yh(cr.prototype,{ta:{name:"addScope",j:[Bh("scope")]},credential:{name:"credential",j:[Gh(Bh(),Wh(),"idToken",!0),Gh(Bh(),Wh(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[zh("customOAuthParameters")]}}),Qh(xr,"credential",Tr,[Bh("verificationId"),Bh("verificationCode")]),Yh(xr.prototype,{Ta:{name:"verifyPhoneNumber",j:[Bh("phoneNumber"),qh()]}}),Yh(ki.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),Yh(Mr.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),Yh(Pr.prototype,{toJSON:{name:"toJSON",j:[Bh(null,!0)]}}),Yh(Fh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===Wu.a||!Wu.a.INTERNAL||!Wu.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:rh,Error:ki};Qh(t,"EmailAuthProvider",br,[]),Qh(t,"FacebookAuthProvider",ur,[]),Qh(t,"GithubAuthProvider",pr,[]),Qh(t,"GoogleAuthProvider",mr,[]),Qh(t,"TwitterAuthProvider",_r,[]),Qh(t,"OAuthProvider",cr,[Bh("providerId")]),Qh(t,"PhoneAuthProvider",xr,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof rh)}}]),Qh(t,"RecaptchaVerifier",Fh,[Gh(Bh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),zh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Wu.a.app.App)}}]),Wu.a.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:g((t=new rh(t)).getUid,t),getToken:g(t.cc,t),addAuthTokenListener:g(t.Vb,t),removeAuthTokenListener:g(t.Cc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),Wu.a.INTERNAL.extendNamespace({User:bl})}()}).call("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});class $u{}const qu=!1;class Gu{constructor(t){this.authenticator=t,this.authStateSubject=new ja(1),qu&&console.log(this.getClassRef()+".constructor",{authenticator:t})}getAuthState(){return qu&&console.log(this.getClassRef()+".getAuthState",{authState:this.authState,authenticator:this.authenticator}),this.authState||(this.authState=this.authStateSubject.asObservable(),this.authenticator.authState.subscribe(t=>{qu&&console.log(this.getClassRef()+".getAuthState - authState",t),this.authStateSubject.next(t?new Bu(t.uid,t.displayName,t.photoURL):this.getGuestState())}),this.authenticator.auth.defaultState&&(qu&&console.log(this.getClassRef()+".getAuthState - using defaultState",this.authenticator.auth.defaultState),this.authStateSubject.next(this.authenticator.auth.defaultState))),this.authState}signIn(){return this.authenticator.auth.signInWithPopup(this.getAuthProvider())}signOut(){return this.authenticator.auth.signOut()}getGuestState(){return Uu}getClassRef(){return this.constructor.name}}class Yu extends Gu{constructor(t){super(t),this.afAuth=t}getAuthProvider(){return new xu.auth.GoogleAuthProvider}}class Ku{constructor(t){this.defaultState=t,this.authStateSubject=new ja(1),this.authState=this.authStateSubject.asObservable(),qu&&console.log("LocalAuth.constructor",{defaultState:t,authState:this.authState})}signInWithPopup(t){const e=new Bu("TYrL9xguSRRzLXluC22EgVLzIRJ2","Scott","");this.authStateSubject.next(e)}signOut(){this.authStateSubject.next(this.defaultState)}}class Qu{constructor(t){const e=new Ku(Uu);qu&&console.log("LocalAuthenticator.constructor",{localAuth:e,localAuth_authState:e.authState}),this.auth=e,this.authState=e.authState}}class Xu extends Gu{constructor(t){super(new Qu(t)),this.dataService=t}getAuthProvider(){return"auth-provider"}}const Zu={apiKey:"AIzaSyAa4aoidv-9yRDKQ1m37Hsi6B1RnYIOZzo",authDomain:"mbd-stacks.firebaseapp.com",databaseURL:"https://mbd-stacks.firebaseio.com",storageBucket:"mbd-stacks.appspot.com"};class Ju{}const td=!1;class ed{constructor(t,e,n){this.entityType=t,this.entityService=e,this.errorService=n}getEntity(t){const e=this.createEntity(t);return td&&console.log(this.getClassRef()+".getEntity",{params:t,entity:e}),this.prepareEntity(e,t),e}prepareEntity(t,e){t.setPrepared()}initEntity(t,e){td&&console.log(this.getClassRef()+".initEntity",{subscriber:t,entity:e}),t.entityContext&&e.ready.pipe(sl()).subscribe(()=>{t.entityContext.initEntity(t,e)})}destroyEntity(t){td&&console.log(this.getClassRef()+".destroyEntity",t),t.subscriptions.forEach(t=>t.unsubscribe()),t.subscriptions.clear()}getPath(t,e,n){let i=this.getEntityPath(t.id,t.parent,e,n);return n&&t.mode&&(i=t.mode+"/"+i),i}getEntityData(t,e){if(e&&e.entityData)return td&&console.log(this.getClassRef()+".getEntityData - from params",{entity:t,params:e}),new Wc(e.entityData);const n=t.getPath();if(n)return td&&console.log(this.getClassRef()+".getEntityData - calling entity service",{entity:t,path:n}),this.entityService.getEntityData(n,t.getRetry());console.error(this.getClassRef()+".getEntityData - path to data not found",t)}getEntityDataList(t,e){if(e&&e.entityData&&e.entityData.children){const n=[];return Object.keys(e.entityData.children).forEach(t=>{n.push(e.entityData.children[t])}),td&&console.log(this.getClassRef()+".getEntityDataList - from params",{entity:t,params:e,childData:n}),new $c(n)}const n=this.getChildEntitiesPath(t);if(n)return td&&console.log(this.getClassRef()+".getEntityDataList - calling entity service",{entity:t,path:n}),this.entityService.getEntityDataList(n,this.getEntityRetry(t));console.error(this.getClassRef()+".getEntityDataList - path to data not found",t)}getEntityMetadata(t,e){if(e&&e.entityData&&e.entityData.meta)return td&&console.log(this.getClassRef()+".getEntityMetadata - from params",{entity:t,params:e}),new Wc(e.entityData.meta);const n=t.getPath();if(n)return td&&console.log(this.getClassRef()+".getEntityMetadata - calling entity service",{entity:t,path:n}),this.entityService.getEntityMetadata(n,t.getRetry());console.error(this.getClassRef()+".getEntityMetadata - path to data not found",t)}getResourcePath(t){}getEntityPath(t,e,n,i){return(e?e.getPath(n,i):"")+"/"+this.entityType+"s/"+t}getChildEntitiesPath(t){return t.getPath()+"/children"}provideEntityError(t,e){t.error=e,this.errorService.handleError("Could not provide "+this.entityType,e)}resolveRouteEntity(t){if(t.dataName)return(e=>{let n=t.routeSnapshot;for(;n;){const t=n.data[e];if(void 0!==t)return t;n=n.parent}})(t.dataName)}getEntityRetry(t){return t.getRetry()}getChildCommands(t,e){throw new Error(this.getClassRef()+".getChildCommands - Unimplemented")}getClassRef(){return this.constructor.name}}class nd{constructor(t){this.entityProvider=t}toObservable(t){const e=new ja(1);return e.next(t),e.asObservable().pipe(sl())}resolveRouteData(t,e){for(;t;){const n=t.data[e];if(n)return n;t=t.parent}}getClassRef(){return this.constructor.name}}const id=!1;class rd{constructor(t,e,n,i){this.componentType=t,this.entityProvider=e,this.errorService=n,this.route=i}ngOnInit(){if(this.entityContext||(this.entityContext=this.getEntityContext()),id&&console.log(this.getClassRef()+" +++++",this),this.entityContext){this.container=this.entityContext.container;const t=this.getEntitySource();t&&(this.entitySub=t.subscribe(t=>{id&&console.log(this.getClassRef()+".ngOnInit - EntitySource entity",t),this.entityUpdated(t,this.entity)},t=>{this.entityError(this.getClassRef()+".ngOnInit: error subscribing to EntitySource",t)}))}else null===this.entityContext?this.entityUpdated(null,this.entity):console.warn(this.getClassRef()+".ngOnInit - could not get context")}ngOnDestroy(){id&&console.log(this.getClassRef()+" -----",this),this.entitySub&&this.entitySub.unsubscribe(),this.container=null}getEntityContext(){let t=this.getContextRoute();if(null===t)return null;for(;t;){if(t.snapshot.data.context)return t.snapshot.data.context;t=t.parent}}getContextRoute(){return this.route}getEntitySource(){return id&&console.log(this.getClassRef()+".getEntitySource",{entityContext:this.entityContext,entityProvider:this.entityProvider}),this.entityContext.getEntitySource(this,this.entityProvider)}entityUpdated(t,e){id&&console.log(this.getClassRef()+".entityUpdated",{updated:t,previous:e}),this.entity=t}entityError(t,e,n){let i=this.getClassRef()+": "+t;n&&(i+=" (id="+n+")"),this.errorService.handleError(i,e)}getClassRef(){return this.constructor.name}}const sd=!1;class od extends rd{constructor(t,e){super(1,null,t,e),this.entityComponents=new Map,this.selectedEntitySubject=new ja(1),this.selectedEntity=this.selectedEntitySubject.asObservable(),this.displayTools=!0}get containerEntity(){return this.entity}get childItems(){return!this._childItems&&this.entity&&this.entity.childData&&(this._childItems=this.entity.childData.items()),this._childItems}ngOnInit(){this.childContext||(this.childContext=this.getChildContext()),this.childContext&&(this.childContext.container=this);const t=this.getEntityActions();t&&(t.setEntityContainer(this),this.entityActions=t);const e=this.selectEntityLayout();e&&(e.onInit(),this.entityLayout=e),super.ngOnInit()}ngOnDestroy(){this.selectedChildSub&&(this.selectedChildSub.unsubscribe(),this.selectedChildSub=null),this.childContext&&delete this.childContext.container,this.entityLayout&&this.entityLayout.onDestroy(),this.entityActions&&this.entityActions.setEntityContainer(null),super.ngOnDestroy()}entityUpdated(t,e){this.entityLayout&&(this.entityLayout.entity=t),super.entityUpdated(t,e)}getContextRoute(){if(this.route&&this.route.parent)return this.route.parent.parent}getChildContext(){let t=this.route;for(;t;){if(t.snapshot.data.context)return t.snapshot.data.context;t=t.parent}}getEntityActions(){}selectEntityLayout(){}addEntityComponent(t,e){if(!t.entityData)throw new Error(this.getClassRef()+".addEntityComponent - entityData not set on component: "+t.getClassRef());sd&&console.log(this.getClassRef()+".addEntityComponent >>>>>",{container:this.container,containerEntity:this.container?this.container.containerEntity:void 0,entity:this.containerEntity,component:t,componentEntity:t.entity}),this.entityComponents.set(t.entity.id,t),this.addEntity(t.entity,t.entityIndex,e),this.entityLayout&&this.entityLayout.componentAdded(t,e)}addEntity(t,e,n){sd&&console.log(this.getClassRef()+".addEntity",{containerEntity:this.entity,entityId:t.id,entity:t,entityIndex:e,isLast:n}),this.entity?(0===e&&this.entity.clearChildren(),this.entity.addChild(t,e),n&&(this.entity.setChildrenPrepared(),this.selectedChildSub=this.entity.getSelectedChild().subscribe(t=>{this.selectEntity(t)}))):(sd&&console.log(this.getClassRef()+".addEntity - selectEntity (no containerEntity)",t),this.selectEntity(t))}removeEntityComponent(t){sd&&console.log(this.getClassRef()+".removeEntityComponent <<<<<",{container:this.container,component:t}),this.removeEntity(t.entity.id),this.entityComponents.delete(t.entity.id),this.entityLayout&&this.entityLayout.componentRemoved(t)}removeEntity(t){this.entity&&(sd&&console.log(this.getClassRef()+".removeEntity",{containerEntity:this.entity,entityId:t}),this.entity.removeChild(t))}getEntityComponent(t){return this.entityComponents.get(t)}selectEntity(t){sd&&console.log(this.getClassRef()+".selectEntity",{selecting:t,previous:this.currentSelection}),this.selectedEntitySubject.next(t),this.currentSelection&&this.entityLayout&&this.entityLayout.componentSelected(this.entityComponents.get(t.id)),this.currentSelection=t}}const ad=!1;class ld extends rd{constructor(t,e,n){super(0,t,e,n),this.isLast=!0,this.added=!1}ngOnDestroy(){this.removeFromContainer(),super.ngOnDestroy()}entityUpdated(t,e){this.entityData||(this.entityData=this.getEntityData(t)),super.entityUpdated(t,e),this.entityProvider&&(e&&this.entityProvider.destroyEntity(e),t&&this.entityProvider.initEntity(this,t)),this.addToContainer()}addToContainer(){if(!this.added){if(!this.container)throw new Error(this.getClassRef()+".addToContainer- container is not set");this.container.addEntityComponent(this,this.isLast),this.added=!0}}removeFromContainer(){this.added&&(this.container&&this.container.removeEntityComponent(this),this.added=!1)}getId(){if(!this.entity)throw new Error("AbstractEntity.getId - entity not set");return this.entity.id}getEntitySource(){if(this.entityData){ad&&console.log(this.getClassRef()+".getEntitySource - entityData",{entityContext:this.entityContext,entityData:this.entityData});const t=new ja(1);return t.next(this.getEntityFromData(this.entityData)),t.asObservable().pipe(sl())}return super.getEntitySource()}getEntityFromData(t){throw new Error(this.getClassRef()+".getEntityFromData() is not supported")}getEntityData(t){return t.data?t.data:{$key:t.id}}}class hd extends rd{constructor(t,e,n){super(2,t,e,n)}ngOnInit(){const t=this.entityContext?this.entityContext:this.getEntityContext();if(!t)throw new Error(this.getClassRef()+".ngOnInit - entity context not available");this.selectedContext=this.createSelectedContext(t),super.ngOnInit(),this.container.entityActions&&this.container.entityActions.prepareContext(this.selectedContext)}get selectedEntity(){return this.entity}createSelectedContext(t){return new Ha(this,t)}}class cd{constructor(t){this.name=t}onInit(){}onDestroy(){this.entity=null}componentAdded(t,e){}componentRemoved(t){}componentSelected(t){}getClassRef(){return this.constructor.name}}class ud{}class dd extends zc{constructor(t,e){super(t,null,null,e)}}class pd extends Hc{constructor(t){super(t)}}class fd extends ed{constructor(t,e){super("custom-element",t,e)}createEntity(t){return new dd(this,t.entityData)}prepareEntity(t,e){super.prepareEntity(t,e)}addChild(t,e){}removeChild(t,e){}}class md extends ld{constructor(t,e){super(t,e)}addToContainer(){}}class gd{static withComponents(t){return{ngModule:gd,providers:[{provide:ut,useValue:t,multi:!0}]}}}const _d=!0;class yd extends md{ngOnChanges(t){const e=t.metadata;e&&_d&&console.log("MetadataEditorComponent - metadataChange",{metadata:this.metadata,metadataChange:e})}}class vd{}class bd extends zc{constructor(t,e,n,i){super(t,e,n,i)}}class wd extends bd{constructor(t,e,n,i){super(t,e,n,i)}}wd.Tools=["tools"];const Cd=!1;class Ed extends Ua{constructor(t="toolkit"){super(t)}providedEntitySource(t,e){if(!e)throw new Error(this.getClassRef()+".providedEntitySource - entity '"+this.entityName+"' entityProvider not found: "+t.getClassRef());Cd&&console.log(this.getClassRef()+".providedEntitySource",{entityName:this.entityName,subscriber:t,container:this.container,containerEntity:this.container?this.container.containerEntity:void 0});const n=new ja(1);return this.container.container.selectedEntity.subscribe(i=>{Cd&&console.log(this.getClassRef()+".providedEntitySource - container entity selected",{entityName:this.entityName,subscriber:t,entity:i}),n.next(e.getEntity(this.getProvidedParams()))}),n.asObservable()}}class Sd extends Hc{constructor(t){super(t)}addTool(t,e){if(t.hasCapability(wd.Tools,_a.CanAdd))return t.childData.push(e)}removeTool(t,e){if(t.hasCapability(wd.Tools,_a.CanRemove))return t.childData.remove(e)}updateView(t,e,n){const i=n;if(i)return this.dataService.object(t.getPath()+"/view/"+e,"Toolkit View").update(i)}getView(t,e,n){return this.dataService.object(t.getPath()+"/view/"+e,"Toolkit View",n)}}const xd=!1;class Td extends ed{constructor(t,e){super("toolkit",t,e)}createEntity(t){return new wd(this,null,t.entityId,t.entityData)}prepareEntity(t,e){xd&&console.log(this.getClassRef()+".prepareEntity",{toolkit:t,toolkitEntity:t.entity})}initEntity(t,e){if(e.entity=t.entityContext.container.containerEntity,xd&&console.log(this.getClassRef()+".initEntity",{subscriber:t,toolkit:e,toolkitEntity:e.entity,toolkitData:e.data}),e.id=e.entity.id,super.initEntity(t,e),e.data)return e.childData=this.getEntityDataList(e),void e.setPrepared();const n=this.getEntityData(e);n?n.properties().pipe(sl()).subscribe(t=>{e.data=t,e.childData=this.getEntityDataList(e),xd&&console.log(this.getClassRef()+".initEntity - toolkitData.subscribe",{data:t,toolkit:e}),e.setPrepared()},t=>{this.provideEntityError(e,t)}):console.error(this.getClassRef()+".initEntity - could not get toolkit data",e)}getPath(t,e){return this.getEntityPath(null,t.entity,e)}getEntityPath(t,e,n,i){if(!e)throw new Error(this.getClassRef()+".getEntityPath: relativeTo entity not set");const r=e.getResourcePath();if(!r)return void console.error(this.getClassRef()+".getEntityPath - resource path not set",e);const s=n?r:"/toolkits/"+r;return xd&&console.log(this.getClassRef()+".getEntityPath",{entityId:t,relativeTo:e,relativePath:n,resourcePath:r,toolkitPath:s}),s}getChildEntitiesPath(t){return this.getEntityPath(null,t.entity)+"/children"}enableCapabilities(t,e){e?(t.setCapabilities(wd.Tools,[_a.CanAdd,_a.CanRemove]),t.setCapabilities(wd.Selected,[_a.CanUpdate])):(t.setCapabilities(wd.Tools,[]),t.setCapabilities(wd.Selected,[]))}addChild(t,e){}removeChild(t,e){}}class kd extends nd{constructor(t){super(t)}}const Od=!1;class Id extends od{constructor(t,e){super(t,e)}getContextRoute(){return this.route}getChildContext(){const t=new Ed;return t.container=this,t}addEntity(t,e){Od&&console.log(this.getClassRef()+".addEntity [no-op]",{containerEntity:this.entity,entityId:t.id,entity:t})}}class Ad extends Ua{constructor(t="tool"){super(t)}}const Rd=!1;class Dd extends ld{constructor(t,e,n){super(t,e,n),this.toolContext=new Ad}entityUpdated(t,e){super.entityUpdated(t,e),Rd&&console.log(this.getClassRef()+".entityUpdated",{updated:t,previous:e,entityActions:this.entityActions,toolkitContainer:this.container,toolkitContainerEntity:this.container.containerEntity,toolContext:this.toolContext,toolContextContainer:this.toolContext.container})}}class Pd{}class Md extends Hc{constructor(t){super(t)}}const Nd=!1;class Ld extends ed{constructor(t,e){super("tool",t,e)}createEntity(t){const e=t.parent?t.parent:this.resolveRouteEntity(t);if(!e)throw new Error("ToolProvider.createEntity - parent not available");const n=new bd(this,e,t.entityId,t.entityData);return Nd&&console.log(this.getClassRef()+".createEntity",{params:t,parent:e,entityId:t.entityId,tool:n}),n}addChild(t,e){}removeChild(t,e){}}const Fd=!1;class jd extends od{constructor(t,e){super(t,e),this.tools=[]}ngOnDestroy(){super.ngOnDestroy(),this.toolDataSub&&(this.toolDataSub.unsubscribe(),this.toolDataSub=null)}entityUpdated(t,e){super.entityUpdated(t,e),Fd&&console.log(this.getClassRef()+".entityUpdated",{updated:t,previous:e,container:this.container,containerEntity:this.container.containerEntity,entityContext:this.entityContext,entityActions:this.entityActions}),this.toolDataSub&&(this.toolDataSub.unsubscribe(),this.toolDataSub=null),this.tools.length=0,t.ready.pipe(sl()).subscribe(()=>{this.toolDataSub=t.childData.items().subscribe(e=>{Fd&&console.log(this.getClassRef()+".entityUpdated - childData",{entity:t,toolData:e}),this.tools.push(...e)},e=>{console.error(this.getClassRef()+".entityUpdated - childData subscription",t,e)},()=>{Fd&&console.log(this.getClassRef()+".entityUpdated - childData subscription completed",{entity:t})})})}}class Vd extends ld{constructor(t,e){super(t,e),this.toolProvider=t}getEntityFromData(t){return this.toolProvider.getEntity({parent:this.container.containerEntity,entityData:t})}}class Bd extends Sl{ngOnInit(){this.entity=this.resolveContentEntity(),super.ngOnInit()}resolveContentEntity(){if(this.tool)return this.tool.parent.entity}getComponentContentType(){if(this.tool)return this.tool.data.meta.contentType}}class Ud{}class zd extends Td{constructor(t,e){super(t,e)}}const Hd=!1;class Wd extends kd{constructor(t){super(t)}resolve(t,e){const n=this.entityProvider.getEntity({});return Hd&&console.log(this.getClassRef()+".resolve",{route:t,state:e,toolkit:n}),this.toObservable(n)}}class $d extends Vc{}class qd extends od{getEntityActions(){return new $d}}class Gd extends zc{getUserOwned(){return this.parent&&this.parent.name===this.id.split("/")[0]}}Gd.Cards=["cards"];class Yd extends Hc{constructor(t){super(t)}addCard(t,e){if(t.hasCapability(Gd.Cards,_a.CanAdd))return t.childData.push(e)}removeCard(t,e){if(t.hasCapability(Gd.Cards,_a.CanRemove))return t.childData.remove(e)}updateView(t,e,n){const i=n;if(i)return this.dataService.object(t.getPath()+"/view/"+e,"Stack View").update(i)}getView(t,e,n){return this.dataService.object(t.getPath()+"/view/"+e,"Stack View",n)}}const Kd=!1;class Qd extends ed{constructor(t,e,n){super("stack",e,n),this.router=t,this.stackService=e}createEntity(t){const e=t.parent?t.parent:this.resolveRouteEntity(t);Kd&&console.log(this.getClassRef()+".createEntity",{parent:e,params:t});const n=t.entityId.substring(t.entityId.lastIndexOf("/")+1);return new Gd(this,e,t.entityId,{$key:n})}prepareEntity(t,e){const n=this.getStackMode();n&&(t.mode=n),t.childData=this.getEntityDataList(t,e),Kd&&console.log(this.getClassRef()+" - prepareEntity",{stackMode:n,childData:t.childData});const i=t.parent.ready.subscribe(e=>{this.enableCapabilities(t,e)});t.subscriptions.set("enableCapabilities",i),this.getEntityMetadata(t,e).properties().pipe(sl()).subscribe(n=>{Kd&&console.log(this.getClassRef()+".prepareEntity - metadata",n),t.data.meta=n,super.prepareEntity(t,e)},e=>{this.provideEntityError(t,e)})}getStackMode(){}getStackCommands(t){return t.id.split("/")}getChildCommands(t,e){const n=this.getStackCommands(t);return n.push(e),n}addChild(t,e){return this.stackService.addCard(t,e)}removeChild(t,e){return this.stackService.removeCard(t,e)}getRouteSegments(){return this.router.url.substring(1).split("/")}getPath(t,e){return e?t.id:this.getEntityPath(t.id)}getResourcePath(t){return"stack/content"}enableCapabilities(t,e){Kd&&console.log(this.getClassRef()+".enableCapabilities",{stack:t,enabled:e,userOwned:t.getUserOwned(),stackParent:t.parent,stackParentName:t.parent?t.parent.name:void 0}),e&&t.getUserOwned()?(t.setCapabilities(Gd.Cards,[_a.CanAdd,_a.CanRemove]),t.setCapabilities(Gd.Selected,[_a.CanUpdate])):(t.setCapabilities(Gd.Cards,[]),t.setCapabilities(Gd.Selected,[]))}}class Xd extends hd{constructor(t,e,n){super(t,e,n)}}class Zd{static withComponents(t){return{ngModule:Zd,providers:[{provide:ut,useValue:t,multi:!0}]}}}class Jd extends Qd{constructor(t,e,n){super(t,e,n)}}class tp extends ll{resolve(t,e){const n=new al("stack");return n.router=this.router,n}}const ep=!1;class np extends nd{constructor(t){super(t)}resolve(t,e){const n=t.paramMap.get("ownerName")+"/"+t.paramMap.get("stackName"),i=this.entityProvider.getEntity({routeSnapshot:t,dataName:"user",entityId:n});return ep&&console.log(this.getClassRef()+".resolve",{route:t,state:e,stack:i}),this.toObservable(i)}}class ip extends ld{constructor(t,e,n){super(t,e,n)}}class rp{}class sp extends zc{}class op extends Hc{constructor(t){super(t)}}class ap extends ed{constructor(t,e){super("card",t,e)}createEntity(t){if(!(t.parent?t.parent:this.resolveRouteEntity(t)))throw new Error("CardProvider.createEntity - parent not available");return new sp(this,t.parent,t.entityData.$key,t.entityData)}getResourcePath(t){return"card/"+t.data.meta.contentType}addChild(t,e){}removeChild(t,e){}}const lp=!1;class hp extends nd{constructor(t){super(t)}resolve(t,e){const n=this.resolveRouteData(t,"stack");if(!n)return void console.error(this.getClassRef()+".resolve - stack not found");const i=t.paramMap.get("cardId");if(!i)return void console.error(this.getClassRef()+".resolve - cardId not found");lp&&console.log(this.getClassRef()+".resolve - waiting for stack.ready",{stack:n,cardId:i});const r=new ja(1);return n.ready.pipe(sl()).subscribe(t=>{lp&&console.log(this.getClassRef()+".resolve - stack.ready",{stack:n,ready:t,cardId:i}),r.next(new sp(this.entityProvider,n,i,null)),r.complete()}),r.asObservable()}}class cp extends Td{constructor(t,e){super(t,e)}}const up=!1;class dp extends kd{constructor(t){super(t)}resolve(t,e){const n=this.entityProvider.getEntity({});return up&&console.log(this.getClassRef()+".resolve",{route:t,state:e,toolkit:n}),this.toObservable(n)}}class pp extends Vc{}class fp extends od{getEntityActions(){return new pp}isSelected(t){return t.$key===this.entity.selectedChildId}isPopped(t){const e=this.entity.selectedChildId;if(!e||e===t.$key)return!1;const n=this.entity.getChildIndex(e);return this.entity.getChildIndex(e)>n}}class mp extends hd{constructor(t,e,n){super(t,e,n)}createSelectedContext(t){return new Ha(this,t,"selected")}}class gp{}class _p extends ll{resolve(t,e){const n=new Ua("card");return n.router=this.router,n}}class yp extends ld{constructor(t,e,n){super(t,e,n),this.cardProvider=t}getEntityFromData(t){return this.cardProvider.getEntity({parent:this.container.containerEntity,entityData:t})}}class vp extends Sl{}class bp{static withComponents(t){return{ngModule:bp,providers:[{provide:ut,useValue:t,multi:!0}]}}}class wp extends xl{previousCard(){this.actions.selectPreviousChild()}hasPreviousCard(){return this.actions.canSelectPreviousChild()}nextCard(){this.actions.selectNextChild()}hasNextCard(){return this.actions.canSelectNextChild()}addCard(){this.actions.addChild({meta:{contentType:"text/amp"},state:{title:"Untitled"}})}canAddCard(){return this.actions.canAddChild()}removeCard(){this.actions.removeChild()}canRemoveCard(){return this.actions.canRemoveChild()}}class Cp{}new Set([]),n("LMID");class Ep{constructor(){this._listeners=[]}notify(t,e){for(let n of this._listeners)n(t,e)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e)}}ngOnDestroy(){this._listeners=[]}}Ep.ngInjectableDef=at({factory:function(){return new Ep},token:Ep,providedIn:"root"});class Sp extends I{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new T;return this._value}next(t){super.next(this._value=t)}}class xp{constructor(t,e){this._elementRef=t,this._tree=e,this._destroyed=new I,this.role="treeitem",xp.mostRecentTreeNode=this}get data(){return this._data}set data(t){this._data=t,this._setRoleFromData()}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):0}ngOnDestroy(){xp.mostRecentTreeNode===this&&(xp.mostRecentTreeNode=null),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){if(this._tree.treeControl.isExpandable)this.role=this._tree.treeControl.isExpandable(this._data)?"group":"treeitem";else{if(!this._tree.treeControl.getChildren)throw Error("Could not find functions for nested/flat tree in tree control.");const t=this._tree.treeControl.getChildren(this._data);Array.isArray(t)?this._setRoleFromChildren(t):t instanceof S&&t.pipe(Hh(this._destroyed)).subscribe(t=>this._setRoleFromChildren(t))}}_setRoleFromChildren(t){this.role=t&&t.length?"group":"treeitem"}}xp.mostRecentTreeNode=null;let Tp=null;function kp(){return Tp}class Op{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class Ip extends Op{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(e).forEach(n=>{null!=this.getStyle(t,n)&&(this._transitionEnd=e[n])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const Ap={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Rp=3,Dp={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pp={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};let Mp;gt.Node&&(Mp=gt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});class Np extends Ip{parse(t){throw new Error("parse not implemented")}static makeCurrent(){!function(t){Tp||(Tp=t)}(new Np)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return Ap}contains(t,e){return Mp.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(t,e),i}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const i=this.getStyle(t,e)||"";return n?i==n:i.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,i){t.setAttributeNS(e,n,i)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===Rp&&Pp.hasOwnProperty(e)&&(e=Pp[e]))}return Dp[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Fp||(Fp=document.querySelector("base"))?Fp.getAttribute("href"):null;return null==e?null:function(t){return Lp||(Lp=document.createElement("a")),Lp.setAttribute("href",t),"/"===Lp.pathname.charAt(0)?Lp.pathname:"/"+Lp.pathname}(e)}resetBaseElement(){Fp=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let Lp,Fp=null;const jp=bh;function Vp(){return!!window.history.pushState}class Bp extends Al{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=kp().getLocation(),this._history=kp().getHistory()}getBaseHrefFromDOM(){return kp().getBaseHref(this._doc)}onPopState(t){kp().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){kp().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Vp()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Vp()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}}Bp.ctorParameters=(()=>[{type:void 0,decorators:[{type:At,args:[jp]}]}]);const Up=new lt("TRANSITION_ID"),zp=[{provide:Me,useFactory:function(t,e,n){return()=>{n.get(Ne).donePromise.then(()=>{const n=kp();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Up,jp,jt],multi:!0}];class Hp{static init(){!function(t){yn=t}(new Hp)}addToWindow(t){gt.getAngularTestability=((e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i}),gt.getAllAngularTestabilities=(()=>t.getAllTestabilities()),gt.getAllAngularRootElements=(()=>t.getAllRootElements()),gt.frameworkStabilizers||(gt.frameworkStabilizers=[]),gt.frameworkStabilizers.push(t=>{const e=gt.getAllAngularTestabilities();let n=e.length,i=!1;const r=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(r)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?kp().isShadowRoot(e)?this.findTestabilityInTree(t,kp().getHost(e),!0):this.findTestabilityInTree(t,kp().parentElement(e),!0):null}}function Wp(t,e){"undefined"!=typeof COMPILED&&COMPILED||((gt.ng=gt.ng||{})[t]=e)}const $p={ApplicationRef:On,NgZone:ln};function qp(t){return Kn(t)}const Gp=new lt("EventManagerPlugins");class Yp{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}class Kp{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=kp().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}class Qp{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class Xp extends Qp{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>kp().remove(t))}}const Zp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Jp=/%COMP%/g,tf="_nghost-%COMP%",ef="_ngcontent-%COMP%";function nf(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?nf(t,r,n):(r=r.replace(Jp,t),n.push(r))}return n}function rf(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class sf{constructor(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new of(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ie.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new hf(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ie.Native:case ie.ShadowDom:return new cf(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=nf(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class of{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Zp[e],t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t){let e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error(`The selector "${t}" did not match any elements`);return e.textContent="",e}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=`${i}:${e}`;const r=Zp[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=Zp[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&Rn.DashCase?t.style.setProperty(e,n,i&Rn.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Rn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){lf(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return lf(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,rf(n)):this.eventManager.addEventListener(t,e,rf(n))}}const af="@".charCodeAt(0);function lf(t,e){if(t.charCodeAt(0)===af)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class hf extends of{constructor(t,e,n){super(t),this.component=n;const i=nf(n.id,n.styles,[]);e.addStyles(i),this.contentAttr=ef.replace(Jp,n.id),this.hostAttr=tf.replace(Jp,n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class cf extends of{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===ie.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=nf(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const t=document.createElement("style");t.textContent=r[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const uf="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},df=uf("addEventListener"),pf=uf("removeEventListener"),ff={},mf="__zone_symbol__propagationStopped";let gf;"undefined"!=typeof Zone&&Zone[uf("BLACK_LISTED_EVENTS")]&&(gf={});const _f=function(t){return!!gf&&gf.hasOwnProperty(t)},yf=function(t){const e=ff[t.type];if(!e)return;const n=this[e];if(!n)return;const i=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,i):t.handler.apply(this,i)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[mf];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,i):t.handler.apply(this,i)}}},vf={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},bf=new lt("HammerGestureConfig"),wf=new lt("HammerLoader");class Cf{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}const Ef=["alt","control","meta","shift"],Sf={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class xf extends Kp{constructor(t){super(t)}supports(t){return null!=xf.parseEventName(t)}addEventListener(t,e,n){const i=xf.parseEventName(e),r=xf.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kp().onAndCancel(t,i.domEventName,r))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const i=xf._normalizeKey(e.pop());let r="";if(Ef.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r+=t+".")}),r+=i,0!=e.length||0===i.length)return null;const s={};return s.domEventName=n,s.fullKey=r,s}static getEventFullKey(t){let e="",n=kp().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Ef.forEach(i=>{i!=n&&(0,Sf[i])(t)&&(e+=i+".")}),e+=n}static eventCallback(t,e,n){return i=>{xf.getEventFullKey(i)===t&&n.runGuarded(()=>e(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class Tf{}class kf extends Tf{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Hi.NONE:return e;case Hi.HTML:return e instanceof If?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{Vi=Vi||new bi(t);let i=e?String(e):"";n=Vi.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=Vi.getInertBodyElement(i)}while(i!==s);const o=new Ni,a=o.sanitizeChildren(Bi(n)||n);return Cn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),a}finally{if(n){const t=Bi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case Hi.STYLE:return e instanceof Af?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(zi);return e&&Ei(e[1])===e[1]||t.match(Ui)&&function(t){let e=!0,n=!0;for(let i=0;i<t.length;i++){const r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}(t)?t:(Cn()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case Hi.SCRIPT:if(e instanceof Rf)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Hi.URL:return e instanceof Pf||e instanceof Df?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Ei(String(e)));case Hi.RESOURCE_URL:if(e instanceof Pf)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof Of)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new If(t)}bypassSecurityTrustStyle(t){return new Af(t)}bypassSecurityTrustScript(t){return new Rf(t)}bypassSecurityTrustUrl(t){return new Df(t)}bypassSecurityTrustResourceUrl(t){return new Pf(t)}}class Of{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class If extends Of{getTypeName(){return"HTML"}}class Af extends Of{getTypeName(){return"Style"}}class Rf extends Of{getTypeName(){return"Script"}}class Df extends Of{getTypeName(){return"URL"}}class Pf extends Of{getTypeName(){return"ResourceURL"}}const Mf=Sn(fi,"browser",[{provide:Be,useValue:wh},{provide:Ve,useValue:function(){Np.makeCurrent(),Hp.init()},multi:!0},{provide:Al,useClass:Bp,deps:[jp]},{provide:jp,useFactory:function(){return document},deps:[]}]);function Nf(){return new ue}class Lf{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:Lf,providers:[{provide:Le,useValue:t.appId},{provide:Up,useExisting:Le},zp]}}}class Ff{constructor(t){this._doc=t,this._dom=kp()}addTag(t,e=!1){return t?this._getOrCreateElement(t,e):null}addTags(t,e=!1){return t?t.reduce((t,n)=>(n&&t.push(this._getOrCreateElement(n,e)),t),[]):[]}getTag(t){return t&&this._dom.querySelector(this._doc,`meta[${t}]`)||null}getTags(t){if(!t)return[];const e=this._dom.querySelectorAll(this._doc,`meta[${t}]`);return e?[].slice.call(e):[]}updateTag(t,e){if(!t)return null;e=e||this._parseSelector(t);const n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,e=!1){if(!e){const e=this._parseSelector(t),n=this.getTag(e);if(n&&this._containsAttributes(t,n))return n}const n=this._dom.createElement("meta");this._setMetaElementAttributes(t,n);const i=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(i,n),n}_setMetaElementAttributes(t,e){return Object.keys(t).forEach(n=>this._dom.setAttribute(e,n,t[n])),e}_parseSelector(t){const e=t.name?"name":"property";return`${e}="${t[e]}"`}_containsAttributes(t,e){return Object.keys(t).every(n=>this._dom.getAttribute(e,n)===t[n])}}Ff.ngInjectableDef=at({factory:function(){return new Ff(ne(jp))},token:Ff,providedIn:"root"});class jf{constructor(t){this._doc=t}getTitle(){return kp().getTitle(this._doc)}setTitle(t){kp().setTitle(this._doc,t)}}jf.ngInjectableDef=at({factory:function(){return new jf(ne(jp))},token:jf,providedIn:"root"}),"undefined"!=typeof window&&window;class Vf{}Vf.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",Vf.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",Vf.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",Vf.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";class Bf{}Bf.COMPLEX="375ms",Bf.ENTERING="225ms",Bf.EXITING="195ms";const Uf=new lt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class zf{constructor(t){this._sanityChecksEnabled=t,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&Cn()&&!this._isTestEnv()}_isTestEnv(){return this._window&&(this._window.__karma__||this._window.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(this._document&&this._document.body&&"function"==typeof getComputedStyle){const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(this._areChecksEnabled()&&!this._window.Hammer&&console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}function Hf(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Tl(t)}}}function Wf(t,e){return class extends t{get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...t){super(...t),this.color=e}}}class $f{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}$f.ngInjectableDef=at({factory:function(){return new $f},token:$f,providedIn:"root"});const qf=new lt("MAT_HAMMER_OPTIONS"),Gf=["longpress","slide","slidestart","slideend","slideright","slideleft"],Yf={on:()=>{},off:()=>{}};class Kf extends Cf{constructor(t,e){super(),this._hammerOptions=t,this.events=Gf,e&&e._checkHammerIsAvailable()}buildHammer(t){const e="undefined"!=typeof window?window.Hammer:null;if(!e)return Yf;const n=new e(t,this._hammerOptions||void 0),i=new e.Pan,r=new e.Swipe,s=new e.Press,o=this._createRecognizer(i,{event:"slide",threshold:0},r),a=this._createRecognizer(s,{event:"longpress",time:500});return i.recognizeWith(r),n.add([r,s,i,o,a]),n}_createRecognizer(t,e,...n){let i=new t.constructor(e);return n.push(t),n.forEach(t=>i.recognizeWith(t)),i}}const Qf=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}();class Xf{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=Qf.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Zf={enterDuration:450,exitDuration:400},Jf=800;class tm{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._eventOptions=!!Ih()&&{passive:!0},this.onMousedown=(t=>{const e=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Jf;this._target.rippleDisabled||e||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}),this.onTouchStart=(t=>{this._target.rippleDisabled||(this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0,this.fadeInRipple(t.touches[0].clientX,t.touches[0].clientY,this._target.rippleConfig))}),this.onPointerUp=(()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(t.state===Qf.VISIBLE||t.config.terminateOnPointerUp&&t.state===Qf.FADING_IN)&&t.fadeOut()}))}),i.isBrowser&&(this._containerElement=n.nativeElement,this._triggerEvents.set("mousedown",this.onMousedown),this._triggerEvents.set("mouseup",this.onPointerUp),this._triggerEvents.set("mouseleave",this.onPointerUp),this._triggerEvents.set("touchstart",this.onTouchStart),this._triggerEvents.set("touchend",this.onPointerUp))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign({},Zf,n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const s=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),o=t-i.left,a=e-i.top,l=r.enterDuration/(n.speedFactor||1),h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${o-s}px`,h.style.top=`${a-s}px`,h.style.height=`${2*s}px`,h.style.width=`${2*s}px`,h.style.backgroundColor=n.color||null,h.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(h),window.getComputedStyle(h).getPropertyValue("opacity"),h.style.transform="scale(1)";const c=new Xf(this,h,n);return c.state=Qf.FADING_IN,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this.runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=Qf.VISIBLE,n.persistent||t&&this._isPointerDown||c.fadeOut()},l),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign({},Zf,t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=Qf.FADING_OUT,this.runTimeoutOutsideZone(()=>{t.state=Qf.HIDDEN,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((e,n)=>t.addEventListener(n,e,this._eventOptions))}),this._triggerElement=t)}runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((t,e)=>{this._triggerElement.removeEventListener(e,t,this._eventOptions)})}}const em=new lt("mat-ripple-global-options");class nm{constructor(t,e,n,i,r){this._elementRef=t,this.radius=0,this.speedFactor=1,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new tm(this,e,t,n),"NoopAnimations"===r&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp,speedFactor:this.speedFactor*(this._globalOptions.baseSpeedFactor||1)}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,t))}}class im{}class rm extends yd{getEntityContext(){const t=new Ua("custom-element");return t.entityParams={entityId:"TYrL9xguSRRzLXluC22EgVLzIRJ2",entityData:{$key:"scott",meta:{name:"scott",created:"12345",selected:"scott/start"},state:{title:"Scott"}}},t}}class sm extends cd{}class om extends xl{}class am{constructor(t){this.bottomSheetRef=t}dismissSheet(t){this.bottomSheetRef.dismiss(),t.preventDefault()}}class lm extends xl{constructor(t){super(),this.bottomSheet=t}openResources(){this.bottomSheet.open(am)}}class hm{}class cm extends ul{constructor(){super(),this.setContentComponentType("tool/action",om),this.setContentComponentType("tool/resources",lm)}}class um{constructor(t,e){customElements.define("mbd-edit-entity",function(t,e){const n=function(t,n){return e.injector.get(Qe).resolveComponentFactory(t).inputs}(t),i=e.strategyFactory||new pa(t,e.injector),r=function(t){const e={};return t.forEach(({propName:t,templateName:n})=>{e[n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)]=t}),e}(n);class s extends ma{constructor(t){super(),this.ngElementStrategy=i.create(t||e.injector)}attributeChangedCallback(t,n,s,o){this.ngElementStrategy||(this.ngElementStrategy=i.create(e.injector)),this.ngElementStrategy.setInputValue(r[t],s)}connectedCallback(){this.ngElementStrategy||(this.ngElementStrategy=i.create(e.injector)),this.ngElementStrategy.connect(this),this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(t=>{const e=function(t,e,n){if("function"!=typeof CustomEvent){const i=t.createEvent("CustomEvent");return i.initCustomEvent(e,!1,!1,n),i}return new CustomEvent(e,{bubbles:!1,cancelable:!1,detail:n})}(this.ownerDocument,t.name,t.value);this.dispatchEvent(e)})}disconnectedCallback(){this.ngElementStrategy&&this.ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}}return s.observedAttributes=Object.keys(r),n.map(({propName:t})=>t).forEach(t=>{Object.defineProperty(s.prototype,t,{get:function(){return this.ngElementStrategy.getInputValue(t)},set:function(e){this.ngElementStrategy.setInputValue(t,e)},configurable:!0,enumerable:!0})}),s}(rm,{injector:e}))}ngDoBootstrap(){}}class dm{}class pm{}const fm="*";function mm(t,e=null){return{type:2,steps:t,options:e}}function gm(t){return{type:6,styles:t,offset:null}}function _m(t){Promise.resolve(null).then(t)}class ym{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){_m(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class vm{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?_m(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const bm="!",wm={};class Cm{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Em(t,this.resultSelector))}}class Em extends z{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(wm),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(U(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,i,r){const s=this.values,o=this.toRespond?s[n]===wm?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)}}function Sm(){return Z(1)}const xm=new Set;let Tm;class km{constructor(t){this.platform=t,this._matchMedia=this.platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Om}matchMedia(t){return this.platform.WEBKIT&&function(t){if(!xm.has(t))try{Tm||((Tm=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(Tm)),Tm.sheet&&(Tm.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),xm.add(t))}catch(t){console.error(t)}}(t),this._matchMedia(t)}}function Om(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}km.ngInjectableDef=at({factory:function(){return new km(ne(kh))},token:km,providedIn:"root"});class Im{constructor(t,e){this.mediaMatcher=t,this.zone=e,this._queries=new Map,this._destroySubject=new I}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Am(Ol(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){return function(...t){let e=null,n=null;return R(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),q(t,n).lift(new Cm(e))}(Am(Ol(t)).map(t=>this._registerQuery(t).observable)).pipe(H(t=>({matches:t.some(t=>t&&t.matches)})))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this.mediaMatcher.matchMedia(t),n={observable:function t(e,n,r){return r?t(e,n).pipe(H(t=>l(t)?r(...t):r(t))):new S(t=>{const r=(...e)=>t.next(1===e.length?e[0]:e);let s;try{s=e(r)}catch(e){return void t.error(e)}if(i(n))return()=>n(r,s)})}(t=>{e.addListener(e=>this.zone.run(()=>t(e)))},t=>{e.removeListener(e=>this.zone.run(()=>t(e)))}).pipe(Hh(this._destroySubject),function(...t){return e=>{let n=t[t.length-1];R(n)?t.pop():n=null;const i=t.length;return function(...t){return 1===t.length||2===t.length&&R(t[1])?G(t[0]):Sm()(ka(...t))}(1!==i||n?i>0?q(t,n):xa(n):Ta(t[0]),e)}}(e),H(t=>({matches:t.matches}))),mql:e};return this._queries.set(t,n),n}}function Am(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}Im.ngInjectableDef=at({factory:function(){return new Im(ne(km),ne(ln))},token:Im,providedIn:"root"});const Rm={XSmall:"(max-width: 599px)",Small:"(min-width: 600px) and (max-width: 959px)",Medium:"(min-width: 960px) and (max-width: 1279px)",Large:"(min-width: 1280px) and (max-width: 1919px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599px) and (orientation: portrait), (max-width: 959px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"},Dm=new lt("cdk-dir-doc",{providedIn:"root",factory:function(){return ne(bh)}});class Pm{constructor(t){if(this.value="ltr",this.change=new an,t){const e=(t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null);this.value="ltr"===e||"rtl"===e?e:"ltr"}}ngOnDestroy(){this.change.complete()}}Pm.ngInjectableDef=at({factory:function(){return new Pm(ne(Dm,8))},token:Pm,providedIn:"root"});class Mm{}const Nm=new lt("MatBottomSheetData");class Lm{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0}}class Fm extends _l{constructor(t,e,n,i,r,s){super(),this._elementRef=t,this._changeDetectorRef=e,this._focusTrapFactory=n,this.bottomSheetConfig=s,this._animationState="void",this._animationStateChanged=new an,this._elementFocusedBeforeOpened=null,this._document=r,this._breakpointSubscription=i.observe([Rm.Medium,Rm.Large,Rm.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",i.isMatched(Rm.Medium)),this._toggleClass("mat-bottom-sheet-container-large",i.isMatched(Rm.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",i.isMatched(Rm.XLarge))})}attachComponentPortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"visible"===t.toState?this._trapFocus():"hidden"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_toggleClass(t,e){const n=this._elementRef.nativeElement.classList;e?n.add(t):n.remove(t)}_validatePortalAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach bottom sheet content after content is already attached")}_setPanelClass(){const t=this._elementRef.nativeElement,e=this.bottomSheetConfig.panelClass;Array.isArray(e)?e.forEach(e=>t.classList.add(e)):e&&t.classList.add(e)}_trapFocus(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._focusTrap.focusInitialElementWhenReady()}_restoreFocus(){const t=this._elementFocusedBeforeOpened;t&&"function"==typeof t.focus&&t.focus(),this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus())}}class jm{}class Vm{constructor(t,e,n){this._overlayRef=e,this._afterDismissed=new I,this._afterOpened=new I,this._locationChanges=m.EMPTY,this.containerInstance=t,t._animationStateChanged.pipe($a(t=>"done"===t.phaseName&&"visible"===t.toState),Ka(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe($a(t=>"done"===t.phaseName&&"hidden"===t.toState),Ka(1)).subscribe(()=>{this._locationChanges.unsubscribe(),this._overlayRef.dispose(),this._afterDismissed.next(this._result),this._afterDismissed.complete()}),t.bottomSheetConfig.disableClose||J(e.backdropClick(),e.keydownEvents().pipe($a(t=>t.keyCode===qh))).subscribe(()=>this.dismiss()),n&&(this._locationChanges=n.subscribe(()=>{t.bottomSheetConfig.closeOnNavigation&&this.dismiss()}))}dismiss(t){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe($a(t=>"start"===t.phaseName),Ka(1)).subscribe(()=>this._overlayRef.detachBackdrop()),this._result=t,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this._afterOpened.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}class Bm{constructor(t,e,n,i){this._overlay=t,this._injector=e,this._parentBottomSheet=n,this._location=i,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}open(t,e){const n=function(t){return Object.assign({},new Lm,t)}(e),i=this._createOverlay(n),r=this._attachContainer(i,n),s=new Vm(r,i,this._location);if(t instanceof zn)r.attachTemplatePortal(new gl(t,null,{$implicit:n.data,bottomSheetRef:s}));else{const e=new ml(t,void 0,this._createInjector(n,s)),i=r.attachComponentPortal(e);s.instance=i.instance}return s.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==s&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>s.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):s.containerInstance.enter(),this._openedBottomSheetRef=s,s}dismiss(){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss()}_attachContainer(t,e){const n=new Cl(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[Lm,e]])),i=new ml(Fm,e.viewContainerRef,n);return t.attach(i).instance}_createOverlay(t){const e=new nc({direction:t.direction,hasBackdrop:t.hasBackdrop,maxWidth:"100%",scrollStrategy:this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return t.backdropClass&&(e.backdropClass=t.backdropClass),this._overlay.create(e)}_createInjector(t,e){const n=t&&t.viewContainerRef&&t.viewContainerRef.injector,i=new WeakMap([[Vm,e],[Nm,t.data]]);return!t.direction||n&&n.get(Pm,null)||i.set(Pm,{value:t.direction,change:ka()}),new Cl(n||this._injector,i)}}Bm.ngInjectableDef=at({factory:function(){return new Bm(ne(Ec),ne(Ft),ne(Bm,12),ne(Ml,8))},token:Bm,providedIn:jm});const Um=" ";function zm(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}const Hm="cdk-describedby-message-container",Wm="cdk-describedby-message",$m="cdk-describedby-host";let qm=0;const Gm=new Map;let Ym=null;class Km{constructor(t){this._document=t}describe(t,e){this._canBeDescribed(t,e)&&(Gm.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}removeDescription(t,e){if(!this._canBeDescribed(t,e))return;this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e);const n=Gm.get(e);n&&0===n.referenceCount&&this._deleteMessageElement(e),Ym&&0===Ym.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const t=this._document.querySelectorAll(`[${$m}]`);for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute($m);Ym&&this._deleteMessagesContainer(),Gm.clear()}_createMessageElement(t){const e=this._document.createElement("div");e.setAttribute("id",`${Wm}-${qm++}`),e.appendChild(this._document.createTextNode(t)),this._createMessagesContainer(),Ym.appendChild(e),Gm.set(t,{messageElement:e,referenceCount:0})}_deleteMessageElement(t){const e=Gm.get(t),n=e&&e.messageElement;Ym&&n&&Ym.removeChild(n),Gm.delete(t)}_createMessagesContainer(){if(!Ym){const t=this._document.getElementById(Hm);t&&t.parentNode.removeChild(t),(Ym=this._document.createElement("div")).id=Hm,Ym.setAttribute("aria-hidden","true"),Ym.style.display="none",this._document.body.appendChild(Ym)}}_deleteMessagesContainer(){Ym&&Ym.parentNode&&(Ym.parentNode.removeChild(Ym),Ym=null)}_removeCdkDescribedByReferenceIds(t){const e=zm(t,"aria-describedby").filter(t=>0!=t.indexOf(Wm));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=Gm.get(e);!function(t,e,n){const i=zm(t,e);i.some(t=>t.trim()==n.trim())||(i.push(n.trim()),t.setAttribute(e,i.join(Um)))}(t,"aria-describedby",n.messageElement.id),t.setAttribute($m,""),n.referenceCount++}_removeMessageReference(t,e){const n=Gm.get(e);n.referenceCount--,function(t,e,n){const i=zm(t,e).filter(t=>t!=n.trim());t.setAttribute(e,i.join(Um))}(t,"aria-describedby",n.messageElement.id),t.removeAttribute($m)}_isElementDescribedByMessage(t,e){const n=zm(t,"aria-describedby"),i=Gm.get(e),r=i&&i.messageElement.id;return!!r&&-1!=n.indexOf(r)}_canBeDescribed(t,e){return t.nodeType===this._document.ELEMENT_NODE&&null!=e&&!!`${e}`.trim()}}Km.ngInjectableDef=at({factory:function(){return new Km(ne(bh))},token:Km,providedIn:"root"});class Qm{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(t){return null}}(t.ownerDocument.defaultView||window);if(e){const t=e&&e.nodeName.toLowerCase();if(-1===Zm(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let n=t.nodeName.toLowerCase(),i=Zm(t);if(t.hasAttribute("contenteditable"))return-1!==i;if("iframe"===n)return!1;if("audio"===n){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===n){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==n||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Xm(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}function Xm(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Zm(t){if(!Xm(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}Qm.ngInjectableDef=at({factory:function(){return new Qm(ne(kh))},token:Qm,providedIn:"root"});class Jm{constructor(t,e,n,i,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._startAnchor.tabIndex=this._endAnchor.tabIndex=this._enabled?0:-1)}destroy(){this._startAnchor&&this._startAnchor.parentNode&&this._startAnchor.parentNode.removeChild(this._startAnchor),this._endAnchor&&this._endAnchor.parentNode&&this._endAnchor.parentNode.removeChild(this._endAnchor),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",()=>this.focusLastTabbableElement())),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",()=>this.focusFirstTabbableElement()))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], `+`[cdkFocusRegion${t}], `+`[cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated `+"attribute will be removed in 7.0.0.",e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated attribute `+"will be removed in 7.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 7.0.0",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return t.tabIndex=this._enabled?0:-1,t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Ka(1)).subscribe(t)}}class tg{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Jm(t,this._checker,this._ngZone,this._document,e)}}tg.ngInjectableDef=at({factory:function(){return new tg(ne(Qm),ne(ln),ne(bh))},token:tg,providedIn:"root"});const eg=new lt("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}});class ng{constructor(t,e){this._document=e,this._liveElement=t||this._createLiveElement()}announce(t,e="polite"){return this._liveElement.textContent="",this._liveElement.setAttribute("aria-live",e),new Promise(e=>{setTimeout(()=>{this._liveElement.textContent=t,e()},100)})}ngOnDestroy(){this._liveElement&&this._liveElement.parentNode&&this._liveElement.parentNode.removeChild(this._liveElement)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);const e=this._document.createElement("div");return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}ng.ngInjectableDef=at({factory:function(){return new ng(ne(eg,8),ne(bh))},token:ng,providedIn:"root"});const ig=650;class rg{constructor(t,e){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._unregisterGlobalListeners=(()=>{}),this._monitoredElementCount=0}monitor(t,e=!1){if(!this._platform.isBrowser)return ka(null);if(this._elementInfo.has(t)){let n=this._elementInfo.get(t);return n.checkChildren=e,n.subject.asObservable()}let n={unlisten:()=>{},checkChildren:e,subject:new I};this._elementInfo.set(t,n),this._incrementMonitoredElementCount();let i=e=>this._onFocus(e,t),r=e=>this._onBlur(e,t);return this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",i,!0),t.addEventListener("blur",r,!0)}),n.unlisten=(()=>{t.removeEventListener("focus",i,!0),t.removeEventListener("blur",r,!0)}),n.subject.asObservable()}stopMonitoring(t){const e=this._elementInfo.get(t);e&&(e.unlisten(),e.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._decrementMonitoredElementCount())}focusVia(t,e,n){this._setOriginForCurrentEventQueue(e),"function"==typeof t.focus&&t.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_registerGlobalListeners(){if(!this._platform.isBrowser)return;let t=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},e=()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")},n=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,ig)},i=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",t,!0),document.addEventListener("mousedown",e,!0),document.addEventListener("touchstart",n,!Ih()||{passive:!0,capture:!0}),window.addEventListener("focus",i)}),this._unregisterGlobalListeners=(()=>{document.removeEventListener("keydown",t,!0),document.removeEventListener("mousedown",e,!0),document.removeEventListener("touchstart",n,!Ih()||{passive:!0,capture:!0}),window.removeEventListener("focus",i),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)})}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_setClasses(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==t.target)return;let i=this._origin;i||(i=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._registerGlobalListeners()}_decrementMonitoredElementCount(){--this._monitoredElementCount||(this._unregisterGlobalListeners(),this._unregisterGlobalListeners=(()=>{}))}}rg.ngInjectableDef=at({factory:function(){return new rg(ne(ln),ne(kh))},token:rg,providedIn:"root"});var sg=lr({encapsulation:2,styles:[".mat-bottom-sheet-container{box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}@media screen and (-ms-high-contrast:active){.mat-bottom-sheet-container{outline:1px solid}}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"void, hidden",styles:{type:6,styles:{transform:"translateY(100%)"},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"visible => void, visible => hidden",animation:{type:4,styles:null,timings:"375ms cubic-bezier(0.4,0.0,1,1)"},options:null},{type:1,expr:"void => visible",animation:{type:4,styles:null,timings:"195ms cubic-bezier(0.0,0.0,0.2,1)"},options:null}],options:{}}]}});function og(t){return Js(0,[(t()(),Lr(0,null,null,0))],null,null)}function ag(t){return Js(2,[zs(402653184,1,{_portalOutlet:0}),(t()(),Lr(16777216,null,null,1,null,og)),xs(2,212992,[[1,4]],0,bl,[Qe,Hn],{portal:[0,"portal"]},null)],function(t,e){t(e,2,0,"")},null)}var lg=es("mat-bottom-sheet-container",Fm,function(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"mat-bottom-sheet-container",[["aria-modal","true"],["class","mat-bottom-sheet-container"],["role","dialog"],["tabindex","-1"]],[[1,"aria-label",0],[40,"@state",0]],[["component","@state.start"],["component","@state.done"]],function(t,e,n){var i=!0;return"component:@state.start"===e&&(i=!1!==ds(t,1)._onAnimationStart(n)&&i),"component:@state.done"===e&&(i=!1!==ds(t,1)._onAnimationDone(n)&&i),i},ag,sg)),xs(1,180224,null,0,Fm,[Pn,Wn,tg,Im,[2,bh],Lm],null,null)],null,function(t,e){t(e,0,0,null==ds(e,1).bottomSheetConfig?null:ds(e,1).bottomSheetConfig.ariaLabel,ds(e,1)._animationState)})},{},{},[]);const hg="accent",cg="primary",ug=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],dg=Wf(Hf(function(t){return class extends class{constructor(t){this._elementRef=t}}{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Tl(t)}}}()));class pg extends dg{constructor(t,e,n,i){super(t),this._platform=e,this._focusMonitor=n,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of ug)this._hasHostAttributes(r)&&t.nativeElement.classList.add(r);this._focusMonitor.monitor(this._elementRef.nativeElement,!0),this.isRoundButton?this.color=hg:this._hasHostAttributes("mat-flat-button")&&(this.color=cg)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef.nativeElement)}focus(){this._getHostElement().focus()}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}class fg{}function mg(){return"undefined"!=typeof process}function gg(t){switch(t.length){case 0:return new ym;case 1:return t[0];default:return new vm(t)}}function _g(t,e,n,i,r={},s={}){const o=[],a=[];let l=-1,h=null;if(i.forEach(t=>{const n=t.offset,i=n==l,c=i&&h||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,o),a){case bm:a=r[n];break;case fm:a=s[n];break;default:a=e.normalizeStyleValue(n,i,a,o)}c[i]=a}),i||a.push(c),h=c,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function yg(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&vg(n,"start",t)));break;case"done":t.onDone(()=>i(n&&vg(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&vg(n,"destroy",t)))}}function vg(t,e,n){const i=n.totalTime,r=bg(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,void 0==i?t.totalTime:i,!!n.disabled),s=t._data;return null!=s&&(r._data=s),r}function bg(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function wg(t,e,n){let i;return t instanceof Map?(i=t.get(e))||t.set(e,i=n):(i=t[e])||(i=t[e]=n),i}function Cg(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Eg=(t,e)=>!1,Sg=(t,e)=>!1,xg=(t,e,n)=>[];const Tg=mg();if(Tg||"undefined"!=typeof Element){if(Eg=((t,e)=>t.contains(e)),Tg||Element.prototype.matches)Sg=((t,e)=>t.matches(e));else{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;e&&(Sg=((t,n)=>e.apply(t,[n])))}xg=((t,e,n)=>{let i=[];if(n)i.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&i.push(n)}return i})}let kg=null,Og=!1;function Ig(t){kg||(kg=("undefined"!=typeof document?document.body:null)||{},Og=!!kg.style&&"WebkitAppearance"in kg.style);let e=!0;return kg.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in kg.style)&&Og&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in kg.style),e}const Ag=Sg,Rg=Eg,Dg=xg;function Pg(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}class Mg{}Mg.NOOP=new class{validateStyleProperty(t){return Ig(t)}matchesElement(t,e){return Ag(t,e)}containsElement(t,e){return Rg(t,e)}query(t,e,n){return Dg(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,s=[],o){return new ym(n,i)}};const Ng=1e3,Lg="{{",Fg="ng-enter",jg="ng-leave",Vg="ng-trigger",Bg=".ng-trigger",Ug="ng-animating",zg=".ng-animating";function Hg(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Wg(parseFloat(e[1]),e[2])}function Wg(t,e){switch(e){case"s":return t*Ng;default:return t}}function $g(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=Wg(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=Wg(Math.floor(parseFloat(o)),n[4]));const a=n[5];a&&(s=a)}else i=t;if(!n){let n=!1,s=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:s}}(t,e,n)}function qg(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Gg(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else qg(t,n);return n}function Yg(t,e,n){return n?e+":"+n+";":""}function Kg(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=Yg(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Yg(0,s_(n),t.style[n]));t.setAttribute("style",e)}function Qg(t,e){t.style&&(Object.keys(e).forEach(n=>{const i=r_(n);t.style[i]=e[n]}),mg()&&Kg(t))}function Xg(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=r_(e);t.style[n]=""}),mg()&&Kg(t))}function Zg(t){return Array.isArray(t)?1==t.length?t[0]:mm(t):t}const Jg=new RegExp(`${Lg}\\s*(.+?)\\s*}}`,"g");function t_(t){let e=[];if("string"==typeof t){const n=t.toString();let i;for(;i=Jg.exec(n);)e.push(i[1]);Jg.lastIndex=0}return e}function e_(t,e,n){const i=t.toString(),r=i.replace(Jg,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?t:r}function n_(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const i_=/-+([a-z0-9])/g;function r_(t){return t.replace(i_,(...t)=>t[1].toUpperCase())}function s_(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function o_(t,e){return 0===t||0===e}function a_(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var r=1;r<e.length;r++){let n=e[r];o.forEach(function(e){n[e]=h_(t,e)})}}return e}function l_(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function h_(t,e){return window.getComputedStyle(t)[e]}const c_="*",u_=new Set(["true","1"]),d_=new Set(["false","0"]);function p_(t,e){const n=u_.has(t)||d_.has(t),i=u_.has(e)||d_.has(e);return(r,s)=>{let o=t==c_||t==r,a=e==c_||e==s;return!o&&n&&"boolean"==typeof r&&(o=r?u_.has(t):d_.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?u_.has(e):d_.has(e)),o&&a}}const f_=":self",m_=new RegExp(`s*${f_}s*,?`,"g");function g_(t,e,n){return new y_(t).build(e,n)}const __="";class y_{constructor(t){this._driver=t}build(t,e){const n=new v_(e);return this._resetContextStyleTimingState(n),l_(this,Zg(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=__,t.collectedStyles={},t.collectedStyles[__]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,s.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(t=>{if(b_(t)){const e=t;Object.keys(e).forEach(t=>{t_(e[t]).forEach(t=>{s.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=n_(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=l_(this,Zg(t.animation),e);return{type:1,matchers:function(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>(function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(p_(r,o)),"<"!=s[0]||r==c_&&o==c_||e.push(p_(o,r))})(t,n,e)):n.push(t),n}(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:w_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>l_(this,t,e)),options:w_(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=l_(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:w_(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return C_($g(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=C_(0,0,"");return t.dynamic=!0,t.strValue=i,t}return C_((n=n||$g(i,e)).duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:gm({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,s=!1;if(!r){s=!0;const t={};n.easing&&(t.easing=n.easing),r=gm(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,e);o.isEmptyStep=s,i=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==fm?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(b_(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf(Lg)>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),e.options&&function(i,r,s){const o=e.options.params||{},a=t_(t[n]);a.length&&a.forEach(t=>{o.hasOwnProperty(t)||s.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(0,0,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(b_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(b_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),h=0;return null!=l&&(i++,h=n.offset=l),o=o||h<0||h>1,s=s||h<a,a=h,r.push(h),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const h=t.steps.length;let c=0;i>0&&i<h?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(c=1/(h-1));const u=h-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,i)=>{const s=c>0?i==u?1:c*i:r[i],o=s*f;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:l_(this,Zg(t.animation),e),options:w_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:w_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:w_(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>t==f_);return e&&(t=t.replace(m_,"")),[t=t.replace(/@\*/g,Bg).replace(/@\w+/g,t=>Bg+"-"+t.substr(1)).replace(/:animating/g,zg),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,wg(e.collectedStyles,e.currentQuerySelector,{});const o=l_(this,Zg(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:w_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:$g(t.timings,e.errors,!0);return{type:12,animation:l_(this,Zg(t.animation),e),timings:n,options:null}}}class v_{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function b_(t){return!Array.isArray(t)&&"object"==typeof t}function w_(t){return t?(t=qg(t)).params&&(t.params=function(t){return t?qg(t):null}(t.params)):t={},t}function C_(t,e,n){return{duration:t,delay:e,easing:n}}function E_(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class S_{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const x_=1,T_=new RegExp(":enter","g"),k_=new RegExp(":leave","g");function O_(t,e,n,i,r,s={},o={},a,l,h=[]){return(new I_).buildKeyframes(t,e,n,i,r,s,o,a,l,h)}class I_{buildKeyframes(t,e,n,i,r,s,o,a,l,h=[]){l=l||new S_;const c=new R_(t,e,l,i,r,h,[]);c.options=a,c.currentTimeline.setStyles([s],null,c.errors,a),l_(this,n,c);const u=c.timelines.filter(t=>t.containsAnimation());if(u.length&&Object.keys(o).length){const t=u[u.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,c.errors,a)}return u.length?u.map(t=>t.buildKeyframes()):[E_(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?Hg(n.duration):null,s=null!=n.delay?Hg(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),l_(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&((i=e.createSubContext(r)).transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=A_);const t=Hg(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>l_(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Hg(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),l_(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return $g(e.params?e_(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*r),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?Hg(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=A_);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{e.currentQueryIndex=i;const o=e.createSubContext(t.options,n);r&&o.delayNextStep(r),n===e.element&&(a=o.currentTimeline),l_(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const h=l.currentTime;l_(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-h+(i.startTime-n.currentTimeline.startTime)}}const A_={};class R_{constructor(t,e,n,i,r,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=A_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new D_(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=Hg(n.duration)),null!=n.delay&&(i.delay=Hg(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=e_(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new R_(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=A_,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new P_(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,s){let o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(T_,"."+this._enterClassName)).replace(k_,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return r||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class D_{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new D_(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=x_,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||fm,this._currentKeyframe[t]=fm}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},s=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e)).forEach(t=>{n[t]=fm}):Gg(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=e_(s[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:fm),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,s)=>{const o=Gg(r,!0);Object.keys(o).forEach(n=>{const i=o[n];i==bm?t.add(n):i==fm&&e.add(n)}),n||(o.offset=s/this.duration),i.push(o)});const r=t.size?n_(t.values()):[],s=e.size?n_(e.values()):[];if(n){const t=i[0],e=qg(t);t.offset=0,e.offset=1,i=[t,e]}return E_(this.element,i,r,s,this.duration,this.startTime,this.easing,!1)}}class P_ extends D_{constructor(t,e,n,i,r,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],s=n+e,o=e/s,a=Gg(t[0],!1);a.offset=0,r.push(a);const l=Gg(t[0],!1);l.offset=M_(o),r.push(l);const h=t.length-1;for(let i=1;i<=h;i++){let o=Gg(t[i],!1);o.offset=M_((e+o.offset*n)/s),r.push(o)}n=s,e=0,i="",t=r}return E_(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function M_(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class N_{}class L_ extends N_{normalizePropertyName(t,e){return r_(t)}normalizeStyleValue(t,e,n,i){let r="";const s=n.toString().trim();if(F_[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+r}}const F_=function(t){const e={};return"width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",").forEach(t=>e[t]=!0),e}();function j_(t,e,n,i,r,s,o,a,l,h,c,u,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:h,postStyleProps:c,totalTime:u,errors:d}}const V_={};class B_{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],s=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):s}build(t,e,n,i,r,s,o,a,l,h){const c=[],u=this.ast.options&&this.ast.options.params||V_,d=this.buildStyles(n,o&&o.params||V_,c),p=a&&a.params||V_,f=this.buildStyles(i,p,c),m=new Set,g=new Map,_=new Map,y="void"===i,v={params:Object.assign({},u,p)},b=h?[]:O_(t,e,this.ast.animation,r,s,d,f,v,l,c);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return j_(e,this._triggerName,n,i,y,d,f,[],[],g,_,w,c);b.forEach(t=>{const n=t.element,i=wg(g,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=wg(_,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&m.add(n)});const C=n_(m.values());return j_(e,this._triggerName,n,i,y,d,f,b,C,g,_,w)}}class U_{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=qg(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let s=r[t];s.length>1&&(s=e_(s,i,e)),n[t]=s})}}),n}}class z_{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new U_(t.style,t.options&&t.options.params||{})}),H_(this.states,"true","1"),H_(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new B_(t,e,this.states))}),this.fallbackTransition=function(e,n){return new B_(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},n)}(0,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function H_(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const W_=new S_;class $_{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=g_(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=_g(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let s;const o=new Map;if(r?(s=O_(this._driver,e,r,Fg,jg,{},{},n,W_,i)).forEach(t=>{const e=wg(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)}):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,fm)})});const a=gg(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const r=bg(e,"","","");return yg(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const q_="ng-animate-queued",G_=".ng-animate-queued",Y_="ng-animate-disabled",K_=".ng-animate-disabled",Q_="ng-star-inserted",X_=".ng-star-inserted",Z_=[],J_={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ty={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ey="__ng_removed";class ny{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(n?t.value:t),n){const e=qg(t);delete e.value,this.options=e}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const iy="void",ry=new ny(iy);class sy{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,py(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=n&&"done"!=n)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);const r=wg(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};r.push(s);const o=wg(this._engine.statesByElement,t,{});return o.hasOwnProperty(e)||(py(t,Vg),py(t,Vg+"-"+e),o[e]=ry),()=>{this._engine.afterFlush(()=>{const t=r.indexOf(s);t>=0&&r.splice(t,1),this._triggers[e]||delete o[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),s=new ay(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(py(t,Vg),py(t,Vg+"-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new ny(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=ry),l.value!==iy&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,l.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Xg(t,n),Qg(t,i)})}return}const h=wg(this._engine.playersByElement,t,[]);h.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=r.matchTransition(a.value,l.value,t,l.params),u=!1;if(!c){if(!i)return;c=r.fallbackTransition,u=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:l,player:s,isFallbackTransition:u}),u||(py(t,q_),s.onStart(()=>{fy(t,q_)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),h.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,Bg,!0).forEach(t=>{if(t[ey])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const s=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,iy,i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&gg(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,s=this._engine.statesByElement.get(t)[i]||ry,o=new ny(iy),a=new ay(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}this.prepareLeaveAnimationListeners(t),i?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){py(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(e=>{if(e.name==n.triggerName){const i=bg(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,yg(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(e=>e.element===t)||e}}class oy{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=((t,e)=>{})}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new sy(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(ly(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!ly(e))return;const r=e[ey];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),py(t,Y_)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),fy(t,Y_))}removeNode(t,e,n){if(!ly(e))return void this._onRemovalComplete(e,n);const i=t?this._fetchNamespace(t):null;i?i.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e[ey]={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return ly(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,Bg,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,zg,!0)).forEach(t=>this.finishActiveQueriedAnimationOnElement(t))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return gg(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ey];if(e&&e.setForRemoval){if(t[ey]=J_,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,K_)&&this.markElementAsDisabled(t,!1),this.driver.query(t,K_,!0).forEach(e=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)py(this.collectedEnterElements[n],Q_);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?gg(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new S_,i=[],r=new Map,s=[],o=new Map,a=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(t=>{h.add(t);const e=this.driver.query(t,G_,!0);for(let n=0;n<e.length;n++)h.add(e[n])});const c=this.bodyNode,u=Array.from(this.statesByElement.keys()),d=uy(u,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n=Fg+f++;p.set(e,n),t.forEach(t=>py(t,n))});const m=[],g=new Set,_=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t[ey];e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,X_,!0).forEach(t=>g.add(t)):_.add(t))}const y=new Map,v=uy(u,Array.from(g));v.forEach((t,e)=>{const n=jg+f++;y.set(e,n),t.forEach(t=>py(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>fy(t,n))}),v.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>fy(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(b.push(e),this.collectedEnterElements.length){const t=r[ey];if(t&&t.setForMove)return void e.destroy()}const h=!c||!this.driver.containsElement(c,r),u=y.get(r),d=p.get(r),f=this._buildInstruction(t,n,d,u,h);if(!f.errors||!f.errors.length)return h?(e.onStart(()=>Xg(r,f.fromStyles)),e.onDestroy(()=>Qg(r,f.toStyles)),void i.push(e)):t.isFallbackTransition?(e.onStart(()=>Xg(r,f.fromStyles)),e.onDestroy(()=>Qg(r,f.toStyles)),void i.push(e)):(f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,f.timelines),s.push({instruction:f,player:e,element:r}),f.queriedElements.forEach(t=>wg(o,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=l.get(e);i||l.set(e,i=new Set),n.forEach(t=>i.add(t))}));w.push(f)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{wg(C,e,[]).push(t),t.destroy()})});const S=m.filter(t=>gy(t,a,l)),x=new Map;cy(x,this.driver,_,l,fm).forEach(t=>{gy(t,a,l)&&S.push(t)});const T=new Map;d.forEach((t,e)=>{cy(T,this.driver,new Set(t),a,bm)}),S.forEach(t=>{const e=x.get(t),n=T.get(t);x.set(t,Object.assign({},e,n))});const k=[],O=[],I={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(h.has(e))return s.onDestroy(()=>Qg(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let t=I;if(E.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,C,r,T,x);if(s.setRealPlayer(n),t===I)k.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=gg(e)),i.push(s)}}else Xg(e,o.fromStyles),s.onDestroy(()=>Qg(e,o.toStyles)),O.push(s),h.has(e)&&i.push(s)}),O.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=gg(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t[ey];if(fy(t,jg),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,zg,!0);for(let t=0;t<i.length;t++){let e=o.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?my(this,t,i):this.processLeaveNode(t)}return m.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const i=e[ey];return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||r==iy;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&s.push(e)})}}return(n||i)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==i,l=wg(n,t,[]);this._getPreviousPlayers(t,a,r,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}Xg(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,s){const o=e.triggerName,a=e.element,l=[],h=new Set,c=new Set,u=e.timelines.map(e=>{const u=e.element;h.add(u);const d=u[ey];if(d&&d.removedBeforeQueried)return new ym(e.duration,e.delay);const p=u!==a,f=function(t){const e=[];return function t(e,n){for(let i=0;i<e.length;i++){const r=e[i];r instanceof vm?t(r.players,n):n.push(r)}}((n.get(u)||Z_).map(t=>t.getRealPlayer()),e),e}().filter(t=>!!t.element&&t.element===u),m=r.get(u),g=s.get(u),_=_g(0,this._normalizer,0,e.keyframes,m,g),y=this._buildPlayer(e,_,f);if(e.subTimeline&&i&&c.add(u),p){const e=new ay(t,o,u);e.setRealPlayer(y),l.push(e)}return y});l.forEach(t=>{wg(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>(function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e)){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e]){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i})(this.playersByQueriedElement,t.element,t))}),h.forEach(t=>py(t,Ug));const d=gg(u);return d.onDestroy(()=>{h.forEach(t=>fy(t,Ug)),Qg(a,e.toStyles)}),c.forEach(t=>{wg(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new ym(t.duration,t.delay)}}class ay{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new ym,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>yg(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){wg(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function ly(t){return t&&1===t.nodeType}function hy(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function cy(t,e,n,i,r){const s=[];n.forEach(t=>s.push(hy(t)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i[ey]=ty,o.push(i))}),t.set(i,s)});let a=0;return n.forEach(t=>hy(t,s[a++])),o}function uy(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=r.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:i.has(o)?1:t(o),r.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}const dy="$$classes";function py(t,e){if(t.classList)t.classList.add(e);else{let n=t[dy];n||(n=t[dy]={}),n[e]=!0}}function fy(t,e){if(t.classList)t.classList.remove(e);else{let n=t[dy];n&&delete n[e]}}function my(t,e,n){gg(n).onDone(()=>t.processLeaveNode(e))}function gy(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class _y{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=((t,e)=>{}),this._transitionEngine=new oy(t,e,n),this._timelineEngine=new $_(t,e,n),this._transitionEngine.onRemovalComplete=((t,e)=>this.onRemovalComplete(t,e))}registerTrigger(t,e,n,i,r){const s=t+"-"+i;let o=this._triggerCache[s];if(!o){const t=[],e=g_(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new z_(t,e)}(i,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,i,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=Cg(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=Cg(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}const yy=3,vy="animation",by="animationend",wy=1e3;class Cy{constructor(t,e,n,i,r,s,o){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=(t=>this._handleCallback(t))}apply(){!function(t,e){const n=Oy(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),ky(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ty(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Ey(this._element,this._name,"paused")}resume(){Ey(this._element,this._name,"running")}setPosition(t){const e=Sy(this._element,this._name);this._position=t*this._duration,ky(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=parseFloat(t.elapsedTime.toFixed(yy))*wy;t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ty(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Oy(t,"").split(","),i=xy(n,e);i>=0&&(n.splice(i,1),ky(t,"",n.join(",")))}(this._element,this._name))}}function Ey(t,e,n){ky(t,"PlayState",n,Sy(t,e))}function Sy(t,e){const n=Oy(t,"");return n.indexOf(",")>0?xy(n.split(","),e):xy([n],e)}function xy(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Ty(t,e,n){n?t.removeEventListener(by,e):t.addEventListener(by,e)}function ky(t,e,n,i){const r=vy+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function Oy(t,e){return t.style[vy+e]}const Iy="forwards",Ay="linear";class Ry{constructor(t,e,n,i,r,s,o){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||Ay,this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Cy(this.element,this.animationName,this._duration,this._delay,this.easing,Iy,()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:h_(this.element,n))})}this.currentSnapshot=t}}class Dy extends ym{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Pg(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}const Py="gen_css_kf_",My=" ";class Ny{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Ig(t)}matchesElement(t,e){return Ag(t,e)}containsElement(t,e){return Rg(t,e)}query(t,e,n){return Dg(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){let i=`@keyframes ${e} {\n`,r="";(n=n.map(t=>Pg(t))).forEach(t=>{r=My;const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=My,Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const s=document.createElement("style");return s.innerHTML=i,s}animate(t,e,n,i,r,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof Ry),l={};o_(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const h=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=a_(t,e,l));if(0==n)return new Dy(t,h);const c=`${Py}${this._count++}`,u=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(u);const d=new Ry(t,e,c,n,i,r,h);return d.onDestroy(()=>void u.parentNode.removeChild(u)),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Ly{constructor(t,e,n){this.element=t,this.keyframes=e,this.options=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:h_(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Fy{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(jy().toString()),this._cssKeyframesDriver=new Ny}validateStyleProperty(t){return Ig(t)}matchesElement(t,e){return Ag(t,e)}containsElement(t,e){return Rg(t,e)}query(t,e,n){return Dg(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,s);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const l={},h=s.filter(t=>t instanceof Ly);return o_(n,i)&&h.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])}),e=a_(t,e=e.map(t=>Gg(t,!1)),l),new Ly(t,e,a)}}function jy(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class Vy extends dm{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:ie.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?mm(t):t;return zy(this._renderer,null,e,"register",[n]),new By(e,this._renderer)}}class By extends pm{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Uy(this._id,t,e||{},this._renderer)}}class Uy{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return zy(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function zy(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const Hy="@",Wy="@.disabled";class $y{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=((t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)})}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new qy("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(r,t),e.data.animation.forEach(e=>this.engine.registerTrigger(i,r,t,e.name,e)),new Gy(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class qy{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t){return this.delegate.selectRootElement(t)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Hy&&e==Wy?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Gy extends qy{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Hy?"."==e.charAt(1)&&e==Wy?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Hy){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),s="";return r.charAt(0)!=Hy&&([r,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class Yy extends _y{constructor(t,e,n){super(t.body,e,n)}}function Ky(){return"function"==typeof jy()?new Fy:new Ny}function Qy(){return new L_}function Xy(t,e,n){return new $y(t,e,n)}const Zy=new lt("AnimationModuleType");class Jy{}var tv=lr({encapsulation:2,styles:[".mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{transition:none;opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:1}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-raised-button:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-raised-button[disabled]{box-shadow:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-flat-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-fab::-moz-focus-inner{border:0}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-fab[disabled]{box-shadow:none}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-mini-fab[disabled]{box-shadow:none}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-focus-overlay{background-color:rgba(0,0,0,.12);border-radius:inherit;opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media screen and (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:rgba(255,255,255,.5)}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media screen and (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function ev(t){return Js(2,[zs(402653184,1,{ripple:0}),(t()(),Fr(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),Gs(null,0),(t()(),Fr(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),xs(4,212992,[[1,4]],0,nm,[Pn,ln,kh,[2,em],[2,Zy]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),Fr(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())},function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,ds(e,4).unbounded)})}var nv=lr({encapsulation:2,styles:[],data:{}});function iv(t){return Js(0,[(t()(),Fr(0,0,null,null,2,"button",[["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.dismissSheet(n)&&i),i},ev,tv)),xs(1,180224,null,0,pg,[Pn,kh,rg,[2,Zy]],null,null),(t()(),Qs(-1,0,["Resources"]))],null,function(t,e){t(e,0,0,ds(e,1).disabled||null,"NoopAnimations"===ds(e,1)._animationMode)})}var rv=es("mbd-resources-content",am,function(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"mbd-resources-content",[],null,null,null,iv,nv)),xs(1,49152,null,0,am,[Vm],null,null)],null,null)},{},{},[]);function sv(t,e){return Y(t,e,1)}function ov(t){return function(e){return 0===t?xa():e.lift(new av(t))}}class av{constructor(t){if(this.total=t,this.total<0)throw new Ya}call(t,e){return e.subscribe(new lv(t,this.total))}}class lv extends y{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function hv(t,e){const n=arguments.length>=2;return i=>i.pipe(t?$a((e,n)=>t(e,n,i)):X,ov(1),n?Za(e):rl(()=>new Wa))}function cv(t,e){return n=>n.lift(new uv(t,e,n))}class uv{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new dv(t,this.predicate,this.thisArg,this.source))}}class dv extends y{constructor(t,e,n,i){super(t),this.predicate=e,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function pv(t){return function(e){const n=new fv(t),i=e.lift(n);return n.caught=i}}class fv{constructor(t){this.selector=t}call(t,e){return e.subscribe(new mv(t,this.selector,this.caught))}}class mv extends z{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle(),this.add(U(this,e))}}}class gv{constructor(t,e){this.id=t,this.url=e}}class _v extends gv{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yv extends gv{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vv extends gv{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bv extends gv{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wv extends gv{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cv extends gv{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ev extends gv{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sv extends gv{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xv extends gv{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tv{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kv{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ov{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Iv{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Av{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rv{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dv{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Pv{}const Mv="primary";class Nv{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Lv(t){return new Nv(t)}const Fv="ngNavigationCancelingError";function jv(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[s];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}class Vv{constructor(t,e){this.routes=t,this.module=e}}function Bv(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];Uv(i,zv(e,i))}}function Uv(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Mv)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Bv(t.children,e)}function zv(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Hv(t){const e=t.children&&t.children.map(Hv),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Mv&&(n.component=Pv),n}function Wv(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(t[r=n[s]]!==e[r])return!1;return!0}function $v(t){return Array.prototype.concat.apply([],t)}function qv(t){return t.length>0?t[t.length-1]:null}function Gv(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Yv(t){return t.pipe(Z(),cv(t=>!0===t))}function Kv(t){return Pe(t)?t:De(t)?G(Promise.resolve(t)):ka(t)}function Qv(t,e,n){return n?function(t,e){return Wv(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!tb(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,r){if(n.segments.length>r.length){return!!tb(n.segments.slice(0,r.length),r)&&!i.hasChildren()}if(n.segments.length===r.length){if(!tb(n.segments,r))return!1;for(const e in i.children){if(!n.children[e])return!1;if(!t(n.children[e],i.children[e]))return!1}return!0}{const t=r.slice(0,n.segments.length),s=r.slice(n.segments.length);return!!tb(n.segments,t)&&!!n.children[Mv]&&e(n.children[Mv],i,s)}}(e,n,n.segments)}(t.root,e.root)}class Xv{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lv(this.queryParams)),this._queryParamMap}toString(){return rb.serialize(this)}}class Zv{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Gv(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sb(this)}}class Jv{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Lv(this.parameters)),this._parameterMap}toString(){return ub(this)}}function tb(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function eb(t,e){let n=[];return Gv(t.children,(t,i)=>{i===Mv&&(n=n.concat(e(t,i)))}),Gv(t.children,(t,i)=>{i!==Mv&&(n=n.concat(e(t,i)))}),n}class nb{}class ib{parse(t){const e=new gb(t);return new Xv(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${`/${function t(e,n){if(!e.hasChildren())return sb(e);if(n){const n=e.children[Mv]?t(e.children[Mv],!1):"",i=[];return Gv(e.children,(e,n)=>{n!==Mv&&i.push(`${n}:${t(e,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=eb(e,(n,i)=>i===Mv?[t(e.children[Mv],!1)]:[`${i}:${t(n,!1)}`]);return`${sb(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${ab(e)}=${ab(t)}`).join("&"):`${ab(e)}=${ab(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${encodeURI(t.fragment)}`:""}`}}const rb=new ib;function sb(t){return t.segments.map(t=>ub(t)).join("/")}function ob(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ab(t){return ob(t).replace(/%3B/gi,";")}function lb(t){return ob(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hb(t){return decodeURIComponent(t)}function cb(t){return hb(t.replace(/\+/g,"%20"))}function ub(t){return`${lb(t.path)}${function(t){return Object.keys(t).map(e=>`;${lb(e)}=${lb(t[e])}`).join("")}(t.parameters)}`}const db=/^[^\/()?;=#]+/;function pb(t){const e=t.match(db);return e?e[0]:""}const fb=/^[^=?&#]+/,mb=/^[^?&#]+/;class gb{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zv([],{}):new Zv([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Mv]=new Zv(t,e)),n}parseSegment(){const t=pb(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Jv(hb(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=pb(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=pb(this.remaining);t&&this.capture(n=t)}t[hb(e)]=hb(n)}parseQueryParam(t){const e=function(t){const e=t.match(fb);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(mb);return e?e[0]:""}(this.remaining);t&&this.capture(n=t)}const i=cb(e),r=cb(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(t[i]=e=[e]),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=pb(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Mv);const s=this.parseChildren();e[r]=1===Object.keys(s).length?s[Mv]:new Zv([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class _b{constructor(t){this.segmentGroup=t||null}}class yb{constructor(t){this.urlTree=t}}function vb(t){return new S(e=>e.error(new _b(t)))}function bb(t){return new S(e=>e.error(new yb(t)))}function wb(t){return new S(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Cb{constructor(t,e,n,i,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(Je)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Mv).pipe(H(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(pv(t=>{if(t instanceof yb)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof _b)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Mv).pipe(H(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(pv(t=>{if(t instanceof _b)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new Zv([],{[Mv]:t}):t;return new Xv(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(H(t=>new Zv([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return ka({});const n=[],i=[],r={};return Gv(t,(t,s)=>{const o=e(s,t).pipe(H(t=>r[s]=t));s===Mv?n.push(o):i.push(o)}),ka.apply(null,n.concat(i)).pipe(Sm(),hv(),H(()=>r))}(n.children,(n,i)=>this.expandSegmentGroup(t,e,i,n))}expandSegment(t,e,n,i,r,s){return ka(...n).pipe(H(o=>this.expandSegmentAgainstRoute(t,e,n,o,i,r,s).pipe(pv(t=>{if(t instanceof _b)return ka(null);throw t}))),Sm(),sl(t=>!!t),pv((t,n)=>{if(t instanceof Wa||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,i,r))return ka(new Zv([],{}));throw new _b(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,i,r,s,o){return Tb(i)!==s?vb(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s):vb(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?bb(r):this.lineralizeSegments(n,r).pipe(Y(n=>{const r=new Zv(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:h}=Eb(e,i,r);if(!o)return vb(e);const c=this.applyRedirectCommands(a,i.redirectTo,h);return i.redirectTo.startsWith("/")?bb(c):this.lineralizeSegments(i,c).pipe(Y(i=>this.expandSegment(t,e,n,i.concat(r.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(H(t=>(n._loadedConfig=t,new Zv(i,{})))):ka(new Zv(i,{}));const{matched:r,consumedSegments:s,lastChild:o}=Eb(e,n,i);if(!r)return vb(e);const a=i.slice(o);return this.getChildConfig(t,n).pipe(Y(t=>{const n=t.module,i=t.routes,{segmentGroup:r,slicedSegments:o}=function(t,e,n,i){return n.length>0&&function(t,e,n){return i.some(n=>xb(t,e,n)&&Tb(n)!==Mv)}(t,n)?{segmentGroup:Sb(new Zv(e,function(t,e){const n={};n[Mv]=e;for(const i of t)""===i.path&&Tb(i)!==Mv&&(n[Tb(i)]=new Zv([],{}));return n}(i,new Zv(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return i.some(n=>xb(t,e,n))}(t,n)?{segmentGroup:Sb(new Zv(t.segments,function(t,e,n,i){const r={};for(const s of n)xb(t,e,s)&&!i[Tb(s)]&&(r[Tb(s)]=new Zv([],{}));return Object.assign({},i,r)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,i);return 0===o.length&&r.hasChildren()?this.expandChildren(n,i,r).pipe(H(t=>new Zv(s,t))):0===i.length&&0===o.length?ka(new Zv(s,{})):this.expandSegment(n,r,i,o,Mv,!0).pipe(H(t=>new Zv(s.concat(t.segments),t.children)))}))}getChildConfig(t,e){return e.children?ka(new Vv(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ka(e._loadedConfig):function(t,e){const n=e.canLoad;return n&&0!==n.length?Yv(G(n).pipe(H(n=>{const i=t.get(n);return Kv(i.canLoad?i.canLoad(e):i(e))}))):ka(!0)}(t.injector,e).pipe(Y(n=>n?this.configLoader.load(t.injector,e).pipe(H(t=>(e._loadedConfig=t,t))):function(t){return new S(e=>e.error(function(t){const e=Error("NavigationCancelingError: "+t);return e[Fv]=!0,e}(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):ka(new Vv([],t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return ka(n);if(i.numberOfChildren>1||!i.children[Mv])return wb(t.redirectTo);i=i.children[Mv]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new Xv(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Gv(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let s={};return Gv(e.children,(e,r)=>{s[r]=this.createSegmentGroup(t,e,n,i)}),new Zv(r,s)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function Eb(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(e.matcher||jv)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Sb(t){if(1===t.numberOfChildren&&t.children[Mv]){const e=t.children[Mv];return new Zv(t.segments.concat(e.segments),e.children)}return t}function xb(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Tb(t){return t.outlet||Mv}class kb{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ob(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Ob(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ib(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Ib(t,this._root).map(t=>t.value)}}function Ob(t,e){if(t===e.value)return e;for(const n of e.children){const e=Ob(t,n);if(e)return e}return null}function Ib(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Ib(t,n);if(i.length)return i.unshift(e),i}return[]}class Ab{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Rb(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Db extends kb{constructor(t,e){super(t),this.snapshot=e,jb(this,t)}toString(){return this.snapshot.toString()}}function Pb(t,e){const n=function(t,e){const n=new Lb([],{},{},"",{},Mv,e,null,t.root,-1,{});return new Fb("",new Ab(n,[]))}(t,e),i=new Sp([new Jv("",{})]),r=new Sp({}),s=new Sp({}),o=new Sp({}),a=new Sp(""),l=new Mb(i,r,o,a,s,Mv,e,n.root);return l.snapshot=n.root,new Db(new Ab(l,[]),n)}class Mb{constructor(t,e,n,i,r,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(H(t=>Lv(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(H(t=>Lv(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Nb(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Lb{constructor(t,e,n,i,r,s,o,a,l,h,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=h,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fb extends kb{constructor(t,e){super(e),this.url=t,jb(this,e)}toString(){return Vb(this._root)}}function jb(t,e){e.value._routerState=t,e.children.forEach(e=>jb(t,e))}function Vb(t){const e=t.children.length>0?` { ${t.children.map(Vb).join(", ")} } `:"";return`${t.value}${e}`}function Bb(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Wv(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Wv(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Wv(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Wv(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ub(t,e){return Wv(t.params,e.params)&&function(t,e){return tb(t,e)&&t.every((t,n)=>Wv(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Ub(t.parent,e.parent))}function zb(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Hb(t,e,n,i,r){let s={};return i&&Gv(i,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Xv(n.root===t?e:function t(e,n,i){const r={};return Gv(e.children,(e,s)=>{r[s]=e===n?i:t(e,n,i)}),new Zv(e.segments,r)}(n.root,t,e),s,r)}class Wb{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&zb(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(i&&i!==qv(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $b{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function qb(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Mv]:`${t}`}function Gb(t,e,n){if(t||(t=new Zv([],{})),0===t.segments.length&&t.hasChildren())return Yb(t,e,n);const i=function(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const e=t.segments[r],o=qb(n[i]),a=i<n.length-1?n[i+1]:null;if(r>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!Zb(o,a,e))return s;i+=2}else{if(!Zb(o,{},e))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new Zv(t.segments.slice(0,i.pathIndex),{});return e.children[Mv]=new Zv(t.segments.slice(i.pathIndex),t.children),Yb(e,0,r)}return i.match&&0===r.length?new Zv(t.segments,{}):i.match&&!t.hasChildren()?Kb(t,e,n):i.match?Yb(t,0,r):Kb(t,e,n)}function Yb(t,e,n){if(0===n.length)return new Zv(t.segments,{});{const i=function(t){return"object"!=typeof t[0]?{[Mv]:t}:void 0===t[0].outlets?{[Mv]:t}:t[0].outlets}(n),r={};return Gv(i,(n,i)=>{null!==n&&(r[i]=Gb(t.children[i],e,n))}),Gv(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new Zv(t.segments,r)}}function Kb(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){const t=Qb(n[r].outlets);return new Zv(i,t)}if(0===r&&zb(n[0])){i.push(new Jv(t.segments[e].path,n[0])),r++;continue}const s=qb(n[r]),o=r<n.length-1?n[r+1]:null;s&&o&&zb(o)?(i.push(new Jv(s,Xb(o))),r+=2):(i.push(new Jv(s,{})),r++)}return new Zv(i,{})}function Qb(t){const e={};return Gv(t,(t,n)=>{null!==t&&(e[n]=Kb(new Zv([],{}),0,t))}),e}function Xb(t){const e={};return Gv(t,(t,n)=>e[n]=`${t}`),e}function Zb(t,e,n){return t==n.path&&Wv(e,n.parameters)}class Jb{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class tw{constructor(t,e){this.component=t,this.route=e}}class ew{constructor(t,e,n,i){this.future=t,this.curr=e,this.moduleInjector=n,this.forwardEvent=i,this.canActivateChecks=[],this.canDeactivateChecks=[]}initialize(t){const e=this.future._root;this.setupChildRouteGuards(e,this.curr?this.curr._root:null,t,[e.value])}checkGuards(){return this.isDeactivating()||this.isActivating()?this.runCanDeactivateChecks().pipe(Y(t=>t?this.runCanActivateChecks():ka(!1))):ka(!0)}resolveData(t){return this.isActivating()?G(this.canActivateChecks).pipe(sv(e=>this.runResolve(e.route,t)),function(t,e){return arguments.length>=2?function(n){return C(au(t,e),ov(1),Za(e))(n)}:function(e){return C(au((e,n,i)=>t(e,n,i+1)),ov(1))(e)}}((t,e)=>t)):ka(null)}isDeactivating(){return 0!==this.canDeactivateChecks.length}isActivating(){return 0!==this.canActivateChecks.length}setupChildRouteGuards(t,e,n,i){const r=Rb(e);t.children.forEach(t=>{this.setupRouteGuards(t,r[t.value.outlet],n,i.concat([t.value])),delete r[t.value.outlet]}),Gv(r,(t,e)=>this.deactivateRouteAndItsChildren(t,n.getContext(e)))}setupRouteGuards(t,e,n,i){const r=t.value,s=e?e.value:null,o=n?n.getContext(t.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){const a=this.shouldRunGuardsAndResolvers(s,r,r.routeConfig.runGuardsAndResolvers);a?this.canActivateChecks.push(new Jb(i)):(r.data=s.data,r._resolvedData=s._resolvedData),this.setupChildRouteGuards(t,e,r.component?o?o.children:null:n,i),a&&this.canDeactivateChecks.push(new tw(o.outlet.component,s))}else s&&this.deactivateRouteAndItsChildren(e,o),this.canActivateChecks.push(new Jb(i)),this.setupChildRouteGuards(t,null,r.component?o?o.children:null:n,i)}shouldRunGuardsAndResolvers(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!Ub(t,e)||!Wv(t.queryParams,e.queryParams);case"paramsChange":default:return!Ub(t,e)}}deactivateRouteAndItsChildren(t,e){const n=Rb(t),i=t.value;Gv(n,(t,n)=>{this.deactivateRouteAndItsChildren(t,i.component?e?e.children.getContext(n):null:e)}),this.canDeactivateChecks.push(new tw(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}runCanDeactivateChecks(){return G(this.canDeactivateChecks).pipe(Y(t=>this.runCanDeactivate(t.component,t.route)),cv(t=>!0===t))}runCanActivateChecks(){return G(this.canActivateChecks).pipe(sv(t=>Yv(G([this.fireChildActivationStart(t.route.parent),this.fireActivationStart(t.route),this.runCanActivateChild(t.path),this.runCanActivate(t.route)]))),cv(t=>!0===t))}fireActivationStart(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new Av(t)),ka(!0)}fireChildActivationStart(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new Ov(t)),ka(!0)}runCanActivate(t){const e=t.routeConfig?t.routeConfig.canActivate:null;return e&&0!==e.length?Yv(G(e).pipe(H(e=>{const n=this.getToken(e,t);let i;return(i=Kv(n.canActivate?n.canActivate(t,this.future):n(t,this.future))).pipe(sl())}))):ka(!0)}runCanActivateChild(t){const e=t[t.length-1];return Yv(G(t.slice(0,t.length-1).reverse().map(t=>this.extractCanActivateChild(t)).filter(t=>null!==t)).pipe(H(t=>Yv(G(t.guards).pipe(H(n=>{const i=this.getToken(n,t.node);let r;return(r=Kv(i.canActivateChild?i.canActivateChild(e,this.future):i(e,this.future))).pipe(sl())}))))))}extractCanActivateChild(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}runCanDeactivate(t,e){const n=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return n&&0!==n.length?G(n).pipe(Y(n=>{const i=this.getToken(n,e);let r;return(r=Kv(i.canDeactivate?i.canDeactivate(t,e,this.curr,this.future):i(t,e,this.curr,this.future))).pipe(sl())})).pipe(cv(t=>!0===t)):ka(!0)}runResolve(t,e){return this.resolveNode(t._resolve,t).pipe(H(n=>(t._resolvedData=n,t.data=Object.assign({},t.data,Nb(t,e).resolve),null)))}resolveNode(t,e){const n=Object.keys(t);if(0===n.length)return ka({});if(1===n.length){const i=n[0];return this.getResolver(t[i],e).pipe(H(t=>({[i]:t})))}const i={};return G(n).pipe(Y(n=>this.getResolver(t[n],e).pipe(H(t=>(i[n]=t,t))))).pipe(hv(),H(()=>i))}getResolver(t,e){const n=this.getToken(t,e);return Kv(n.resolve?n.resolve(e,this.future):n(e,this.future))}getToken(t,e){const n=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(n?n.module.injector:this.moduleInjector).get(t)}}class nw{}class iw{constructor(t,e,n,i,r,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){try{const t=ow(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Mv),n=new Lb([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Mv,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ab(n,e),r=new Fb(this.url,i);return this.inheritParamsAndData(r._root),ka(r)}catch(t){return new S(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Nb(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=eb(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};n.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),i=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${i}'.`)}e[t.value.outlet]=t.value})}(),n.sort((t,e)=>t.value.outlet===Mv?-1:e.value.outlet===Mv?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,i){for(const r of t)try{return this.processSegmentAgainstRoute(r,e,n,i)}catch(t){if(!(t instanceof nw))throw t}if(this.noLeftoversInUrl(e,n,i))return[];throw new nw}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo)throw new nw;if((t.outlet||Mv)!==i)throw new nw;let r,s=[],o=[];if("**"===t.path){const s=n.length>0?qv(n).parameters:{};r=new Lb(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hw(t),i,t.component,t,rw(e),sw(e)+n.length,cw(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new nw;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(e.matcher||jv)(n,t,e);if(!i)throw new nw;const r={};Gv(i.posParams,(t,e)=>{r[e]=t.path});const s=i.consumed.length>0?Object.assign({},r,i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),r=new Lb(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hw(t),i,t.component,t,rw(e),sw(e)+s.length,cw(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:h}=ow(e,s,o,a,this.relativeLinkResolution);if(0===h.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new Ab(r,t)]}if(0===a.length&&0===h.length)return[new Ab(r,[])];const c=this.processSegment(a,l,h,Mv);return[new Ab(r,c)]}}function rw(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function sw(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ow(t,e,n,i,r){if(n.length>0&&function(t,e,n){return i.some(n=>aw(t,e,n)&&lw(n)!==Mv)}(t,n)){const r=new Zv(e,function(t,e,n,i){const r={};r[Mv]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&lw(s)!==Mv){const n=new Zv([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[lw(s)]=n}return r}(t,e,i,new Zv(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return i.some(n=>aw(t,e,n))}(t,n)){const s=new Zv(t.segments,function(t,e,n,i,r,s){const o={};for(const a of i)if(aw(t,n,a)&&!r[lw(a)]){const n=new Zv([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[lw(a)]=n}return Object.assign({},r,o)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Zv(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function aw(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function lw(t){return t.outlet||Mv}function hw(t){return t.data||{}}function cw(t){return t.resolve||{}}class uw{}class dw{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const pw=new lt("ROUTES");class fw{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(H(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Vv($v(i.injector.get(pw)).map(Hv),i)}))}loadModuleFactory(t){return"string"==typeof t?G(this.loader.load(t)):Kv(t()).pipe(Y(t=>t instanceof tn?ka(t):G(this.compiler.compileModuleAsync(t))))}}class mw{}class gw{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function _w(t){throw t}function yw(t,e,n){return e.parse("/")}function vw(t,e){return ka(null)}class bw{constructor(t,e,n,i,r,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.navigations=new Sp(null),this.navigationId=0,this.events=new I,this.errorHandler=_w,this.malformedUriErrorHandler=yw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:vw,afterPreactivation:vw},this.urlHandlingStrategy=new gw,this.routeReuseStrategy=new dw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(Je),this.resetConfig(a),this.currentUrlTree=new Xv(new Zv([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new fw(s,o,t=>this.triggerEvent(new Tv(t)),t=>this.triggerEvent(new kv(t))),this.routerState=Pb(this.currentUrlTree,this.rootComponentType),this.processNavigations()}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?{navigationId:t.state.navigationId}:null;setTimeout(()=>{this.scheduleNavigation(e,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}triggerEvent(t){this.events.next(t)}resetConfig(t){Bv(t),this.config=t.map(Hv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=e;Cn()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,h=a?this.currentUrlTree.fragment:r;let c=null;if(o)switch(o){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}else c=s?this.currentUrlTree.queryParams:i||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,i,r){if(0===n.length)return Hb(e.root,e.root,e,i,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Wb(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return Gv(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new Wb(n,e,i)}(n);if(s.toRoot())return Hb(e.root,new Zv([],{}),e,i,r);const o=function(t,n,i){if(t.isAbsolute)return new $b(e.root,!0,0);if(-1===i.snapshot._lastPathIndex)return new $b(i.snapshot._urlSegment,!0,0);const r=zb(t.commands[0])?0:1;return function(e,n,s){let o=i.snapshot._urlSegment,a=i.snapshot._lastPathIndex+r,l=t.numberOfDoubleDots;for(;l>a;){if(l-=a,!(o=o.parent))throw new Error("Invalid number of '../'");a=o.segments.length}return new $b(o,!1,a-l)}()}(s,0,t),a=o.processChildren?Yb(o.segmentGroup,o.index,s.commands):Gb(o.segmentGroup,o.index,s.commands);return Hb(o.segmentGroup,a,e,i,r)}(l,this.currentUrlTree,t,c,h)}navigateByUrl(t,e={skipLocationChange:!1}){const n=t instanceof Xv?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(t instanceof Xv)return Qv(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Qv(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!==i&&void 0!==i&&(e[n]=i),e},{})}processNavigations(){this.navigations.pipe(sv(t=>t?(this.executeScheduledNavigation(t),t.promise.catch(()=>{})):ka(null))).subscribe(()=>{})}scheduleNavigation(t,e,n,i){const r=this.navigations.value;if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"popstate"==e&&"hashchange"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s=null,o=null;const a=new Promise((t,e)=>{s=t,o=e}),l=++this.navigationId;return this.navigations.next({id:l,source:e,state:n,rawUrl:t,extras:i,resolve:s,reject:o,promise:a}),a.catch(t=>Promise.reject(t))}executeScheduledNavigation({id:t,rawUrl:e,extras:n,resolve:i,reject:r,source:s,state:o}){const a=this.urlHandlingStrategy.extract(e),l=!this.navigated||a.toString()!==this.currentUrlTree.toString();("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(e)?("eager"!==this.urlUpdateStrategy||n.skipLocationChange||this.setBrowserUrl(e,!!n.replaceUrl,t),this.events.next(new _v(t,this.serializeUrl(a),s,o)),Promise.resolve().then(i=>this.runNavigate(a,e,!!n.skipLocationChange,!!n.replaceUrl,t,null)).then(i,r)):l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new _v(t,this.serializeUrl(a),s,o)),Promise.resolve().then(n=>this.runNavigate(a,e,!1,!1,t,Pb(a,this.rootComponentType).snapshot)).then(i,r)):(this.rawUrlTree=e,i(null))}runNavigate(t,e,n,i,r,s){return r!==this.navigationId?(this.events.next(new vv(r,this.serializeUrl(t),`Navigation ID ${r} is not equal to the current navigation id ${this.navigationId}`)),Promise.resolve(!1)):new Promise((o,a)=>{let l,h;const c=(l=s?ka({appliedUrl:t,snapshot:s}):function(e,n,i,r,s){return new Cb(e,n,i,t,s).apply()}(this.ngModule.injector,this.configLoader,this.urlSerializer,0,this.config).pipe(Y(e=>(function(t,e,n,i,r="emptyOnly",s="legacy"){return new iw(t,e,n,i,r,s).recognize()})(this.rootComponentType,this.config,e,this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution).pipe(H(n=>(this.events.next(new wv(r,this.serializeUrl(t),this.serializeUrl(e),n)),{appliedUrl:e,snapshot:n})))))).pipe(Y(s=>"boolean"==typeof s?ka(s):this.hooks.beforePreactivation(s.snapshot,{navigationId:r,appliedUrlTree:t,rawUrlTree:e,skipLocationChange:n,replaceUrl:i}).pipe(H(()=>s)))).pipe(H(t=>{if("boolean"==typeof t)return t;const{appliedUrl:e,snapshot:n}=t;return(h=new ew(n,this.routerState.snapshot,this.ngModule.injector,t=>this.triggerEvent(t))).initialize(this.rootContexts),{appliedUrl:e,snapshot:n}})).pipe(Y(e=>{if("boolean"==typeof e||this.navigationId!==r)return ka(!1);const{appliedUrl:n,snapshot:i}=e;return this.triggerEvent(new Cv(r,this.serializeUrl(t),this.serializeUrl(n),i)),h.checkGuards().pipe(H(e=>(this.triggerEvent(new Ev(r,this.serializeUrl(t),this.serializeUrl(n),i,e)),{appliedUrl:n,snapshot:i,shouldActivate:e})))})).pipe(Y(e=>"boolean"==typeof e||this.navigationId!==r?ka(!1):e.shouldActivate&&h.isActivating()?(this.triggerEvent(new Sv(r,this.serializeUrl(t),this.serializeUrl(e.appliedUrl),e.snapshot)),h.resolveData(this.paramsInheritanceStrategy).pipe(H(()=>(this.triggerEvent(new xv(r,this.serializeUrl(t),this.serializeUrl(e.appliedUrl),e.snapshot)),e)))):ka(e))).pipe(Y(s=>"boolean"==typeof s||this.navigationId!==r?ka(!1):this.hooks.afterPreactivation(s.snapshot,{navigationId:r,appliedUrlTree:t,rawUrlTree:e,skipLocationChange:n,replaceUrl:i}).pipe(H(()=>s)))).pipe(H(t=>{if("boolean"==typeof t||this.navigationId!==r)return!1;const{appliedUrl:e,snapshot:n,shouldActivate:i}=t;return i?{appliedUrl:e,state:function(t,e,n){const i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){const r=i.value;r._futureSnapshot=n.value;const s=function(e,n,i){return n.children.map(n=>{for(const r of i.children)if(e.shouldReuseRoute(r.value.snapshot,n.value))return t(e,n,r);return t(e,n)})}(e,n,i);return new Ab(r,s)}{const i=e.retrieve(n.value);if(i){const t=i.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,t),t}{const i=function(t){return new Mb(new Sp(t.url),new Sp(t.params),new Sp(t.queryParams),new Sp(t.fragment),new Sp(t.data),t.outlet,t.component,t)}(n.value),r=n.children.map(n=>t(e,n));return new Ab(i,r)}}}(t,e._root,n?n._root:void 0);return new Db(i,e)}(this.routeReuseStrategy,n,this.routerState),shouldActivate:i}:{appliedUrl:e,state:null,shouldActivate:i}}));this.activateRoutes(c,this.routerState,this.currentUrlTree,r,t,e,n,i,o,a)})}activateRoutes(t,e,n,i,r,s,o,a,l,h){let c;t.forEach(t=>{if("boolean"==typeof t||!t.shouldActivate||i!==this.navigationId||!t.state)return void(c=!1);const{appliedUrl:n,state:r}=t;this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,s),this.routerState=r,"deferred"!==this.urlUpdateStrategy||o||this.setBrowserUrl(this.rawUrlTree,a,i),new ww(this.routeReuseStrategy,r,e,t=>this.triggerEvent(t)).activate(this.rootContexts),c=!0}).then(()=>{c?(this.navigated=!0,this.lastSuccessfulId=i,this.events.next(new yv(i,this.serializeUrl(r),this.serializeUrl(this.currentUrlTree))),l(!0)):(this.resetUrlToCurrentUrlTree(),this.events.next(new vv(i,this.serializeUrl(r),"")),l(!1))},t=>{if(t&&t[Fv])this.navigated=!0,this.resetStateAndUrl(e,n,s),this.events.next(new vv(i,this.serializeUrl(r),t.message)),l(!1);else{this.resetStateAndUrl(e,n,s),this.events.next(new bv(i,this.serializeUrl(r),t));try{l(this.errorHandler(t))}catch(t){h(t)}}})}setBrowserUrl(t,e,n){const i=this.urlSerializer.serialize(t);this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",{navigationId:n}):this.location.go(i,"",{navigationId:n})}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class ww{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Bb(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=Rb(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),Gv(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const i=Rb(t),r=t.value.component?n.children:e;Gv(i,(t,e)=>this.deactivateRouteAndItsChildren(t,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const i=Rb(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new Rv(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Iv(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(Bb(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Cw(t.route)}else{const n=function(t){for(let e=i.snapshot.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(),r=n?n.module.componentFactoryResolver:null;e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Cw(t){Bb(t.value),t.children.forEach(Cw)}class Ew{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Sw,this.attachRef=null}}class Sw{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Ew,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class xw{constructor(t,e,n,i,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new an,this.deactivateEvents=new an,this.name=i||Mv,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new Tw(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class Tw{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Mb?this.route:t===Sw?this.childContexts:this.parent.get(t,e)}}class kw{}class Ow{preload(t,e){return e().pipe(pv(()=>ka(null)))}}class Iw{preload(t,e){return ka(null)}}class Aw{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new fw(e,n,e=>t.triggerEvent(new Tv(e)),e=>t.triggerEvent(new kv(e)))}setUpPreloading(){this.subscription=this.router.events.pipe($a(t=>t instanceof yv),sv(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Je);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return G(n).pipe(Z(),H(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Y(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class Rw{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={}}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _v?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof yv&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Dv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Dv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Dw=new lt("ROUTER_CONFIGURATION"),Pw=new lt("ROUTER_FORROOT_GUARD"),Mw=[Ml,{provide:nb,useClass:ib},{provide:bw,useFactory:Uw,deps:[On,nb,Sw,Ml,jt,Mn,We,pw,Dw,[mw,new Rt],[uw,new Rt]]},Sw,{provide:Mb,useFactory:zw,deps:[bw]},{provide:Mn,useClass:Bn},Aw,Iw,Ow,{provide:Dw,useValue:{enableTracing:!1}}];function Nw(){return new En("Router",bw)}class Lw{constructor(t,e){}static forRoot(t,e){return{ngModule:Lw,providers:[Mw,Bw(t),{provide:Pw,useFactory:Vw,deps:[[bw,new Rt,new Pt]]},{provide:Dw,useValue:e||{}},{provide:Dl,useFactory:jw,deps:[Al,[new At(Pl),new Rt],Dw]},{provide:Rw,useFactory:Fw,deps:[bw,xh,Dw]},{provide:kw,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:Iw},{provide:En,multi:!0,useFactory:Nw},[Hw,{provide:Me,multi:!0,useFactory:Ww,deps:[Hw]},{provide:qw,useFactory:$w,deps:[Hw]},{provide:Ue,multi:!0,useExisting:qw}]]}}static forChild(t){return{ngModule:Lw,providers:[Bw(t)]}}}function Fw(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Rw(t,e,n)}function jw(t,e,n={}){return n.useHash?new Ll(t,e):new Fl(t,e)}function Vw(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Bw(t){return[{provide:ut,multi:!0,useValue:t},{provide:pw,multi:!0,useValue:t}]}function Uw(t,e,n,i,r,s,o,a,l={},h,c){const u=new bw(null,e,n,i,r,s,o,$v(a));if(h&&(u.urlHandlingStrategy=h),c&&(u.routeReuseStrategy=c),l.errorHandler&&(u.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(u.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const t=kp();u.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l.onSameUrlNavigation&&(u.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(u.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(u.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(u.relativeLinkResolution=l.relativeLinkResolution),u}function zw(t){return t.routerState.root}class Hw{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new I}appInitializer(){return this.injector.get(Rl,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(bw),i=this.injector.get(Dw);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=(()=>this.initNavigation?ka(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone)),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Dw),n=this.injector.get(Aw),i=this.injector.get(Rw),r=this.injector.get(bw),s=this.injector.get(On);t===s.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function Ww(t){return t.appInitializer.bind(t)}function $w(t){return t.bootstrapListener.bind(t)}const qw=new lt("Router Initializer");var Gw=lr({encapsulation:2,styles:[],data:{}});function Yw(t){return Js(0,[(t()(),Fr(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),xs(1,212992,null,0,xw,[Sw,Hn,Qe,[8,null],Wn],null,null)],function(t,e){t(e,1,0)},null)}var Kw=es("ng-component",Pv,function(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"ng-component",[],null,null,null,Yw,Gw)),xs(1,49152,null,0,Pv,[],null,null)],null,null)},{},{},[]),Qw=lr({encapsulation:2,styles:[],data:{}});function Xw(t){return Js(0,[(t()(),Fr(0,0,null,null,2,"button",[["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.addCard()&&i),i},ev,tv)),xs(1,180224,null,0,pg,[Pn,kh,rg,[2,Zy]],null,null),(t()(),Qs(-1,0,["+"]))],null,function(t,e){t(e,0,0,ds(e,1).disabled||null,"NoopAnimations"===ds(e,1)._animationMode)})}function Zw(t){return Js(0,[(t()(),Fr(0,0,null,null,2,"button",[["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.removeCard()&&i),i},ev,tv)),xs(1,180224,null,0,pg,[Pn,kh,rg,[2,Zy]],null,null),(t()(),Qs(-1,0,["-"]))],null,function(t,e){t(e,0,0,ds(e,1).disabled||null,"NoopAnimations"===ds(e,1)._animationMode)})}function Jw(t){return Js(0,[(t()(),Fr(0,0,null,null,2,"button",[["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.previousCard()&&i),i},ev,tv)),xs(1,180224,null,0,pg,[Pn,kh,rg,[2,Zy]],{disabled:[0,"disabled"]},null),(t()(),Qs(-1,0,["<"])),(t()(),Fr(3,0,null,null,2,"button",[["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.nextCard()&&i),i},ev,tv)),xs(4,180224,null,0,pg,[Pn,kh,rg,[2,Zy]],{disabled:[0,"disabled"]},null),(t()(),Qs(-1,0,[">"])),(t()(),Lr(16777216,null,null,1,null,Xw)),xs(7,16384,null,0,Kl,[Hn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Lr(16777216,null,null,1,null,Zw)),xs(9,16384,null,0,Kl,[Hn,zn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,!n.hasPreviousCard()),t(e,4,0,!n.hasNextCard()),t(e,7,0,n.canAddCard()),t(e,9,0,n.canRemoveCard())},function(t,e){t(e,0,0,ds(e,1).disabled||null,"NoopAnimations"===ds(e,1)._animationMode),t(e,3,0,ds(e,4).disabled||null,"NoopAnimations"===ds(e,4)._animationMode)})}var tC=es("mbd-stack-controls",wp,function(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"mbd-stack-controls",[],null,null,null,Jw,Qw)),xs(1,49152,null,0,wp,[],null,null)],null,null)},{},{},[]);class eC extends xl{}var nC=lr({encapsulation:2,styles:[],data:{}});function iC(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Qs(-1,null,["Amp Content"]))],null,null)}var rC=es("mbd-amp-content",eC,function(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"mbd-amp-content",[],null,null,null,iC,nC)),xs(1,49152,null,0,eC,[],null,null)],null,null)},{},{},[]);const sC=!1;class oC{constructor(){this.availableSubject=new ja(1),this.available=this.availableSubject.asObservable()}setElement(t){sC&&console.log("AbstractMedia.setElement",t),this.resetMediaElement(),t&&(this.mediaElement=t?this.prepareMediaElement(t.nativeElement):null)}prepareMediaElement(t){return sC&&console.log("AbstractMedia.prepareMediaElement",t),this.stream?(t.srcObject=this.stream,this.prepareToLoad(t)):this.url&&(t.src=this.url,this.prepareToLoad(t)),t}prepareToLoad(t){sC&&console.log("AbstractMedia.prepareToLoad",{mediaElement:t,hasLoaded:this.hasLoaded()}),this.hasLoaded()?this.availableSubject.next(!0):(this.loadDataListener=(e=>{this.stream=this.mediaElement.srcObject,sC&&console.log("AbstractMedia.prepareToLoad - loadDataListener",{event:e,mediaElement:t,stream:this.stream}),this.availableSubject.next(!0)}),t.addEventListener("loadeddata",this.loadDataListener))}resetMediaElement(){sC&&console.log("AbstractMedia.resetMediaElement",{mediaElement:this.mediaElement,loadDataListener:this.loadDataListener}),this.mediaElement&&(this.loadDataListener&&(this.mediaElement.removeEventListener("loadeddata",this.loadDataListener),this.loadDataListener=null),this.mediaElement.srcObject=null,this.mediaElement.src="")}initFromStream(t){return sC&&console.log("AbstractMedia.initFromStream",t),this.mediaElement&&(this.mediaElement.srcObject=t,this.prepareToLoad(this.mediaElement)),this.stream=t,new Promise((t,e)=>{this.stream?this.available.pipe($a(t=>t),sl()).subscribe(()=>{t()},t=>{e(t)}):t()})}initFromUrl(t){return sC&&console.log("AbstractMedia.initFromUrl",t),this.mediaElement&&(this.mediaElement.src=t,this.prepareToLoad(this.mediaElement)),this.url=t,new Promise((t,e)=>{""===this.url?t():this.available.pipe($a(t=>t),sl()).subscribe(()=>{t()},t=>{e(t)})})}stop(){sC&&console.log("AbstractMedia.stop",this.stream),this.stream&&(this.stream.getTracks().forEach(t=>{t.stop()}),this.stream=null,this.url=null),this.resetMediaElement(),this.availableSubject.next(!1)}set enabled(t){if(!this.stream)throw new Error("MediaStream.set enabled - stream not set");this.stream.getTracks().map(e=>{e.enabled=t})}get enabled(){if(!this.stream)return!1;const t=this.stream.getTracks();return 0!==t.length&&(t.map(t=>{if(t.enabled)return!1}),!0)}hasLoaded(){return this.mediaElement&&this.mediaElement.readyState>=2}setCurrentTime(t){this.mediaElement.currentTime=t}getCurrentTime(){return this.mediaElement.currentTime}seekTo(t){this.mediaElement.currentTime=t}getDuration(){return this.mediaElement.duration}play(){return this.mediaElement.play()}pause(){this.mediaElement.pause()}mute(){this.mediaElement.muted=!0}unMute(){this.mediaElement.muted=!1}isMuted(){return this.mediaElement.muted}setVolume(t){this.mediaElement.volume=t}requestFullscreen(){this.mediaElement.requestFullscreen?this.mediaElement.requestFullscreen():this.mediaElement.webkitRequestFullscreen&&this.mediaElement.webkitRequestFullscreen()}exitFullscreen(){const t=this.mediaElement.ownerDocument;t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen&&t.webkitExitFullscreen()}setPlayingEventListener(t,e){e?(this.mediaElement.addEventListener("seeked",t,!0),this.mediaElement.addEventListener("playing",t,!0)):(this.mediaElement.removeEventListener("seeked",t,!0),this.mediaElement.removeEventListener("playing",t,!0))}}class aC extends oC{}class lC{prepareMedia(t){t.setElement(this.mediaElementRef)}getMediaElement(){return this.mediaElementRef?this.mediaElementRef.nativeElement:void 0}}class hC extends lC{}class cC extends aC{}class uC extends hC{ngOnInit(){this.video&&this.prepareMedia(this.video)}}var dC=lr({encapsulation:0,styles:[".mbd-player-video[_ngcontent-%COMP%] {\n        position: relative;\n      }\n      img[_ngcontent-%COMP%] {\n        z-index: 1;\n      }\n      div[_ngcontent-%COMP%] {\n        position: absolute;\n        left: 0%;\n        right: 0%;\n        bottom: 0px;\n        padding: 0px;\n      }\n      div.label[_ngcontent-%COMP%] {\n        z-index: 3;\n        bottom: 150px;\n        left: 70px;\n        width: 460px;\n        height: 100px;\n        color: white;\n        font-size: 120%;\n      }\n      div.mbd-media-overlay[_ngcontent-%COMP%] {\n        height: 540px;\n        background: linear-gradient(\n          to top,\n          rgba(0, 0, 0, 0.9),\n          rgba(0, 0, 0, 0) 72%,\n          rgba(0, 0, 0, 0) 100%\n        );\n        z-index: 0;\n        position: absolute;\n      }\n      .mbd-thumb-image[_ngcontent-%COMP%] {\n        width: 100%;\n        height: 100%;\n      }\n      .mbd-video-element[_ngcontent-%COMP%] {\n        width: 100%;\n        height: 100%;\n        background-color: #000;\n      }"],data:{}});function pC(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"div",[["class","label"]],null,null,null,null,null)),(t()(),Qs(1,null,[" "," "]))],null,function(t,e){t(e,1,0,e.component.video.stateMessage)})}function fC(t){return Js(0,[(t()(),Fr(0,0,null,null,0,"div",[["class","mbd-media-overlay"]],null,null,null,null,null))],null,null)}function mC(t){return Js(0,[zs(402653184,1,{mediaElementRef:0}),(t()(),Fr(1,0,null,null,6,"div",[["class","mbd-player-video"]],null,null,null,null,null)),(t()(),Lr(16777216,null,null,1,null,pC)),xs(3,16384,null,0,Kl,[Hn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Fr(4,0,null,null,0,"img",[["class","mbd-thumb-image"]],[[4,"display",null],[8,"src",4]],null,null,null,null)),(t()(),Lr(16777216,null,null,1,null,fC)),xs(6,16384,null,0,Kl,[Hn,zn],{ngIf:[0,"ngIf"]},null),(t()(),Fr(7,0,[[1,0],["mediaElement",1]],null,0,"video",[["class","mbd-video-element"]],[[4,"display",null]],null,null,null,null))],function(t,e){var n=e.component;t(e,3,0,n.video.stateMessage),t(e,6,0,n.video.stateMessage)},function(t,e){var n=e.component;t(e,4,0,n.video.displayThumb()?"block":"none",n.video.thumbUrl),t(e,7,0,n.video.displayVideo()?"block":"none")})}class gC{setContentPlayer(t){this.contentPlayer=t}setTargetLocalPlayer(t){this.targetLocalPlayer=t}getClassRef(){return this.constructor.name}}class _C extends gC{isConnected(){return!1}targetRemotePlayer(){throw new Error("UnimplementedPlayerService cannot target remote player")}}const yC=!1;class vC{constructor(t){this.remotePlayerService=t,this.localPlayerActive=!1,yC&&console.log("MediaPlayerService.constructor",t)}setLocalPlayerTarget(t){this.localPlayerTarget=t}activateLocalPlayer(){yC&&console.log("MediaPlayerService.activateLocalPlayer",this.localPlayerActive),this.localPlayerActive||(this.remotePlayerService.setContentPlayer(this.localPlayerTarget.contentPlayer),this.remotePlayerService.setTargetLocalPlayer(()=>{this.targetLocalPlayer()}),this.remotePlayerService.isConnected()?this.remotePlayerService.targetRemotePlayer():this.targetLocalPlayer(),this.localPlayerActive=!0)}deactivateLocalPlayer(){yC&&console.log("MediaPlayerService.deactivateLocalPlayer",this.localPlayerActive),this.localPlayerActive&&(this.remotePlayerService.setTargetLocalPlayer(null),this.localPlayerActive=!1)}isLocalPlayerActive(){return this.localPlayerActive}targetLocalPlayer(){yC&&console.log("MediaPlayerService.targetLocalPlayer",{localPlayerTarget:this.localPlayerTarget}),this.localPlayerTarget?this.localPlayerTarget.contentPlayer.setTarget(this.localPlayerTarget):console.warn("MediaPlayerService.targetLocalPlayer - localPlayerTarget not set")}}class bC extends cl{}class wC extends cC{displayVideo(){return this.content&&this.content.player.isLocal&&this.content.player.hasLoaded()}displayThumb(){return this.content&&!this.content.player.isLocal&&this.content.player.hasLoaded()&&"string"!=typeof this.thumbUrl}get thumbUrl(){if(this.content)return this.content.state.thumbUrl}get stateMessage(){if(this.content)return this.content.player.stateMessage}}class CC extends Rc{constructor(t,e){super(),this.elementRef=t,this.mediaPlayerService=e,this.video=new wC,this.fullscreen=!1,this.fullscreenListener=(()=>{this.fullscreenChangeHandler()}),e.setLocalPlayerTarget(this)}ngOnChanges(t){const e=t.content;if(e){const t=e.currentValue;this.contentPlayer=t?t.player:null,this.video.content=t}if(this.content){const e=t.active;e&&(e.currentValue?this.activate():e.firstChange||this.deactivate())}}activate(){const t=this.elementRef.nativeElement.ownerDocument;t.addEventListener("fullscreenchange",this.fullscreenListener,!1),t.addEventListener("webkitfullscreenchange",this.fullscreenListener,!1),this.mediaPlayerService.activateLocalPlayer(),this.content.player.activate(!0)}deactivate(){this.mediaPlayerService.deactivateLocalPlayer();const t=this.elementRef.nativeElement.ownerDocument;t.removeEventListener("fullscreenchange",this.fullscreenListener),t.removeEventListener("webkitfullscreenchange",this.fullscreenListener),this.content.player.deactivate()}load(){return this.video.initFromUrl(this.content.state.contentUrl)}unload(){this.video.stop()}hasLoaded(){return this.video.hasLoaded()}setCurrentTime(t){this.video.setCurrentTime(t)}getCurrentTime(){return this.video.getCurrentTime()}seekTo(t){this.video.seekTo(t)}getDuration(){return this.video.getDuration()}play(){this.video.play().then(()=>{},t=>{console.error("MediaPlayerComponent.play",t),this.content.player.playbackState=Ac.STOPPED})}pause(){this.video.pause()}mute(){this.video.mute()}unMute(){this.video.unMute()}isMuted(){return this.video.isMuted()}getDefaultVolume(){return this.video.mediaElement?this.video.mediaElement.volume:super.getDefaultVolume()}setVolume(t){this.video.setVolume(t)}setFullscreen(t){t!==this.fullscreen&&(t?this.video.requestFullscreen():this.video.exitFullscreen())}fullscreenChangeHandler(){if(this.fullscreen=!this.fullscreen,!this.fullscreen)return void this.content.player.setFullscreen(!1);const t=e=>{"seeked"===e.type&&0===this.video.getCurrentTime()||(this.video.setPlayingEventListener(t,!1),"playing"===e.type&&(this.content.player.playbackState=Ac.PLAYING))};this.video.setPlayingEventListener(t,!0)}}var EC=lr({encapsulation:2,styles:[],data:{}});function SC(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"mbd-player-video",[],null,null,null,mC,dC)),xs(1,114688,null,0,uC,[],{video:[0,"video"]},null)],function(t,e){t(e,1,0,e.component.video)},null)}class xC extends xl{}var TC=lr({encapsulation:2,styles:[],data:{}});function kC(t){return Js(0,[(t()(),Fr(0,0,null,null,2,"mbd-media-player",[],null,null,null,SC,EC)),ks(512,null,vC,vC,[gC]),xs(2,573440,null,0,CC,[Pn,vC],{content:[0,"content"],active:[1,"active"]},null)],function(t,e){var n=e.component;t(e,2,0,n.content,n.content.selected)},null)}var OC=es("mbd-media-content",xC,function(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"mbd-media-content",[],null,null,null,kC,TC)),xs(1,49152,null,0,xC,[],null,null)],null,null)},{},{},[]);class IC{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof IC?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new IC;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof IC?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;0===(t=t.filter(t=>-1===r.indexOf(t))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class AC{encodeKey(t){return RC(t)}encodeValue(t){return RC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function RC(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class DC{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new AC,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,s]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).join("&")}clone(t){const e=new DC({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=null)}}function PC(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function MC(t){return"undefined"!=typeof Blob&&t instanceof Blob}function NC(t){return"undefined"!=typeof FormData&&t instanceof FormData}class LC{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new IC),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new DC,this.urlWithParams=e}serializeBody(){return null===this.body?null:PC(this.body)||MC(this.body)||NC(this.body)||"string"==typeof this.body?this.body:this.body instanceof DC?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:NC(this.body)?null:MC(this.body)?this.body.type||null:PC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof DC?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new LC(e,n,r,{params:l,headers:a,reportProgress:o,responseType:i,withCredentials:s})}}const FC=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class jC{constructor(t,e=200,n="OK"){this.headers=t.headers||new IC,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class VC extends jC{constructor(t={}){super(t),this.type=FC.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new VC({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function BC(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}class UC{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof LC)i=t;else{let r=void 0;r=n.headers instanceof IC?n.headers:new IC(n.headers);let s=void 0;n.params&&(s=n.params instanceof DC?n.params:new DC({fromObject:n.params})),i=new LC(t,e,void 0!==n.body?n.body:null,{headers:r,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=ka(i).pipe(sv(t=>this.handler.handle(t)));if(t instanceof LC||"events"===n.observe)return r;const s=r.pipe($a(t=>t instanceof VC));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe(H(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(H(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(H(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(H(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new DC).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,BC(n,e))}post(t,e,n={}){return this.request("POST",t,BC(n,e))}put(t,e,n={}){return this.request("PUT",t,BC(n,e))}}function zC(...t){let e;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),0===t.length?Sa:e?zC(t).pipe(H(t=>e(...t))):new S(e=>new HC(e,t))}class HC extends z{constructor(t,e){super(t),this.sources=e,this.completed=0,this.haveValues=0;const n=e.length;this.values=new Array(n);for(let i=0;i<n;i++){const t=U(this,e[i],null,i);t&&this.add(t)}}notifyNext(t,e,n,i,r){this.values[n]=e,r._hasValue||(r._hasValue=!0,this.haveValues++)}notifyComplete(t){const{destination:e,haveValues:n,values:i}=this,r=i.length;t._hasValue?(this.completed++,this.completed===r&&(n===r&&e.next(i),e.complete())):e.complete()}}class WC{constructor(t){this.callback=t}call(t,e){return e.subscribe(new $C(t,this.callback))}}class $C extends y{constructor(t,e){super(t),this.add(new m(e))}}function qC(t){return Error(`Unable to find icon with the name "${t}"`)}function GC(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+`via Angular's DomSanitizer. Attempted URL was "${t}".`)}function YC(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+`Angular's DomSanitizer. Attempted literal was "${t}".`)}class KC{constructor(t){t.nodeName?this.svgElement=t:this.url=t}}class QC{constructor(t,e,n){this._httpClient=t,this._sanitizer=e,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e){return this.addSvgIconInNamespace("",t,e)}addSvgIconLiteral(t,e){return this.addSvgIconLiteralInNamespace("",t,e)}addSvgIconInNamespace(t,e,n){return this._addSvgIconConfig(t,e,new KC(n))}addSvgIconLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(Hi.HTML,n);if(!i)throw YC(n);const r=this._createSvgElementForSingleIcon(i);return this._addSvgIconConfig(t,e,new KC(r))}addSvgIconSet(t){return this.addSvgIconSetInNamespace("",t)}addSvgIconSetLiteral(t){return this.addSvgIconSetLiteralInNamespace("",t)}addSvgIconSetInNamespace(t,e){return this._addSvgIconSetConfig(t,new KC(e))}addSvgIconSetLiteralInNamespace(t,e){const n=this._sanitizer.sanitize(Hi.HTML,e);if(!n)throw YC(e);const i=this._svgElementFromString(n);return this._addSvgIconSetConfig(t,new KC(i))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(Hi.RESOURCE_URL,t);if(!e)throw GC(t);const n=this._cachedIconsByUrl.get(e);return n?ka(XC(n)):this._loadSvgIconFromConfig(new KC(t)).pipe(el(t=>this._cachedIconsByUrl.set(e,t)),H(t=>XC(t)))}getNamedSvgIcon(t,e=""){const n=ZC(e,t),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):Pa(qC(n))}_getSvgFromConfig(t){return t.svgElement?ka(XC(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(el(e=>t.svgElement=e),H(t=>XC(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?ka(n):zC(e.filter(t=>!t.svgElement).map(t=>this._loadSvgIconSetFromConfig(t).pipe(pv(e=>{const n=this._sanitizer.sanitize(Hi.RESOURCE_URL,t.url);return console.error(`Loading icon set URL: ${n} failed: ${e.message}`),ka(null)})))).pipe(H(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw qC(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgElement){const e=this._extractSvgIconFromSet(i.svgElement,t);if(e)return e}}return null}_loadSvgIconFromConfig(t){return this._fetchUrl(t.url).pipe(H(t=>this._createSvgElementForSingleIcon(t)))}_loadSvgIconSetFromConfig(t){return t.svgElement?ka(t.svgElement):this._fetchUrl(t.url).pipe(H(e=>(t.svgElement||(t.svgElement=this._svgElementFromString(e)),t.svgElement)))}_createSvgElementForSingleIcon(t){const e=this._svgElementFromString(t);return this._setSvgAttributes(e),e}_extractSvgIconFromSet(t,e){const n=t.querySelector("#"+e);if(!n)return null;const i=n.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i));const r=this._svgElementFromString("<svg></svg>");return r.appendChild(i),this._setSvgAttributes(r)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){let e=this._svgElementFromString("<svg></svg>");for(let n=0;n<t.childNodes.length;n++)t.childNodes[n].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[n].cloneNode(!0));return e}_setSvgAttributes(t){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),t}_fetchUrl(t){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const e=this._sanitizer.sanitize(Hi.RESOURCE_URL,t);if(!e)throw GC(t);const n=this._inProgressUrlFetches.get(e);if(n)return n;const i=this._httpClient.get(e,{responseType:"text"}).pipe(function(t){return e=>e.lift(new WC(t))}(()=>this._inProgressUrlFetches.delete(e)),ot());return this._inProgressUrlFetches.set(e,i),i}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(ZC(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}function XC(t){return t.cloneNode(!0)}function ZC(t,e){return t+":"+e}QC.ngInjectableDef=at({factory:function(){return new QC(ne(UC,8),ne(Tf),ne(bh,8))},token:QC,providedIn:"root"});const JC=Wf(class{constructor(t){this._elementRef=t}});class tE extends JC{constructor(t,e,n){super(t),this._iconRegistry=e,this._inline=!1,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Tl(t)}get fontSet(){return this._fontSet}set fontSet(t){this._fontSet=this._cleanupFontValue(t)}get fontIcon(){return this._fontIcon}set fontIcon(t){this._fontIcon=this._cleanupFontValue(t)}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnChanges(t){if(t.svgIcon)if(this.svgIcon){const[t,e]=this._splitIconName(this.svgIcon);this._iconRegistry.getNamedSvgIcon(e,t).pipe(Ka(1)).subscribe(t=>this._setSvgElement(t),t=>console.log(`Error retrieving icon: ${t.message}`))}else this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(;e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}}class eE{}var nE=lr({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],data:{}});function iE(t){return Js(2,[Gs(null,0)],null,null)}var rE=lr({encapsulation:2,styles:[],data:{}});function sE(t){return Js(0,[Gs(null,0),(t()(),Lr(0,null,null,0))],null,null)}function oE(t){return Js(0,[zs(402653184,1,{overlayContent:0}),(t()(),Lr(16777216,null,null,1,null,sE)),xs(2,16384,[[1,4],["overlayContent",4]],0,vl,[zn,Hn],null,null)],null,null)}class aE{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class lE extends aE{get formDirective(){return null}get path(){return null}}function hE(t){return null==t||0===t.length}const cE=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class uE{static min(t){return e=>{if(hE(e.value)||hE(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(hE(e.value)||hE(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return hE(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return hE(t.value)?null:cE.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(hE(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return uE.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(hE(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(dE);return 0==e.length?null:function(t){return fE(function(t,n){return e.map(e=>e(t))}(t))}}static composeAsync(t){if(!t)return null;const e=t.filter(dE);return 0==e.length?null:function(t){return zC(function(t,n){return e.map(e=>e(t))}(t).map(pE)).pipe(H(fE))}}}function dE(t){return null!=t}function pE(t){const e=De(t)?G(t):t;if(!Pe(e))throw new Error("Expected validator to return Promise or Observable.");return e}function fE(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}const mE=new lt("NgValueAccessor");class gE{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=kp()?kp().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}function _E(t){return t.validate?e=>t.validate(e):t}function yE(t){return t.validate?e=>t.validate(e):t}function vE(){throw new Error("unimplemented")}class bE extends aE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return vE()}get asyncValidator(){return vE()}}const wE={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class CE{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${wE.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${wE.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${wE.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${wE.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${wE.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${wE.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function EE(t,e){return[...e.path,t]}function SE(t,e){t||OE(e,"Cannot find control with"),e.valueAccessor||OE(e,"No value accessor for form control with"),t.validator=uE.compose([t.validator,e.validator]),t.asyncValidator=uE.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&xE(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&xE(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function xE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function TE(t,e){null==t&&OE(e,"Cannot find control with"),t.validator=uE.compose([t.validator,e.validator]),t.asyncValidator=uE.composeAsync([t.asyncValidator,e.asyncValidator])}function kE(t){return OE(t,"There is no FormControl instance attached to form control element with")}function OE(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function IE(t){return null!=t?uE.compose(t.map(_E)):null}function AE(t){return null!=t?uE.composeAsync(t.map(yE)):null}function RE(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!wt(e,n.currentValue)}const DE=[class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=(e=>{t(""==e?null:parseFloat(e))})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=(e=>{t(""==e?null:parseFloat(e))})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._compareWith=wt}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=(e=>{this.value=this._getOptionValue(e),t(this.value)})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._compareWith=wt}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=((t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)})}else e=((t,e)=>{t._setSelected(!1)});this._optionMap.forEach(e)}registerOnChange(t){this.onChange=(e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=(()=>{}),this.onTouched=(()=>{})}ngOnInit(){this._control=this._injector.get(bE),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=(()=>{t(this.value),this._registry.select(this)})}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function PE(t,e){if(!e)return null;Array.isArray(e)||OE(t,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,r=void 0;return e.forEach(e=>{e.constructor===gE?n=e:function(t){return DE.some(e=>t.constructor===e)}(e)?(i&&OE(t,"More than one built-in value accessor matches form control with"),i=e):(r&&OE(t,"More than one custom value accessor matches form control with"),r=e)}),r||i||n||(OE(t,"No valid value accessor for form control with"),null)}function ME(t,e,n,i){Cn()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(CE.ngModelWarning(t),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}class NE extends lE{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return EE(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return IE(this._validators)}get asyncValidator(){return AE(this._asyncValidators)}_checkParentType(){}}class LE extends bE{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new an,this._ngModelWarningSent=!1,this._rawValidators=t||[],this._rawAsyncValidators=e||[],this.valueAccessor=PE(this,n)}set isDisabled(t){CE.disabledAttrWarning()}ngOnChanges(t){this._isControlChanged(t)&&(SE(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),RE(t,this.viewModel)&&(ME("formControl",LE,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return IE(this._rawValidators)}get asyncValidator(){return AE(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}LE._ngModelWarningSentOnce=!1;class FE extends lE{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new an}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return SE(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){!function(e,n){const i=e.indexOf(t);i>-1&&e.splice(i,1)}(this.directives)}addFormGroup(t){const e=this.form.get(t.path);TE(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);TE(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,function(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>kE(e)),e.valueAccessor.registerOnTouched(()=>kE(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&SE(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=IE(this._validators);this.form.validator=uE.compose([this.form.validator,t]);const e=AE(this._asyncValidators);this.form.asyncValidator=uE.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||CE.missingFormException()}}class jE extends NE{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){BE(this._parent)&&CE.groupParentException()}}class VE extends lE{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return EE(this.name,this._parent)}get validator(){return IE(this._validators)}get asyncValidator(){return AE(this._asyncValidators)}_checkParentType(){BE(this._parent)&&CE.arrayParentException()}}function BE(t){return!(t instanceof jE||t instanceof FE||t instanceof VE)}class UE extends bE{constructor(t,e,n,i,r){super(),this._ngModelWarningConfig=r,this._added=!1,this.update=new an,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=PE(this,i)}set isDisabled(t){CE.disabledAttrWarning()}ngOnChanges(t){this._added||this._setUpControl(),RE(t,this.viewModel)&&(ME("formControlName",UE,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return EE(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return IE(this._rawValidators)}get asyncValidator(){return AE(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof jE)&&this._parent instanceof NE?CE.ngModelGroupException():this._parent instanceof jE||this._parent instanceof FE||this._parent instanceof VE||CE.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}UE._ngModelWarningSentOnce=!1;const zE=30,HE=7,WE=7,$E=10;class qE{}const GE=function(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?t:e}}}(Wf(Hf(class{constructor(t){this._elementRef=t}}),"accent"));class YE extends GE{constructor(t,e,n,i,r,s){super(t),this._focusMonitor=e,this._changeDetectorRef=n,this._dir=i,this._animationMode=s,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new an,this.input=new an,this.valueChange=new an,this.onTouched=(()=>{}),this._percent=0,this._isSliding=!1,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=(()=>{}),this._dirChangeSubscription=m.EMPTY,this.tabIndex=parseInt(r)||0}get invert(){return this._invert}set invert(t){this._invert=Tl(t)}get max(){return this._max}set max(t){this._max=kl(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=kl(t,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=kl(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=Tl(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?kl(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let e=kl(t);this._roundToDecimal&&(e=parseFloat(e.toFixed(this._roundToDecimal))),this._value=e,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=Tl(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(){this._focusHostElement()}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}get _invertAxis(){return this.vertical?!this.invert:this.invert}get _isMinValue(){return 0===this.percent}get _thumbGap(){return this.disabled?HE:this._isMinValue&&!this.thumbLabel?this._isActive?$E:WE:0}get _trackBackgroundStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this._invertMouseCoords?"-":""}${this._thumbGap}px) scale3d(${this.vertical?`1, ${1-this.percent}, 1`:`${1-this.percent}, 1, 1`})`}}get _trackFillStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this._invertMouseCoords?"":"-"}${this._thumbGap}px) scale3d(${this.vertical?`1, ${this.percent}, 1`:`${this.percent}, 1, 1`})`}}get _ticksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._direction?"-":""}${this._tickIntervalPercent/2*100}%)`}}get _ticksStyles(){let t=100*this._tickIntervalPercent,e={backgroundSize:this.vertical?`2px ${t}%`:`${t}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._direction?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._direction?"":" rotate(180deg)"}`};return this._isMinValue&&this._thumbGap&&(e[`padding${this.vertical?this._invertAxis?"Bottom":"Top":this._invertAxis?"Right":"Left"}`]=`${this._thumbGap}px`),e}get _thumbContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._direction||this.vertical?this._invertAxis:!this._invertAxis)?this.percent:1-this.percent)}%)`}}get _invertMouseCoords(){return"rtl"!=this._direction||this.vertical?this._invertAxis:!this._invertAxis}get _direction(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngOnInit(){this._focusMonitor.monitor(this._elementRef.nativeElement,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef.nativeElement),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onClick(t){if(this.disabled)return;let e=this.value;this._isSliding=!1,this._focusHostElement(),this._updateValueFromPosition({x:t.clientX,y:t.clientY}),e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent())}_onSlide(t){if(this.disabled)return;this._isSliding||this._onSlideStart(null),t.preventDefault();let e=this.value;this._updateValueFromPosition({x:t.center.x,y:t.center.y}),e!=this.value&&this._emitInputEvent()}_onSlideStart(t){this.disabled||this._isSliding||(this._onMouseenter(),this._isSliding=!0,this._focusHostElement(),this._valueOnSlideStart=this.value,t&&(this._updateValueFromPosition({x:t.center.x,y:t.center.y}),t.preventDefault()))}_onSlideEnd(){this._isSliding=!1,this._valueOnSlideStart==this.value||this.disabled||this._emitChangeEvent(),this._valueOnSlideStart=null}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled)return;let e=this.value;switch(t.keyCode){case Gh:this._increment(10);break;case Yh:this._increment(-10);break;case Kh:this.value=this.max;break;case Qh:this.value=this.min;break;case Xh:this._increment("rtl"==this._direction?1:-1);break;case Zh:this._increment(1);break;case Jh:this._increment("rtl"==this._direction?-1:1);break;case tc:this._increment(-1);break;default:return}e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,t.preventDefault()}_onKeyup(){this._isSliding=!1}_increment(t){this.value=this._clamp((this.value||0)+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let e=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._invertMouseCoords&&(e=1-e),0===e)this.value=this.min;else if(1===e)this.value=this.max;else{const t=this._calculateValue(e),n=Math.round((t-this.min)/this.step)*this.step+this.min;this.value=this._clamp(n,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let t=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,e=Math.ceil(zE/(t*this.step/(this.max-this.min)));this._tickIntervalPercent=e*this.step/t}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(t=this.value){let e=new qE;return e.source=this,e.value=t,e}_calculatePercentage(t){return((t||0)-this.min)/(this.max-this.min)}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,e=0,n=1){return Math.max(e,Math.min(t,n))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(){this._elementRef.nativeElement.focus()}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}class KE{}var QE=lr({encapsulation:2,styles:[".mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:0;vertical-align:middle}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),opacity .4s cubic-bezier(.25,.8,.25,1)}.cdk-keyboard-focused .mat-slider-focus-ring,.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb-label{cursor:-webkit-grab;cursor:grab}.mat-slider-sliding:not(.mat-slider-disabled) .mat-slider-thumb,.mat-slider-sliding:not(.mat-slider-disabled) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb-label:active,.mat-slider:not(.mat-slider-disabled) .mat-slider-thumb:active{cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(.7);transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),border-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform .4s cubic-bezier(.25,.8,.25,1),border-radius .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-sliding .mat-slider-thumb-container,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-track-fill{transition-duration:0s}.mat-slider-has-ticks .mat-slider-wrapper::after{content:'';position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}@media screen and (-ms-high-contrast:active){.mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}@media screen and (-ms-high-contrast:active){.mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-track-fill{transition:none}"],data:{}});function XE(t){return Js(2,[zs(402653184,1,{_sliderWrapper:0}),(t()(),Fr(1,0,[[1,0],["sliderWrapper",1]],null,16,"div",[["class","mat-slider-wrapper"]],null,null,null,null,null)),(t()(),Fr(2,0,null,null,4,"div",[["class","mat-slider-track-wrapper"]],null,null,null,null,null)),(t()(),Fr(3,0,null,null,1,"div",[["class","mat-slider-track-background"]],null,null,null,null,null)),xs(4,278528,null,0,Zl,[ci,Pn,Dn],{ngStyle:[0,"ngStyle"]},null),(t()(),Fr(5,0,null,null,1,"div",[["class","mat-slider-track-fill"]],null,null,null,null,null)),xs(6,278528,null,0,Zl,[ci,Pn,Dn],{ngStyle:[0,"ngStyle"]},null),(t()(),Fr(7,0,null,null,3,"div",[["class","mat-slider-ticks-container"]],null,null,null,null,null)),xs(8,278528,null,0,Zl,[ci,Pn,Dn],{ngStyle:[0,"ngStyle"]},null),(t()(),Fr(9,0,null,null,1,"div",[["class","mat-slider-ticks"]],null,null,null,null,null)),xs(10,278528,null,0,Zl,[ci,Pn,Dn],{ngStyle:[0,"ngStyle"]},null),(t()(),Fr(11,0,null,null,6,"div",[["class","mat-slider-thumb-container"]],null,null,null,null,null)),xs(12,278528,null,0,Zl,[ci,Pn,Dn],{ngStyle:[0,"ngStyle"]},null),(t()(),Fr(13,0,null,null,0,"div",[["class","mat-slider-focus-ring"]],null,null,null,null,null)),(t()(),Fr(14,0,null,null,0,"div",[["class","mat-slider-thumb"]],null,null,null,null,null)),(t()(),Fr(15,0,null,null,2,"div",[["class","mat-slider-thumb-label"]],null,null,null,null,null)),(t()(),Fr(16,0,null,null,1,"span",[["class","mat-slider-thumb-label-text"]],null,null,null,null,null)),(t()(),Qs(17,null,["",""]))],function(t,e){var n=e.component;t(e,4,0,n._trackBackgroundStyles),t(e,6,0,n._trackFillStyles),t(e,8,0,n._ticksContainerStyles),t(e,10,0,n._ticksStyles),t(e,12,0,n._thumbContainerStyles)},function(t,e){t(e,17,0,e.component.displayValue)})}class ZE{transform(t){if(null===t||void 0===t)return"";const e=Math.floor(t%60);let n=e<10?"0"+e:""+e;const i=Math.floor(t/60);if(i>0){n=i%60+":"+n;const t=Math.floor(i/60);t>0&&(i<10&&(n="0"+n),n=t+":"+n)}else n="0:"+n;return n}}class JE extends xl{ngOnInit(){this.prepareContent()}prepareContent(){this.playToggle={getIcon:()=>this.content.player.isPlaying()?"pause":"play_arrow",handleClick:()=>{this.content.player.isPlaying()?this.content.player.pause():this.content.player.play()},isDisabled:()=>!(this.content.player.canPlay||this.content.player.isPlaying())},this.muteToggle={getIcon:()=>this.content.player.isMuted()?"volume_mute":"volume_up",handleClick:()=>{this.content.player.setMuted(!this.content.player.isMuted())}},this.volumeSlider={maxValue:()=>100,currentValue:()=>100*this.content.player.getVolume(),handleChange:t=>{this.content.player.setVolume(t.value/100)},isDisabled:()=>this.content.player.isMuted(),isDisplayed:()=>!0===this.muteToggle.mouseOver||!0===this.volumeSlider.mouseOver},this.progressSlider={maxValue:()=>-1===this.content.player.contentDuration?null:this.content.player.contentDuration,currentValue:()=>this.content.player.currentTime,handleChange:t=>{this.content.player.seekTo(t.value)},isDisabled:()=>!(this.content.player.canPlay||this.content.player.isPlaying())},this.fullscreenToggle={getIcon:()=>this.content.player.isFullscreen()?"fullscreen_exit":"fullscreen",handleClick:()=>{this.content.player.setFullscreen(!this.content.player.isFullscreen())}}}}var tS=lr({encapsulation:0,styles:[[".mbd-content-controls[_ngcontent-%COMP%]{display:flex;flex-direction:row}.mbd-fullscreen-toggle[_ngcontent-%COMP%], .mbd-mute-toggle[_ngcontent-%COMP%], .mbd-play-toggle[_ngcontent-%COMP%]{min-width:48px;padding:0 8px}.mbd-fullscreen-toggle[_ngcontent-%COMP%]{margin-left:10px}.mbd-progress-slider[_ngcontent-%COMP%]{flex:1;margin:0 10px}.mbd-duration-indicator[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-content:center}"]],data:{}});function eS(t){return Js(0,[(t()(),Fr(0,0,null,null,26,"div",[["class","mbd-content-controls"]],null,null,null,null,null)),(t()(),Fr(1,0,null,null,4,"button",[["class","mbd-play-toggle"],["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.playToggle.handleClick()&&i),i},ev,tv)),xs(2,180224,null,0,pg,[Pn,kh,rg,[2,Zy]],{disabled:[0,"disabled"]},null),(t()(),Fr(3,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,iE,nE)),xs(4,638976,null,0,tE,[Pn,QC,[8,null]],null,null),(t()(),Qs(5,0,["",""])),(t()(),Fr(6,0,null,null,4,"button",[["class","mbd-mute-toggle"],["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"mouseenter"],[null,"mouseleave"]],function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.muteToggle.handleClick()&&i),"mouseenter"===e&&(i=0!=(r.muteToggle.mouseOver=!0)&&i),"mouseleave"===e&&(i=0!=(r.muteToggle.mouseOver=!1)&&i),i},ev,tv)),xs(7,180224,null,0,pg,[Pn,kh,rg,[2,Zy]],null,null),(t()(),Fr(8,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,iE,nE)),xs(9,638976,null,0,tE,[Pn,QC,[8,null]],null,null),(t()(),Qs(10,0,["",""])),(t()(),Fr(11,0,null,null,4,"mbd-content-overlay",[],null,null,null,oE,rE)),xs(12,770048,null,0,Oc,[Pn,Ec],{connectedTo:[0,"connectedTo"],originX:[1,"originX"],originY:[2,"originY"],overlayX:[3,"overlayX"],overlayY:[4,"overlayY"],viewportMargin:[5,"viewportMargin"],overlayVisible:[6,"overlayVisible"],overlayWidth:[7,"overlayWidth"],overlayHeight:[8,"overlayHeight"]},null),(t()(),Fr(13,0,null,0,2,"mat-slider",[["class","mbd-volume-slider mat-slider"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null]],[[null,"change"],[null,"mouseenter"],[null,"mouseleave"],[null,"focus"],[null,"blur"],[null,"click"],[null,"keydown"],[null,"keyup"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var i=!0,r=t.component;return"focus"===e&&(i=!1!==ds(t,15)._onFocus()&&i),"blur"===e&&(i=!1!==ds(t,15)._onBlur()&&i),"click"===e&&(i=!1!==ds(t,15)._onClick(n)&&i),"keydown"===e&&(i=!1!==ds(t,15)._onKeydown(n)&&i),"keyup"===e&&(i=!1!==ds(t,15)._onKeyup()&&i),"mouseenter"===e&&(i=!1!==ds(t,15)._onMouseenter()&&i),"slide"===e&&(i=!1!==ds(t,15)._onSlide(n)&&i),"slideend"===e&&(i=!1!==ds(t,15)._onSlideEnd()&&i),"slidestart"===e&&(i=!1!==ds(t,15)._onSlideStart(n)&&i),"change"===e&&(i=!1!==r.volumeSlider.handleChange(n)&&i),"mouseenter"===e&&(i=0!=(r.volumeSlider.mouseOver=!0)&&i),"mouseleave"===e&&(i=0!=(r.volumeSlider.mouseOver=!1)&&i),i},XE,QE)),ks(5120,null,mE,function(t){return[t]},[YE]),xs(15,245760,null,0,YE,[Pn,rg,Wn,[2,Pm],[8,null],[2,Zy]],{disabled:[0,"disabled"],max:[1,"max"],value:[2,"value"],vertical:[3,"vertical"]},{change:"change"}),(t()(),Fr(16,0,null,null,2,"mat-slider",[["class","mbd-progress-slider mat-slider"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null]],[[null,"change"],[null,"focus"],[null,"blur"],[null,"click"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"]],function(t,e,n){var i=!0,r=t.component;return"focus"===e&&(i=!1!==ds(t,18)._onFocus()&&i),"blur"===e&&(i=!1!==ds(t,18)._onBlur()&&i),"click"===e&&(i=!1!==ds(t,18)._onClick(n)&&i),"keydown"===e&&(i=!1!==ds(t,18)._onKeydown(n)&&i),"keyup"===e&&(i=!1!==ds(t,18)._onKeyup()&&i),"mouseenter"===e&&(i=!1!==ds(t,18)._onMouseenter()&&i),"slide"===e&&(i=!1!==ds(t,18)._onSlide(n)&&i),"slideend"===e&&(i=!1!==ds(t,18)._onSlideEnd()&&i),"slidestart"===e&&(i=!1!==ds(t,18)._onSlideStart(n)&&i),"change"===e&&(i=!1!==r.progressSlider.handleChange(n)&&i),i},XE,QE)),ks(5120,null,mE,function(t){return[t]},[YE]),xs(18,245760,null,0,YE,[Pn,rg,Wn,[2,Pm],[8,null],[2,Zy]],{disabled:[0,"disabled"],max:[1,"max"],value:[2,"value"]},{change:"change"}),(t()(),Fr(19,0,null,null,2,"div",[["class","mbd-duration-indicator"]],null,null,null,null,null)),(t()(),Qs(20,null,[" "," "])),Ks(128,21,new Array(2)),(t()(),Fr(22,0,null,null,4,"button",[["class","mbd-fullscreen-toggle"],["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.fullscreenToggle.handleClick()&&i),i},ev,tv)),xs(23,180224,null,0,pg,[Pn,kh,rg,[2,Zy]],null,null),(t()(),Fr(24,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,iE,nE)),xs(25,638976,null,0,tE,[Pn,QC,[8,null]],null,null),(t()(),Qs(26,0,["",""]))],function(t,e){var n=e.component;t(e,2,0,n.playToggle.isDisabled()),t(e,4,0),t(e,9,0),t(e,12,0,".mbd-content-controls .mbd-mute-toggle","center","top","center","bottom",0,n.volumeSlider.isDisplayed(),"48px","128px"),t(e,15,0,n.volumeSlider.isDisabled(),n.volumeSlider.maxValue(),n.volumeSlider.currentValue(),!0),t(e,18,0,n.progressSlider.isDisabled(),n.progressSlider.maxValue(),n.progressSlider.currentValue()),t(e,25,0)},function(t,e){var n=e.component;t(e,1,0,ds(e,2).disabled||null,"NoopAnimations"===ds(e,2)._animationMode),t(e,3,0,ds(e,4).inline),t(e,5,0,n.playToggle.getIcon()),t(e,6,0,ds(e,7).disabled||null,"NoopAnimations"===ds(e,7)._animationMode),t(e,8,0,ds(e,9).inline),t(e,10,0,n.muteToggle.getIcon()),t(e,13,1,[ds(e,15).tabIndex,ds(e,15).disabled,ds(e,15).max,ds(e,15).min,ds(e,15).value,ds(e,15).vertical?"vertical":"horizontal",ds(e,15).disabled,ds(e,15).tickInterval,!ds(e,15).vertical,ds(e,15)._invertAxis,ds(e,15)._isSliding,ds(e,15).thumbLabel,ds(e,15).vertical,ds(e,15)._isMinValue,ds(e,15).disabled||ds(e,15)._isMinValue&&ds(e,15)._thumbGap&&ds(e,15)._invertAxis,"NoopAnimations"===ds(e,15)._animationMode]),t(e,16,1,[ds(e,18).tabIndex,ds(e,18).disabled,ds(e,18).max,ds(e,18).min,ds(e,18).value,ds(e,18).vertical?"vertical":"horizontal",ds(e,18).disabled,ds(e,18).tickInterval,!ds(e,18).vertical,ds(e,18)._invertAxis,ds(e,18)._isSliding,ds(e,18).thumbLabel,ds(e,18).vertical,ds(e,18)._isMinValue,ds(e,18).disabled||ds(e,18)._isMinValue&&ds(e,18)._thumbGap&&ds(e,18)._invertAxis,"NoopAnimations"===ds(e,18)._animationMode]),t(e,20,0,sr(e,20,0,t(e,21,0,ds(e.parent,0),n.content.player.contentDuration))),t(e,22,0,ds(e,23).disabled||null,"NoopAnimations"===ds(e,23)._animationMode),t(e,24,0,ds(e,25).inline),t(e,26,0,n.fullscreenToggle.getIcon())})}function nS(t){return Js(0,[Ts(0,ZE,[]),(t()(),Lr(16777216,null,null,1,null,eS)),xs(2,16384,null,0,Kl,[Hn,zn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,e.component.content.player.hasLoaded())},null)}var iS=es("mbd-media-controls",JE,function(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"mbd-media-controls",[],null,null,null,nS,tS)),xs(1,114688,null,0,JE,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),rS=lr({encapsulation:2,styles:[],data:{}});function sS(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Qs(-1,null,["Action Tool"]))],null,null)}var oS=es("mbd-action-tool",om,function(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"mbd-action-tool",[],null,null,null,sS,rS)),xs(1,49152,null,0,om,[],null,null)],null,null)},{},{},[]),aS=lr({encapsulation:2,styles:[],data:{}});function lS(t){return Js(0,[(t()(),Fr(0,0,null,null,2,"button",[["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.openResources()&&i),i},ev,tv)),xs(1,180224,null,0,pg,[Pn,kh,rg,[2,Zy]],null,null),(t()(),Qs(-1,0,["Open Resources"]))],null,function(t,e){t(e,0,0,ds(e,1).disabled||null,"NoopAnimations"===ds(e,1)._animationMode)})}var hS=es("mbd-resources-tool",lm,function(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"mbd-resources-tool",[],null,null,null,lS,aS)),xs(1,49152,null,0,lm,[Bm],null,null)],null,null)},{},{},[]);const cS=Wf(class{constructor(t){this._elementRef=t}});class uS extends cS{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){Cn()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length&&[].slice.call(this._elementRef.nativeElement.childNodes).filter(t=>!(t.classList&&t.classList.contains("mat-toolbar-row"))).filter(t=>t.nodeType!==(this._document?this._document.COMMENT_NODE:8)).some(t=>t.textContent.trim())&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}class dS{}var pS=lr({encapsulation:2,styles:["@media screen and (-ms-high-contrast:active){.mat-toolbar{outline:solid 1px}}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width:599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}"],data:{}});function fS(t){return Js(2,[Gs(null,0),Gs(null,1)],null,null)}var mS=lr({encapsulation:2,styles:[],data:{}});function gS(t){return Js(0,[(t()(),Fr(0,16777216,null,null,2,null,null,null,null,function(t,e,n){var i=!0;return"attached"===e&&(i=!1!==t.component.componentAttached(n)&&i),i},null,null)),xs(1,212992,null,0,bl,[Qe,Hn],{portal:[0,"portal"]},{attached:"attached"}),Gs(null,0),(t()(),Lr(0,null,null,0))],function(t,e){t(e,1,0,e.component.componentPortal)},null)}function _S(t){return Js(0,[(t()(),Lr(16777216,null,null,1,null,gS)),xs(1,16384,null,0,Kl,[Hn,zn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,1,0,e.component.componentPortal)},null)}class yS extends Vd{}var vS=lr({encapsulation:0,styles:[["[_nghost-%COMP%]{flex:1}"]],data:{}});function bS(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"mbd-tool-content-container",[],null,null,null,_S,mS)),xs(1,114688,null,0,Bd,[dl,Mb],{entityActions:[0,"entityActions"],tool:[1,"tool"]},null)],function(t,e){var n=e.component;t(e,1,0,n.entityActions,n.entity)},null)}function wS(t){return Js(0,[(t()(),Lr(16777216,null,null,1,null,bS)),xs(1,16384,null,0,Kl,[Hn,zn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,1,0,e.component.entity)},null)}class CS extends jd{}var ES=lr({encapsulation:0,styles:[["[_nghost-%COMP%]{flex:1;display:flex}.mbd-vertical-toolkit   [_nghost-%COMP%]{flex-direction:column}.mbd-horizontal-toolkit   [_nghost-%COMP%]{flex-direction:row}"]],data:{}});function SS(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"mbd-tool",[],null,null,null,wS,vS)),xs(1,245760,null,0,yS,[Ld,Ca],{entityContext:[0,"entityContext"],entityData:[1,"entityData"],entityIndex:[2,"entityIndex"],isLast:[3,"isLast"],entityActions:[4,"entityActions"]},null)],function(t,e){var n=e.component;t(e,1,0,n.childContext,e.context.$implicit,e.context.index,e.context.last,n.entityActions)},null)}function xS(t){return Js(0,[(t()(),Lr(16777216,null,null,1,null,SS)),xs(1,278528,null,0,Gl,[Hn,zn,hi],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,1,0,e.component.tools)},null)}class TS extends Dd{}var kS=lr({encapsulation:0,styles:[["[_nghost-%COMP%]{flex:1;display:flex}"]],data:{}});function OS(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"mbd-tool-container",[],null,null,null,xS,ES)),xs(1,245760,null,0,CS,[Ca,Mb],{entityContext:[0,"entityContext"],childContext:[1,"childContext"],entityActions:[2,"entityActions"]},null)],function(t,e){var n=e.component;t(e,1,0,n.entityContext,n.toolContext,n.entityActions)},null)}class IS extends Id{getChildContext(){const t=new Ed("toolkit");return t.container=this,t.entityParams={},t}}var AS=lr({encapsulation:0,styles:[["[_nghost-%COMP%]{flex:1;display:flex}.mbd-vertical-toolkit[_nghost-%COMP%]{flex-direction:column}.mbd-horizontal-toolkit[_nghost-%COMP%]{flex-direction:row}"]],data:{}});function RS(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"mbd-toolkit",[],null,null,null,OS,kS)),xs(1,245760,null,0,TS,[Td,Ca,Mb],{entityContext:[0,"entityContext"],entityActions:[1,"entityActions"]},null)],function(t,e){var n=e.component;t(e,1,0,n.childContext,n.entityContext.container.entityActions)},null)}class DS extends Xd{}var PS=lr({encapsulation:2,styles:[],data:{}});function MS(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"mbd-toolkit-container",[["class","mbd-horizontal-toolkit"]],null,null,null,RS,AS)),xs(1,245760,null,0,IS,[Ca,Mb],{entityContext:[0,"entityContext"]},null)],function(t,e){t(e,1,0,e.component.selectedContext)},null)}function NS(t){return Js(0,[(t()(),Lr(16777216,null,null,1,null,MS)),xs(1,16384,null,0,Kl,[Hn,zn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,1,0,e.component.selectedEntity)},null)}var LS=lr({encapsulation:0,styles:["[_nghost-%COMP%] {\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n      }"],data:{}});function FS(t){return Js(0,[(t()(),Fr(0,16777216,null,null,2,null,null,null,null,function(t,e,n){var i=!0;return"attached"===e&&(i=!1!==t.component.componentAttached(n)&&i),i},null,null)),xs(1,212992,null,0,bl,[Qe,Hn],{portal:[0,"portal"]},{attached:"attached"}),Gs(null,0),(t()(),Lr(0,null,null,0))],function(t,e){t(e,1,0,e.component.componentPortal)},null)}function jS(t){return Js(0,[(t()(),Lr(16777216,null,null,1,null,FS)),xs(1,16384,null,0,Kl,[Hn,zn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,1,0,e.component.componentPortal)},null)}class VS{}class BS{}class US{}class zS{}class HS{}var WS=lr({encapsulation:2,styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:24px;border-radius:2px}.mat-card:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.mat-card.mat-card-flat{box-shadow:none}@media screen and (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-actions,.mat-card-content,.mat-card-subtitle,.mat-card-title{display:block;margin-bottom:16px}.mat-card-actions{margin-left:-16px;margin-right:-16px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 48px);margin:0 -24px 16px -24px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-footer{display:block;margin:0 -24px -24px -24px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button{margin:0 4px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header-text{margin:0 8px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0}.mat-card-lg-image,.mat-card-md-image,.mat-card-sm-image{margin:-8px 0}.mat-card-title-group{display:flex;justify-content:space-between;margin:0 -8px}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}@media (max-width:599px){.mat-card{padding:24px 16px}.mat-card-actions{margin-left:-8px;margin-right:-8px}.mat-card-image{width:calc(100% + 32px);margin:16px -16px}.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}.mat-card-header{margin:-8px 0 0 0}.mat-card-footer{margin-left:-16px;margin-right:-16px}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-24px}.mat-card>.mat-card-actions:last-child{margin-bottom:-16px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],data:{}});function $S(t){return Js(2,[Gs(null,0),Gs(null,1)],null,null)}var qS=lr({encapsulation:2,styles:[],data:{}});function GS(t){return Js(2,[Gs(null,0),(t()(),Fr(1,0,null,null,1,"div",[["class","mat-card-header-text"]],null,null,null,null,null)),Gs(null,1),Gs(null,2)],null,null)}class YS extends yp{}var KS=lr({encapsulation:0,styles:[["mat-card[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;background-color:gray}mat-card-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}"]],data:{}});function QS(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"mbd-card-content-container",[],null,null,null,jS,LS)),xs(1,114688,null,0,vp,[dl,Mb],{entity:[0,"entity"],entityActions:[1,"entityActions"],selected:[2,"selected"]},null)],function(t,e){var n=e.component;t(e,1,0,n.entity,n.container.entityActions,n.selected)},null)}function XS(t){return Js(0,[(t()(),Fr(0,0,null,null,10,"mat-card",[["class","mat-card"]],null,null,null,$S,WS)),xs(1,49152,null,0,US,[],null,null),(t()(),Fr(2,0,null,0,4,"mat-card-header",[["class","mat-card-header"]],null,null,null,GS,qS)),xs(3,49152,null,0,zS,[],null,null),(t()(),Fr(4,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),xs(5,16384,null,0,BS,[],null,null),(t()(),Qs(6,null,["",""])),(t()(),Fr(7,0,null,0,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),xs(8,16384,null,0,VS,[],null,null),(t()(),Lr(16777216,null,null,1,null,QS)),xs(10,16384,null,0,Kl,[Hn,zn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,10,0,e.component.entity)},function(t,e){t(e,6,0,e.component.entityData.state.title)})}class ZS extends mp{}var JS=lr({encapsulation:2,styles:[],data:{}});function tx(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"mbd-toolkit-container",[["class","mbd-horizontal-toolkit"]],null,null,null,RS,AS)),xs(1,245760,null,0,IS,[Ca,Mb],{entityContext:[0,"entityContext"]},null)],function(t,e){t(e,1,0,e.component.selectedContext)},null)}function ex(t){return Js(0,[(t()(),Lr(16777216,null,null,1,null,tx)),xs(1,16384,null,0,Kl,[Hn,zn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,1,0,e.component.selectedEntity)},null)}class nx extends ul{constructor(t){super(t),this.setContentComponentType("tool/stack-controls",wp)}}class ix extends cl{}class rx{}class sx{}class ox{}class ax extends Pc{}class lx{}class hx{}class cx{}class ux extends ul{constructor(t){super(t),this.setContentFactory("text/amp",(t,e)=>new ix(t,e)),this.setContentFactory("video/mp4",(t,e)=>{const n=new bC(t,e);return n.player=new ax(n),n}),this.setContentComponentType("text/amp",eC),this.setContentComponentType("video/mp4",xC),this.setContentComponentType("tool/media-controls",JE)}}class dx extends fp{getChildContext(){const t=new Ua("card");return t.entityParams={entityId:"-KRaZrxLWEdEuZ8ub3sA",entityData:{$key:"-KRaZrxLWEdEuZ8ub3sA",meta:{contentType:"text/amp",created:"12345"},state:{title:"Test Card 1"}}},t}selectEntityLayout(){return new sm("card-container")}}var px=lr({encapsulation:0,styles:[["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.mbd-card-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;padding-bottom:70px}mbd-card[_ngcontent-%COMP%]{display:none}mbd-card.selected[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}"]],data:{}});function fx(t){return Js(0,[(t()(),Fr(0,0,null,null,3,"mbd-card",[],null,null,null,XS,KS)),xs(1,278528,null,0,$l,[hi,ci,Pn,Dn],{ngClass:[0,"ngClass"]},null),function(t,e){const n=Object.keys(e),i=n.length,r=new Array(i);for(let s=0;s<i;s++){const t=n[s];r[e[t]]=t}return Ks(64,2,r)}(0,{selected:0,popped:1}),xs(3,245760,null,0,YS,[ap,Ca,Mb],{entityContext:[0,"entityContext"],entityData:[1,"entityData"],entityIndex:[2,"entityIndex"],isLast:[3,"isLast"],selected:[4,"selected"],popped:[5,"popped"]},null)],function(t,e){var n=e.component;t(e,1,0,t(e,2,0,n.isSelected(e.context.$implicit),n.isPopped(e.context.$implicit))),t(e,3,0,n.childContext,e.context.$implicit,e.context.index,e.context.last,n.isSelected(e.context.$implicit),n.isPopped(e.context.$implicit))},null)}function mx(t){return Js(0,[(t()(),Fr(0,0,null,null,5,"div",[["class","mbd-card-container"]],null,null,null,null,null)),(t()(),Lr(16777216,null,null,2,null,fx)),xs(2,278528,null,0,Gl,[Hn,zn,hi],{ngForOf:[0,"ngForOf"]},null),Ts(131072,yh,[Wn]),(t()(),Fr(4,0,null,null,1,"mbd-selected-card",[],null,null,null,ex,JS)),xs(5,245760,null,0,ZS,[ap,Ca,Mb],{entityContext:[0,"entityContext"]},null)],function(t,e){var n=e.component;t(e,2,0,sr(e,2,0,ds(e,3).transform(n.childItems))),t(e,5,0,n.childContext)},null)}function gx(t){return Js(0,[(t()(),Lr(16777216,null,null,1,null,mx)),xs(1,16384,null,0,Kl,[Hn,zn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,1,0,e.component.childItems)},null)}class _x extends ip{}var yx=lr({encapsulation:0,styles:[["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}"]],data:{}});function vx(t){return Js(0,[(t()(),Fr(0,0,null,null,2,"mbd-card-container",[],null,null,null,gx,px)),ks(6144,null,dl,null,[ux]),xs(2,245760,null,0,dx,[Ca,Mb],{entityContext:[0,"entityContext"]},null)],function(t,e){t(e,2,0,e.component.entityContext)},null)}class bx extends qd{getChildContext(){const t=new Ua("stack");return t.entityParams={entityId:"scott/start",entityData:{$key:"start",meta:{created:"12345",selected:"-KRaZrxLWEdEuZ8ub3sA"},state:{title:"Start"},children:{"-KRaZrxLWEdEuZ8ub3sA":{$key:"-KRaZrxLWEdEuZ8ub3sA",meta:{created:"12345",contentType:"text/amp"},state:{title:"Test Card 1"}},"-Kl1kGCW38UOi5z7V2Eu":{$key:"-Kl1kGCW38UOi5z7V2Eu",meta:{created:"12345",contentType:"video/mp4"},state:{contentUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",description:"The first Blender Open Movie from 2006",thumbUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/images/ElephantsDream.jpg",title:"Elephant Dream"}}}}},t}}var wx=lr({encapsulation:0,styles:[["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.mbd-stack-outlet[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}"]],data:{}});function Cx(t){return Js(0,[(t()(),Fr(0,0,null,null,4,"mat-toolbar",[["class","mat-toolbar"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,fS,pS)),xs(1,4243456,null,1,uS,[Pn,kh,bh],null,null),zs(603979776,1,{_toolbarRows:1}),(t()(),Fr(3,0,null,0,1,"mbd-selected-stack",[],null,null,null,NS,PS)),xs(4,245760,null,0,DS,[Qd,Ca,Mb],{entityContext:[0,"entityContext"]},null),(t()(),Fr(5,0,null,null,1,"mbd-stack",[],null,null,null,vx,yx)),xs(6,245760,null,0,_x,[Qd,Ca,Mb],{entityContext:[0,"entityContext"]},null)],function(t,e){var n=e.component;t(e,4,0,n.childContext),t(e,6,0,n.childContext)},function(t,e){t(e,0,0,ds(e,1)._toolbarRows.length>0,0===ds(e,1)._toolbarRows.length)})}var Ex=lr({encapsulation:3,styles:[],data:{}});function Sx(t){return Js(0,[(t()(),Fr(0,0,null,null,2,"mbd-stack-container",[],null,null,null,Cx,wx)),ks(6144,null,dl,null,[nx]),xs(2,245760,null,0,bx,[Ca,Mb],{entityContext:[0,"entityContext"]},null)],function(t,e){t(e,2,0,e.component.entityContext)},null)}var xx=es("mbd-edit-entity",rm,function(t){return Js(0,[(t()(),Fr(0,0,null,null,1,"mbd-edit-entity",[],null,null,null,Sx,Ex)),xs(1,770048,null,0,rm,[fd,Ca],null,null)],function(t,e){t(e,1,0)},null)},{entityContext:"entityContext",entityData:"entityData",entityIndex:"entityIndex",isLast:"isLast",metadata:"metadata"},{},[]);const Tx=new lt("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null}),kx=[{alias:"xs",mediaQuery:"(min-width: 0px) and (max-width: 599px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"(min-width: 600px)"},{alias:"lt-sm",overlapping:!0,mediaQuery:"(max-width: 599px)"},{alias:"sm",mediaQuery:"(min-width: 600px) and (max-width: 959px)"},{alias:"gt-sm",overlapping:!0,mediaQuery:"(min-width: 960px)"},{alias:"lt-md",overlapping:!0,mediaQuery:"(max-width: 959px)"},{alias:"md",mediaQuery:"(min-width: 960px) and (max-width: 1279px)"},{alias:"gt-md",overlapping:!0,mediaQuery:"(min-width: 1280px)"},{alias:"lt-lg",overlapping:!0,mediaQuery:"(max-width: 1279px)"},{alias:"lg",mediaQuery:"(min-width: 1280px) and (max-width: 1919px)"},{alias:"gt-lg",overlapping:!0,mediaQuery:"(min-width: 1920px)"},{alias:"lt-xl",overlapping:!0,mediaQuery:"(max-width: 1919px)"},{alias:"xl",mediaQuery:"(min-width: 1920px) and (max-width: 5000px)"}],Ox="(orientation: landscape) and (min-width: 960px) and (max-width: 1279px)",Ix="(orientation: portrait) and (min-width: 600px) and (max-width: 839px)",Ax="(orientation: portrait) and (min-width: 840px)",Rx="(orientation: landscape) and (min-width: 1280px)",Dx={HANDSET:"(orientation: portrait) and (max-width: 599px), (orientation: landscape) and (max-width: 959px)",TABLET:`${Ix} , ${Ox}`,WEB:`${Ax}, ${Rx} `,HANDSET_PORTRAIT:"(orientation: portrait) and (max-width: 599px)",TABLET_PORTRAIT:`${Ix} `,WEB_PORTRAIT:`${Ax}`,HANDSET_LANDSCAPE:"(orientation: landscape) and (max-width: 959px)]",TABLET_LANDSCAPE:`${Ox}`,WEB_LANDSCAPE:`${Rx}`},Px=[{alias:"handset",mediaQuery:Dx.HANDSET},{alias:"handset.landscape",mediaQuery:Dx.HANDSET_LANDSCAPE},{alias:"handset.portrait",mediaQuery:Dx.HANDSET_PORTRAIT},{alias:"tablet",mediaQuery:Dx.TABLET},{alias:"tablet.landscape",mediaQuery:Dx.TABLET},{alias:"tablet.portrait",mediaQuery:Dx.TABLET_PORTRAIT},{alias:"web",mediaQuery:Dx.WEB,overlapping:!0},{alias:"web.landscape",mediaQuery:Dx.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",mediaQuery:Dx.WEB_PORTRAIT,overlapping:!0}];function Mx(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}const Nx=/(\.|-|_)/g;function Lx(t){let e=t.length>0?t.charAt(0):"",n=t.length>1?t.slice(1):"";return e.toUpperCase()+n}const Fx={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0},jx=new lt("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Fx}),Vx=new lt("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const t=ne(Tx),e=ne(jx),n=[].concat.apply([],(t||[]).map(t=>Array.isArray(t)?t:[t]));return function(t,e=[]){const n={};return t.forEach(t=>{n[t.alias]=t}),e.forEach(t=>{n[t.alias]?Mx(n[t.alias],t):n[t.alias]=t}),function(t){return t.forEach(t=>{t.suffix||(t.suffix=t.alias.replace(Nx,"|").split("|").map(Lx).join(""),t.overlapping=!!t.overlapping)}),t}(Object.keys(n).map(t=>n[t]))}((e.disableDefaultBps?[]:kx).concat(e.addOrientationBps?Px:[]),n)}});class Bx{constructor(t){this._registry=t}get items(){return[...this._registry]}get sortedItems(){let t=this._registry.filter(t=>!0===t.overlapping),e=this._registry.filter(t=>!0!==t.overlapping);return[...t,...e]}findByAlias(t){return this._registry.find(e=>e.alias==t)||null}findByQuery(t){return this._registry.find(e=>e.mediaQuery==t)||null}get overlappings(){return this._registry.filter(t=>1==t.overlapping)}get aliases(){return this._registry.map(t=>t.alias)}get suffixes(){return this._registry.map(t=>t.suffix?t.suffix:"")}}Bx.ngInjectableDef=at({factory:function(){return new Bx(ne(Vx))},token:Bx,providedIn:"root"});class Ux{constructor(t=!1,e="all",n="",i=""){this.matches=t,this.mediaQuery=e,this.mqAlias=n,this.suffix=i}clone(){return new Ux(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}class zx{constructor(t,e,n){this._zone=t,this._platformId=e,this._document=n,this._registry=new Map,this._source=new Sp(new Ux(!0)),this._observable$=this._source.asObservable()}isActive(t){let e=this._registry.get(t);return!!e&&e.matches}observe(t){return t&&this.registerQuery(t),this._observable$.pipe($a(e=>!t||e.mediaQuery===t))}registerQuery(t){let e=function(t){return void 0===t?[]:"string"==typeof t?[t]:function(e){let n={};return t.filter(t=>!n.hasOwnProperty(t)&&(n[t]=!0))}()}(t);e.length>0&&(this._prepareQueryCSS(e,this._document),e.forEach(t=>{let e=this._registry.get(t),n=e=>{this._zone.run(()=>{let n=new Ux(e.matches,t);this._source.next(n)})};e||((e=this._buildMQL(t)).addListener(n),this._registry.set(t,e)),e.matches&&n(e)}))}_buildMQL(t){return Eh(this._platformId)&&window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}_prepareQueryCSS(t,e){let n=t.filter(t=>!Hx[t]);if(n.length>0){let t=n.join(", ");try{let i=e.createElement("style");i.setAttribute("type","text/css"),i.styleSheet||i.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${t} {.fx-query-test{ }}\n`)),e.head.appendChild(i),n.forEach(t=>Hx[t]=i)}catch(t){console.error(t)}}}}zx.ngInjectableDef=at({factory:function(){return new zx(ne(ln),ne(Be),ne(bh))},token:zx,providedIn:"root"});const Hx={};function Wx(t,e){return Mx(t,e?{mqAlias:e.alias,suffix:e.suffix}:{})}class $x{}class qx{constructor(t,e){this.breakpoints=t,this.mediaWatcher=e,this.filterOverlaps=!0,this._registerBreakPoints(),this.observable$=this._buildObservable()}isActive(t){let e=this._toMediaQuery(t);return this.mediaWatcher.isActive(e)}subscribe(t,e,n){return this.observable$.subscribe(t,e,n)}asObservable(){return this.observable$}_registerBreakPoints(){let t=this.breakpoints.sortedItems.map(t=>t.mediaQuery);this.mediaWatcher.registerQuery(t)}_buildObservable(){const t=this;return this.mediaWatcher.observe().pipe($a(t=>!0===t.matches),$a(e=>{let n=this.breakpoints.findByQuery(e.mediaQuery);return!n||!(t.filterOverlaps&&n.overlapping)}),H(t=>Wx(t,this._findByQuery(t.mediaQuery))))}_findByAlias(t){return this.breakpoints.findByAlias(t)}_findByQuery(t){return this.breakpoints.findByQuery(t)}_toMediaQuery(t){let e=this._findByAlias(t)||this._findByQuery(t);return e?e.mediaQuery:t}}qx.ngInjectableDef=at({factory:function(){return new qx(ne(Bx),ne(zx))},token:qx,providedIn:"root"});class Gx{}class Yx{constructor(){this.stylesheet=new Map}addStyleToElement(t,e,n){const i=this.stylesheet.get(t);i?i.set(e,n):this.stylesheet.set(t,new Map([[e,n]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,e){const n=this.stylesheet.get(t);let i="";if(n){const t=n.get(e);"number"!=typeof t&&"string"!=typeof t||(i=t+"")}return i}}Yx.ngInjectableDef=at({factory:function(){return new Yx},token:Yx,providedIn:"root"});const Kx=new lt("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1});class Qx{constructor(t,e){this._breakpoints=t,this._matchMedia=e,this._registerBreakpoints()}get breakpoints(){return[...this._breakpoints.items]}get activeOverlaps(){return this._breakpoints.overlappings.reverse().filter(t=>this._matchMedia.isActive(t.mediaQuery))}get active(){let t=null;this.breakpoints.reverse().forEach(e=>{""!==e.alias&&!t&&this._matchMedia.isActive(e.mediaQuery)&&(t=e)});let e=this.breakpoints[0];return t||(this._matchMedia.isActive(e.mediaQuery)?e:null)}isActive(t){let e=this._breakpoints.findByAlias(t)||this._breakpoints.findByQuery(t);return this._matchMedia.isActive(e?e.mediaQuery:t)}observe(t){let e=this._breakpoints.findByAlias(t||"")||this._breakpoints.findByQuery(t||"");return this._matchMedia.observe(e?e.mediaQuery:t).pipe(H(t=>Wx(t,e)),$a(t=>!e||""!==t.mqAlias))}_registerBreakpoints(){let t=this._breakpoints.sortedItems.map(t=>t.mediaQuery);this._matchMedia.registerQuery(t)}}function Xx(t){for(let e in t){let n=t[e]||"";switch(e){case"display":t.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+e]=n;break;case"flex-direction":t["-webkit-flex-direction"]=n=n||"row",t["flex-direction"]=n;break;case"order":t.order=t["-webkit-"+e]=isNaN(n)?"0":n}}return t}Qx.ngInjectableDef=at({factory:function(){return new Qx(ne(Bx),ne(zx))},token:Qx,providedIn:"root"});class Zx{constructor(t,e,n,i){this._serverStylesheet=t,this._serverModuleLoaded=e,this._platformId=n,this.layoutConfig=i}applyStyleToElement(t,e,n){let i={};"string"==typeof e&&(i[e]=n,e=i),i=this.layoutConfig.disableVendorPrefixes?e:Xx(e),this._applyMultiValueStyleToElement(i,t)}applyStyleToElements(t,e=[]){const n=this.layoutConfig.disableVendorPrefixes?t:Xx(t);e.forEach(t=>{this._applyMultiValueStyleToElement(n,t)})}getFlowDirection(t){let e=this.lookupStyle(t,"flex-direction");e===Jx&&(e="");const n=this.lookupInlineStyle(t,"flex-direction")||Sh(this._platformId)&&this._serverModuleLoaded?e:"";return[e||"row",n]}lookupAttributeValue(t,e){return t.getAttribute(e)||""}lookupInlineStyle(t,e){return Eh(this._platformId)?t.style[e]:this._getServerStyle(t,e)}lookupStyle(t,e,n=!1){let i="";return t&&((i=this.lookupInlineStyle(t,e))||(Eh(this._platformId)?n||(i=getComputedStyle(t).getPropertyValue(e)):this._serverModuleLoaded&&(i=this._serverStylesheet.getStyleForElement(t,e)))),i?i.trim():Jx}_applyMultiValueStyleToElement(t,e){Object.keys(t).sort().forEach(n=>{const i=Array.isArray(t[n])?t[n]:[t[n]];i.sort();for(let t of i)Eh(this._platformId)||!this._serverModuleLoaded?Eh(this._platformId)?e.style.setProperty(n,t):this._setServerStyle(e,n,t):this._serverStylesheet.addStyleToElement(e,n,t)})}_setServerStyle(t,e,n){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=this._readStyleAttribute(t);i[e]=n||"",this._writeStyleAttribute(t,i)}_getServerStyle(t,e){return this._readStyleAttribute(t)[e]||""}_readStyleAttribute(t){const e={},n=t.getAttribute("style");if(n){const t=n.split(/;+/g);for(let n=0;n<t.length;n++){const i=t[n].trim();if(i.length>0){const t=i.indexOf(":");if(-1===t)throw new Error(`Invalid CSS style: ${i}`);e[i.substr(0,t).trim()]=i.substr(t+1).trim()}}}return e}_writeStyleAttribute(t,e){let n="";for(const i in e)e[i]&&(n+=i+":"+e[i]+";");t.setAttribute("style",n)}}Zx.ngInjectableDef=at({factory:function(){return new Zx(ne(Yx,8),ne(Kx,8),ne(Be),ne(jx))},token:Zx,providedIn:"root"});const Jx="block";function tT(...t){if(1===t.length){if(!l(t[0]))return t[0];t=t[0]}return q(t,void 0).lift(new eT)}class eT{call(t,e){return e.subscribe(new nT(t))}}class nT extends z{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){let e=t[n],i=U(this,e,e,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}notifyNext(t,e,n,i,r){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}const iT=new lt("localStoragePrefix",{providedIn:"root",factory:()=>""});class rT{constructor(t=null){this.userPrefix=t,this.prefix="",t&&(this.prefix=`${t}_`)}getItem(t){const e=localStorage.getItem(`${this.prefix}${t}`);let n=null;if(null!=e)try{n=JSON.parse(e)}catch(t){return Pa(new Error("Invalid data in localStorage."))}return ka(n)}setItem(t,e){return localStorage.setItem(`${this.prefix}${t}`,JSON.stringify(e)),ka(!0)}removeItem(t){return localStorage.removeItem(`${this.prefix}${t}`),ka(!0)}clear(){return localStorage.clear(),ka(!0)}}rT.ngInjectableDef=at({factory:function(){return new rT(ne(iT,8))},token:rT,providedIn:"root"});class sT{constructor(t=null){this.prefix=t,this.dbName="ngStorage",this.objectStoreName="localStorage",this.keyPath="key",this.dataPath="value",this.fallback=null,t&&(this.dbName=`${t}_${this.dbName}`),this.database=new ja,this.connect(t)}getItem(t){return this.fallback?this.fallback.getItem(t):this.transaction().pipe(H(e=>e.get(t)),Y(t=>tT(Rh(t,"success").pipe(H(t=>t.target.result),H(t=>t&&this.dataPath in t?t[this.dataPath]:null)),this.toErrorObservable(t,"getter")).pipe(sl())),sl())}setItem(t,e){return this.fallback?this.fallback.setItem(t,e):null==e?ka(!0):this.getItem(t).pipe(H(t=>null==t?"add":"put"),Y(n=>this.transaction("readwrite").pipe(Y(i=>{let r;switch(n){case"add":r=i.add({[this.dataPath]:e},t);break;case"put":default:r=i.put({[this.dataPath]:e},t)}return tT(this.toSuccessObservable(r),this.toErrorObservable(r,"setter")).pipe(sl())}))),sl())}removeItem(t){return this.fallback?this.fallback.removeItem(t):this.getItem(t).pipe(Y(e=>null!=e?this.transaction("readwrite").pipe(Y(e=>{const n=e.delete(t);return tT(this.toSuccessObservable(n),this.toErrorObservable(n,"remover")).pipe(sl())})):ka(!0)),sl())}clear(){return this.fallback?this.fallback.clear():this.transaction("readwrite").pipe(Y(t=>{const e=t.clear();return tT(this.toSuccessObservable(e),this.toErrorObservable(e,"clearer")).pipe(sl())}),sl())}connect(t=null){let e;try{e=indexedDB.open(this.dbName)}catch(e){return void this.setFallback(t)}Rh(e,"upgradeneeded").pipe(sl()).subscribe(t=>{const e=t.target.result;e.objectStoreNames.contains(this.objectStoreName)||e.createObjectStore(this.objectStoreName)}),tT(Rh(e,"success"),this.toErrorObservable(e,"connection")).pipe(sl()).subscribe(t=>{this.database.next(t.target.result)},()=>{this.setFallback(t)})}transaction(t="readonly"){return this.database.pipe(H(e=>e.transaction([this.objectStoreName],t).objectStore(this.objectStoreName)))}toSuccessObservable(t){return Rh(t,"success").pipe(H(()=>!0))}toErrorObservable(t,e=""){return Rh(t,"error").pipe(Y(()=>Pa(new Error(`IndexedDB ${e} issue : ${t.error.message}.`))))}setFallback(t){this.fallback=new rT(t)}}sT.ngInjectableDef=at({factory:function(){return new sT(ne(iT,8))},token:sT,providedIn:"root"});class oT{constructor(){this.localStorage=new Map}getItem(t){const e=this.localStorage.get(t);return ka(void 0!==e?e:null)}setItem(t,e){return this.localStorage.set(t,e),ka(!0)}removeItem(t){return this.localStorage.delete(t),ka(!0)}clear(){return this.localStorage.clear(),ka(!0)}}oT.ngInjectableDef=at({factory:function(){return new oT},token:oT,providedIn:"root"});class aT{}aT.ngInjectableDef=at({factory:function(){return function(t,e){return Eh(t)&&"indexedDB"in window&&void 0!==indexedDB&&null!==indexedDB?new sT(e):Eh(t)&&"localStorage"in window&&void 0!==localStorage&&null!==localStorage?new rT(e):new oT}(ne(Be),ne(iT,8))},token:aT,providedIn:"root"});class lT{validate(t,e){if(!((e.hasOwnProperty("const")&&void 0!==e.const||e.hasOwnProperty("enum")&&null!=e.enum||e.hasOwnProperty("type")&&null!=e.type)&&"array"!==e.type&&"object"!==e.type||e.hasOwnProperty("properties")&&null!=e.properties||e.hasOwnProperty("items")&&null!=e.items))throw new Error("Each value must have a 'type' or 'properties' or 'items' or 'const' or 'enum', to enforce strict types.");return!(e.hasOwnProperty("const")&&void 0!==e.const&&t!==e.const||!this.validateEnum(t,e)||!this.validateType(t,e)||!this.validateItems(t,e)||!this.validateProperties(t,e)||!this.validateRequired(t,e))}isObjectNotNull(t){return null!==t&&"object"==typeof t}validateProperties(t,e){if(!e.hasOwnProperty("properties")||null==e.properties)return!0;if(!this.isObjectNotNull(t))return!1;if(Object.keys(e.properties).length!==Object.keys(t).length)return!1;for(const n in e.properties)if(e.properties.hasOwnProperty(n)&&t.hasOwnProperty(n)&&!this.validate(t[n],e.properties[n]))return!1;return!0}validateRequired(t,e){if(!e.hasOwnProperty("required")||null==e.required)return!0;if(!this.isObjectNotNull(t))return!1;for(const n of e.required){if(!e.properties||!e.properties.hasOwnProperty(n))throw new Error("'required' properties must be described in 'properties' too.");if(!t.hasOwnProperty(n))return!1}return!0}validateEnum(t,e){return!e.hasOwnProperty("enum")||null==e.enum||-1!==e.enum.indexOf(t)}validateType(t,e){if(!e.hasOwnProperty("type")||null==e.type)return!0;switch(e.type){case"null":return null===t;case"string":return this.validateString(t,e);case"number":case"integer":return this.validateNumber(t,e);case"boolean":return"boolean"==typeof t;case"object":return"object"==typeof t;case"array":return Array.isArray(t)}}validateItems(t,e){if(!e.hasOwnProperty("items")||null==e.items)return!0;if(!Array.isArray(t))return!1;if(e.hasOwnProperty("maxItems")&&null!=e.maxItems){if(!Number.isInteger(e.maxItems)||e.maxItems<0)throw new Error("'maxItems' must be a non-negative integer.");if(t.length>e.maxItems)return!1}if(e.hasOwnProperty("minItems")&&null!=e.minItems){if(!Number.isInteger(e.minItems)||e.minItems<0)throw new Error("'minItems' must be a non-negative integer.");if(t.length<e.minItems)return!1}if(e.hasOwnProperty("uniqueItems")&&null!=e.uniqueItems&&e.uniqueItems){const e=new Set(t);if(t.length!==e.size)return!1}if(Array.isArray(e.items))return this.validateItemsList(t,e);for(const n of t)if(!this.validate(n,e.items))return!1;return!0}validateItemsList(t,e){const n=e.items;if(t.length!==n.length)return!1;for(let i=0;i<n.length;i+=1)if(!this.validate(t[i],n[i]))return!1;return!0}validateString(t,e){if("string"!=typeof t)return!1;if(e.hasOwnProperty("maxLength")&&null!=e.maxLength){if(!Number.isInteger(e.maxLength)||e.maxLength<0)throw new Error("'maxLength' must be a non-negative integer.");if(t.length>e.maxLength)return!1}if(e.hasOwnProperty("minLength")&&null!=e.minLength){if(!Number.isInteger(e.minLength)||e.minLength<0)throw new Error("'minLength' must be a non-negative integer.");if(t.length<e.minLength)return!1}return!(e.hasOwnProperty("pattern")&&null!=e.pattern&&!new RegExp(e.pattern).test(t))}validateNumber(t,e){if("number"!=typeof t)return!1;if("integer"===e.type&&!Number.isInteger(t))return!1;if(e.hasOwnProperty("multipleOf")&&null!=e.multipleOf){if(e.multipleOf<=0)throw new Error("'multipleOf' must be a number strictly greater than 0.");if(!Number.isInteger(t/e.multipleOf))return!1}return!(e.hasOwnProperty("maximum")&&null!=e.maximum&&t>e.maximum||e.hasOwnProperty("exclusiveMaximum")&&null!=e.exclusiveMaximum&&t>=e.exclusiveMaximum||e.hasOwnProperty("minimum")&&null!=e.minimum&&t<e.minimum||e.hasOwnProperty("exclusiveMinimum")&&null!=e.exclusiveMinimum&&t<=e.exclusiveMinimum)}}lT.ngInjectableDef=at({factory:function(){return new lT},token:lT,providedIn:"root"});class hT{constructor(t,e){this.database=t,this.jsonValidator=e,this.getItemOptionsDefault={schema:null}}getItem(t,e=this.getItemOptionsDefault){return this.database.getItem(t).pipe(Y(t=>{if(e.schema&&null!==t){let n=!0;try{n=this.jsonValidator.validate(t,e.schema)}catch(t){return Pa(t)}if(!n)return Pa(new Error("JSON invalid"))}return ka(t)}))}setItem(t,e){return this.database.setItem(t,e)}removeItem(t){return this.database.removeItem(t)}clear(){return this.database.clear()}setItemSubscribe(t,e){this.setItem(t,e).subscribe(()=>{},()=>{})}removeItemSubscribe(t){this.removeItem(t).subscribe(()=>{},()=>{})}clearSubscribe(){this.clear().subscribe(()=>{},()=>{})}}hT.ngInjectableDef=at({factory:function(){return new hT(ne(aT),ne(lT))},token:hT,providedIn:"root"});class cT extends va{constructor(t){super(),this.title=t,this.setAppTitle(this.title.getTitle())}setAppTitle(t){super.setAppTitle(t)}}class uT{}class dT{}class pT{}class fT{constructor(t,e){Sh(e)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,e){return{ngModule:fT,providers:Array.isArray(e)?t.serverLoaded?[{provide:jx,useValue:t},{provide:Tx,useValue:e,multi:!0},{provide:Kx,useValue:!0}]:[{provide:jx,useValue:t},{provide:Tx,useValue:e,multi:!0}]:t.serverLoaded?[{provide:jx,useValue:t},{provide:Kx,useValue:!0}]:[{provide:jx,useValue:t}]}}}class mT{}class gT{}class _T{}class yT{static withComponents(t){return{ngModule:yT,providers:[{provide:ut,useValue:t,multi:!0}]}}}class vT{}class bT{constructor(t,e){}}var wT=function(t,e,n){return new class extends tn{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(Co)return;Co=!0;const t=Cn()?{setCurrentNode:$o,createRootView:So,createEmbeddedView:To,createComponentView:ko,createNgModuleRef:Oo,overrideProvider:Do,overrideComponentView:Po,clearOverrides:Mo,checkAndUpdateView:jo,checkNoChangesView:Vo,destroyView:Bo,createDebugContext:(t,e)=>new na(t,e),handleEvent:qo,updateDirectives:Go,updateRenderer:Yo}:{setCurrentNode:()=>{},createRootView:Eo,createEmbeddedView:no,createComponentView:ro,createNgModuleRef:ms,overrideProvider:nr,overrideComponentView:nr,clearOverrides:nr,checkAndUpdateView:ho,checkNoChangesView:lo,destroyView:mo,createDebugContext:(t,e)=>new na(t,e),handleEvent:(t,e,n,i)=>t.def.handleEvent(t,e,n,i),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?Lo:Fo,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?Lo:Fo,t)};Zi.setCurrentNode=t.setCurrentNode,Zi.createRootView=t.createRootView,Zi.createEmbeddedView=t.createEmbeddedView,Zi.createComponentView=t.createComponentView,Zi.createNgModuleRef=t.createNgModuleRef,Zi.overrideProvider=t.overrideProvider,Zi.overrideComponentView=t.overrideComponentView,Zi.clearOverrides=t.clearOverrides,Zi.checkAndUpdateView=t.checkAndUpdateView,Zi.checkNoChangesView=t.checkNoChangesView,Zi.destroyView=t.destroyView,Zi.resolveDep=Ls,Zi.createDebugContext=t.createDebugContext,Zi.handleEvent=t.handleEvent,Zi.updateDirectives=t.updateDirectives,Zi.updateRenderer=t.updateRenderer,Zi.dirtyParentQueries=Hs}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),i={};for(const r in t.providersByKey)i[r]=t.providersByKey[r];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:i}}(kr(this._ngModuleDefFactory));return Zi.createNgModuleRef(this.moduleType,t||jt.NULL,this._bootstrapComponents,e)}}(um,[],function(t){return function(t){const e={},n=[];let i=!1;for(let r=0;r<t.length;r++){const s=t[r];s.token===Re&&!0===s.value&&(i=!0),1073741824&s.flags&&n.push(s.token),s.index=r,e[rr(s.token)]=s}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:i}}([qr(512,Qe,Xe,[[8,[lg,rv,Kw,tC,rC,OC,iS,oS,hS,xx]],[3,Qe],Je]),qr(5120,mi,yi,[[3,mi]]),qr(4608,Hl,Wl,[mi,[2,zl]]),qr(5120,Le,Fe,[]),qr(5120,hi,gi,[]),qr(5120,ci,_i,[]),qr(4608,Tf,kf,[bh]),qr(6144,Wi,null,[Tf]),qr(4608,bf,Kf,[[2,qf],[2,zf]]),qr(5120,Gp,function(t,e,n,i,r,s,o,a){return[new class extends Kp{constructor(t,e,n){super(t),this.ngZone=e,n&&Sh(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[mf]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let i=n;if(!t[df]||ln.isInAngularZone()&&!_f(e))t.addEventListener(e,i,!1);else{let n=ff[e];n||(n=ff[e]=uf("ANGULAR"+e+"FALSE"));let r=t[n];const s=r&&r.length>0;r||(r=t[n]=[]);const o=_f(e)?Zone.root:Zone.current;if(0===r.length)r.push({zone:o,handler:i});else{let t=!1;for(let e=0;e<r.length;e++)if(r[e].handler===i){t=!0;break}t||r.push({zone:o,handler:i})}s||t[df](e,yf,!1)}return()=>this.removeEventListener(t,e,i)}removeEventListener(t,e,n){let i=t[pf];if(!i)return t.removeEventListener.apply(t,[e,n,!1]);let r=ff[e],s=r&&t[r];if(!s)return t.removeEventListener.apply(t,[e,n,!1]);let o=!1;for(let a=0;a<s.length;a++)if(s[a].handler===n){o=!0,s.splice(a,1);break}o?0===s.length&&i.apply(t,[e,yf,!1]):t.removeEventListener.apply(t,[e,n,!1])}}(t,e,n),new xf(i),new class extends Kp{constructor(t,e,n,i){super(t),this._config=e,this.console=n,this.loader=i}supports(t){return!(!vf.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let i=!1,r=()=>{i=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(r=(()=>{}));i||(r=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),r=(()=>{})}),()=>{r()}}return i.runOutsideAngular(()=>{const r=this._config.buildHammer(t),s=function(t){i.runGuarded(function(){n(t)})};return r.on(e,s),()=>r.off(e,s)})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}(r,s,o,a)]},[bh,ln,Be,bh,bh,bf,ze,[2,wf]]),qr(4608,Yp,Yp,[Gp,ln]),qr(135680,Xp,Xp,[bh]),qr(4608,sf,sf,[Yp,Xp]),qr(5120,Mg,Ky,[]),qr(5120,N_,Qy,[]),qr(4608,_y,Yy,[bh,Mg,N_]),qr(5120,An,Xy,[sf,_y,ln]),qr(6144,Qp,null,[Xp]),qr(4608,mn,mn,[ln]),qr(4608,dm,Vy,[An,jp]),qr(4608,$x,qx,[Bx,zx]),qr(5120,qw,$w,[Hw]),qr(5120,Ue,function(t,e,n){return[function(t,e){return()=>{if(Eh(e)){const e=/\bflex-layout-.+?\b/g;Array.from(t.querySelectorAll("[class*=flex-layout-]")).forEach(t=>{t.classList.contains("flex-layout-ssr")&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(e,"")})}}}(t,e),n]},[bh,Be,qw]),qr(5120,Ou,Iu,[Tu,[2,ku]]),qr(4608,zu,zu,[Tu,[2,ku],Be,ln]),qr(4608,Ru,Ru,[Tu,[2,ku],[2,Eu],Be,ln]),qr(4608,Kc,Kc,[hT]),qr(4608,Vu,Vu,[Ru]),qr(6144,Fu,null,[Vu]),qr(4608,ju,ju,[Kc]),qr(4608,Xu,Xu,[ju]),qr(4608,Yu,Yu,[zu]),qr(4608,ll,ll,[bw]),qr(4608,Ec,Ec,[pc,mc,Qe,wc,fc,jt,ln,bh,Pm]),qr(5120,Sc,xc,[Ec]),qr(4608,dl,dl,[]),qr(4608,va,cT,[jf]),qr(4608,Ca,Ca,[]),qr(4608,pd,pd,[Fu]),qr(4608,fd,fd,[pd,Ca]),qr(4608,Md,Md,[Fu]),qr(4608,Ld,Ld,[Md,Ca]),qr(4608,Sd,Sd,[Fu]),qr(4608,zd,zd,[Sd,Ca]),qr(4608,Wd,Wd,[zd]),qr(4608,Yd,Yd,[Fu]),qr(4608,Qd,Jd,[bw,Yd,Ca]),qr(4608,tp,tp,[bw]),qr(4608,np,np,[Qd]),qr(4608,op,op,[Fu]),qr(4608,ap,ap,[op,Ca]),qr(4608,hp,hp,[ap]),qr(4608,cp,cp,[Sd,Ca]),qr(4608,dp,dp,[cp]),qr(4608,_p,_p,[bw]),qr(4608,Td,Td,[Sd,Ca]),qr(4608,gC,_C,[]),qr(5120,Mb,zw,[bw]),qr(4608,Iw,Iw,[]),qr(6144,kw,null,[Iw]),qr(135680,Aw,Aw,[bw,Mn,We,jt,kw]),qr(4608,Ow,Ow,[]),qr(5120,Rw,Fw,[bw,xh,Dw]),qr(1073742336,vh,vh,[]),qr(1024,ue,Nf,[]),qr(1024,En,function(){return[Nw()]},[]),qr(512,Hw,Hw,[jt]),qr(1024,Me,function(t,e){return[function(t){return Wp("probe",qp),Wp("coreTokens",Object.assign({},$p,(t||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>qp}(t),Ww(e)]},[[2,En],Hw]),qr(512,Ne,Ne,[[2,Me]]),qr(131584,On,On,[ln,ze,jt,ue,Qe,Ne]),qr(1073742336,vi,vi,[On]),qr(1073742336,Lf,Lf,[[3,Lf]]),qr(1073742336,Jy,Jy,[]),qr(1073742336,Gx,Gx,[]),qr(1073742336,Mm,Mm,[]),qr(1073742336,uT,uT,[]),qr(1073742336,dT,dT,[]),qr(1073742336,pT,pT,[]),qr(1073742336,fT,fT,[[2,Kx],Be]),qr(1073742336,Au,Au,[]),qr(1073742336,$u,$u,[]),qr(1073742336,Du,Du,[]),qr(1073742336,Ju,Ju,[]),qr(1073742336,hl,hl,[]),qr(1073742336,wl,wl,[]),qr(1073742336,Ah,Ah,[]),qr(1073742336,zh,zh,[]),qr(1073742336,Tc,Tc,[]),qr(1073742336,Ic,Ic,[]),qr(1073742336,Bc,Bc,[]),qr(1073742336,ud,ud,[]),qr(1073742336,ba,ba,[]),qr(1073742336,Ea,Ea,[]),qr(1073742336,gd,gd,[]),qr(1073742336,zf,zf,[[2,Uf]]),qr(1073742336,im,im,[]),qr(1073742336,fg,fg,[]),qr(1073742336,jm,jm,[]),qr(1073742336,Ud,Ud,[]),qr(1073742336,hm,hm,[]),qr(1073742336,vd,vd,[]),qr(1024,Pw,Vw,[[3,bw]]),qr(512,nb,ib,[]),qr(512,Sw,Sw,[]),qr(256,Dw,{},[]),qr(1024,Dl,jw,[Al,[2,Pl],Dw]),qr(512,Ml,Ml,[Dl]),qr(512,We,We,[]),qr(512,Mn,Bn,[We,[2,jn]]),qr(1024,pw,function(){return[[]]},[]),qr(1024,bw,Uw,[On,nb,Sw,Ml,jt,Mn,We,pw,Dw,[2,mw],[2,uw]]),qr(1073742336,Lw,Lw,[[2,Pw],[2,bw]]),qr(1073742336,dS,dS,[]),qr(1073742336,Zd,Zd,[]),qr(1073742336,rp,rp,[]),qr(1073742336,gp,gp,[]),qr(1073742336,HS,HS,[]),qr(1073742336,bp,bp,[]),qr(1073742336,mT,mT,[]),qr(1073742336,Pd,Pd,[]),qr(1073742336,gT,gT,[]),qr(1073742336,_T,_T,[]),qr(1073742336,yT,yT,[]),qr(1073742336,vT,vT,[]),qr(1073742336,Cp,Cp,[]),qr(1073742336,rx,rx,[]),qr(1073742336,sx,sx,[]),qr(1073742336,ox,ox,[]),qr(1073742336,lx,lx,[]),qr(1073742336,hx,hx,[]),qr(1073742336,KE,KE,[]),qr(1073742336,eE,eE,[]),qr(1073742336,cx,cx,[]),qr(512,cm,cm,[]),qr(512,nx,nx,[cm]),qr(512,ux,ux,[nx]),qr(1073742336,bT,bT,[nx,ux]),qr(1073742336,um,um,[cm,jt]),qr(256,Re,!0,[]),qr(256,Zy,"BrowserAnimations",[]),qr(256,Tu,Zu,[])])})}();(function(){if(bn)throw new Error("Cannot enable prod mode after platform setup.");vn=!1})(),Mf().bootstrapModuleFactory(wT).catch(t=>console.log(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error('Cannot find module "'+t+'".');throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[3,0]]]);